webpackJsonp([1],{"/wTy":function(t,e,i){"use strict";var n=i("skhT"),o=i("Ji6t"),r=i("2DuQ");i.n(r);e.a={name:"Snake",render:function(){var t=this,e=arguments[0];return e("main",{class:"snake"},[e("section",[e("div",{class:"snake__container",ref:"container"},[e("transition",{attrs:{name:"fade"}},[e("div",{class:"snake__mode-wrapper",directives:[{name:"show",value:this.modeVisible}]},[e("div",{class:"snake__mode"},[this.modes.map(function(i){return e("button",{attrs:{type:"button"},on:{click:function(){return t.start(i.name)}}},[i.label])})])])])])]),e("section",{directives:[{name:"show",value:this.showInfo}],class:"snake__info"},[e("div",{class:"form-group"},[e("span",["分数:"]),e("span",[this.score])]),e("div",{class:"form-group"},[e("span",["速度:"]),e("span",[this.speed])])])])},props:{window:{required:!0,type:Object}},data:function(){return{modes:[{name:"common",label:"普通模式"},{name:"level",label:"过关模式"},{name:"dodge",label:"躲避模式"}],mode:null,modeVisible:!0,score:null,speed:null}},computed:{showInfo:function(){return![this.speed,this.score].some(function(t){return!t&&0!==t})}},methods:{showModes:function(){this.modeVisible=!0},message:function(t,e){return Object(o.a)({title:"消息提醒",message:t,cb:e},this.$refs.container)},start:function(t){this.modeVisible&&(this.modeVisible=!1,this.mode=t,this.updateMode())},updateMode:function(t,e){switch(this.score=t||0,this.mode){case"common":this.updateCommonMode(t,e);break;case"level":this.updateLevelMode(t,e);break;case"dodge":this.updateDodgeMode(t,e)}},updateCommonMode:function(t,e){var i=this.$_snake;if(t){var n=1+10*Math.floor(t/10);this.speed=n}else i.prepareStart(),this.speed=1},updateLevelMode:function(){for(var t=[],e=0,i=0;i<5;i++)t.push({scroe:5*(i+1),speed:1+5*i});return function(i,n){var o=this,r=t[e],s=this.$_snake;if(!i)return void function(){s.prepareStart(),o.speed=t[0].speed}();i>=r.scroe&&(s.disable(),e>=t.length-1?this.message("厉害啊大兄弟，通关啦！",function(){o.showModes(),e=0}):this.message("下一关啦！",function(){var i=t[e+1];s.prepareStart(),o.speed=i.speed,e++}))}}(),updateDodgeMode:function(){for(var t=0,e=[],i=0;i<5;i++)e.push({scroe:5*(i+1),speed:1+5*i,walls:10*(i+1)});return function(i){var n=this,o=this.$_snake;if(!i)return void function(){o.prepareStart(),n.speed=e[0].speed,o.fillWall(e[0].walls),o.draw()}();i>=e[t].scroe&&(o.disable(),t>=e.length-1?this.message("牛逼啊大兄弟，通关啦！",function(){n.showModes(),t=0}):this.message("下一关啦！",function(){var i=e[t+1];o.prepareStart(),n.speed=i.speed,o.fillWall(i.walls),o.draw(),t++}))}}(),snedEndMessage:function(t){var e=this,i=t.message;this.message(i,function(){e.showModes()})}},mounted:function(){var t=this.window,e=t.width>767?600:Math.min(t.width,t.height);this.$_snake=new n.a(this.$refs.container,{scoreCallback:this.updateMode,endCallback:this.snedEndMessage,width:e,height:e})},beforeDestroy:function(){this.$_snake.destroy()},watch:{speed:function(t){var e=this.$_snake;e&&e.speed!==t&&(e.speed=t)}}}},"2DuQ":function(t,e){},"7cOp":function(t,e,i){t.exports=i.p+"img/default.b8b85b3.jpg"},A7y6:function(t,e,i){"use strict";var n=i("Xxa5"),o=i.n(n),r=i("exGp"),s=i.n(r),a=i("BO1k"),h=i.n(a),c=i("woOf"),u=i.n(c),l=i("Zrlr"),d=i.n(l),f=i("wxAW"),p=i.n(f),v=i("DKtG"),m=function(){function t(e){var i=this;d()(this,t),this.dataset=[],this.more=!0,this.loading=!1,this.scrollEventSource=window,this.debounceCheckdataset=Object(v.a)(function(){return i.checkDataset()},100);var n={contentElement:null,scrollElement:document.documentElement,getDataset:null,noDataHtml:"",loadingHtml:"",threshold:400,autoDestroy:!0,render:function(t,e){return"<div>"+e+"</div>"}},o=["contentElement","getDataset"],r=!0,s=!1,a=void 0;try{for(var c,l=h()(o);!(r=(c=l.next()).done);r=!0){var f=c.value;if(!e[f])return void console.warn("Option: "+f+" can not be empty")}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}e.scrollElement&&(this.scrollEventSource=e.scrollElement),u()(n,e),this.op=n,this.init()}return p()(t,[{key:"shouldGetDataset",value:function(){var t=this.op,e=t.scrollElement,i=t.threshold,n=e.scrollHeight-e.scrollTop-e.clientHeight;return!this.loading&&this.more&&n<i}},{key:"checkDataset",value:function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.shouldGetDataset()){t.next=4;break}return t.next=3,this.fillMoreDataset();case 3:this.checkDataset();case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"fillMoreDataset",value:function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.op.getDataset(this.dataset.length);case 3:e=t.sent,this.loading=!1,e.dataset&&e.dataset.length&&(this.dataset=this.dataset.concat(e.dataset),this.more=e.more,!this.more&&this.op.autoDestroy&&this.destroy(),this.updateView());case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateView",value:function(){var t=this.op,e=t.render,i=t.contentElement,n=t.noDataHtml,o=t.loadingHtml,r=void 0;r=this.dataset.map(e).join(""),r||this.loading?this.more&&(r+=o):r=n,i.innerHTML=r}},{key:"destroy",value:function(){this.scrollEventSource.removeEventListener("scroll",this.debounceCheckdataset)}},{key:"init",value:function(){this.scrollEventSource.addEventListener("scroll",this.debounceCheckdataset),this.checkDataset(),this.updateView()}}]),t}();e.a=m},Apwk:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("d7EF"),o=i.n(n),r=i("woOf"),s=i.n(r),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("sjd4"),d=i("Zh5h"),f=i("zOqJ"),p=(i.n(f),function(){function t(e,i){h()(this,t);var n={lineWidth:1,padding:10};Object(d.a)(e,i);i&&s()(n,i),this._options=n,this._canvas=e,this.init()}return u()(t,[{key:"init",value:function(){var t=this,e=this._canvas,i=e.getContext("2d"),n=this._options,o=n.width,r=n.height,s=n.lineWidth,a=n.padding,h=o-2*a,c=r-2*a;i.lineWidth=s,this._ctx=i,this._contentWidth=h,this._contentHeight=c,this.initBackground(),this._id=Object(l.a)(e,function(e){var i=e.x,n=e.y;t.setCoordinate(i,n)})}},{key:"initBackground",value:function(){var t=this._ctx,e=(this._color,this._options),i=e.padding,n=e.width,o=e.height,r=t.createLinearGradient(n/2,o-i,n/2,i),s=t.createLinearGradient(i,o/2,n-i,o/2);s.addColorStop(0,"#fff"),s.addColorStop(1,"rgba(0,0,0,0)"),r.addColorStop(0,"#000"),r.addColorStop(1,"rgba(0,0,0,0)"),this._whiteGradient=s,this._blackGradient=r}},{key:"fillColor",value:function(){var t=this._ctx,e=this._contentWidth,i=this._contentHeight,n=this._hue,o=this._options.padding;n&&(t.save(),t.fillStyle=n,t.fillRect(o,o,e,i),t.restore(),[this._whiteGradient,this._blackGradient].forEach(function(n){t.fillStyle=n,t.fillRect(o,o,e,i),t.restore()}))}},{key:"setCoordinate",value:function(t,e){var i=this._options.padding,n=this._contentHeight,o=this._contentWidth,r=void 0,s=void 0;if(r=t<i?i:t>o+i?o+i:t,s=e<i?i:e>n+i?n+i:e,this._x=r,this._y=s,this._options.onColorChange){var a={h:this.color.h,s:(r-i)/o,v:1-(s-i)/n};this._color=a,this._options.onColorChange(a)}this.draw()}},{key:"renderPointer",value:function(){var t=this._options.padding,e=this._x,i=this._y;if(void 0!==e&&void 0!==i){var n=this._ctx;n.save(),n.strokeStyle="#000",n.beginPath(),n.arc(e,i,t/2,0,2*Math.PI),n.stroke(),n.restore(),n.strokeStyle="#fff",n.beginPath(),n.arc(e,i,t/2-this._options.lineWidth,0,2*Math.PI),n.stroke(),n.restore()}}},{key:"updateHue",value:function(){var t=this._color&&this._color.h;if("number"==typeof t){var e=f.hsv.rgb(t,100,100),i=o()(e,3),n=i[0],r=i[1],s=i[2];this._hue="rgb("+n+","+r+","+s+")"}}},{key:"updateCoordinate",value:function(){var t=this._contentWidth,e=this._contentHeight,i=this._options;this._x=this._color.s*t+i.padding,this._y=(1-this.color.v)*e+i.padding}},{key:"draw",value:function(){var t=this._ctx,e=(this._x,this._y,this._options),i=e.width,n=e.height;t.clearRect(0,0,i,n),this.fillColor(),this.renderPointer()}},{key:"destroy",value:function(t){Object(l.b)(this._id),t&&this._canvas.parentNode.removeChild(this._canvas)}},{key:"color",set:function(t){var e=this,i=["h","s","v"],n=s()({},this._color,t),o={h:n.h,s:n.s,v:n.v};this._color&&i.every(function(t){return o[t]===e._color[t]})||(this._color=o,this.updateHue(),this.updateCoordinate(),this.draw())},get:function(){return this._color}}]),t}())},BcO5:function(t,e,i){"use strict";var n=i("d7EF"),o=i.n(n),r=i("woOf"),s=i.n(r),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("Zh5h"),d=function(){function t(e,i){var n=this;h()(this,t),this._offset=0,this._alarms=[],this.draw=function(){var t=n.getCurrentTime(),e=n._ctx,i=n._options,o=i.width,r=i.height,s=i.color,a=i.radius,h={x:o/2,y:r/2},c=.08*a,u=a-c/2;e.clearRect(0,0,o,r),e.save(),e.strokeStyle=s,e.lineWidth=c,e.beginPath(),e.arc(h.x,h.y,u,0,2*Math.PI),e.stroke(),e.restore(),e.save();var l=c+.02*a;e.fillStyle=s,e.translate(a,a);for(var d=0;d<60;d++){var f=d%5==0?a/35:a/70,p=.1*a,v=-f/2,m=l-a;e.beginPath(),e.rect(v,m,f,p),e.fill(),e.rotate(2*Math.PI/60)}e.restore(),e.save();var g=a-.31*a,_=.18*a;e.fillStyle=s,e.font=_+"px sans-serif",e.textAlign="center",e.textBaseline="middle";for(var y=1;y<=12;y++){var w=2*Math.PI*y/12,b=n.getCoordinate(g,w),k=b.x,x=b.y;e.fillText(y.toString(),k,x)}e.font=.6*_+"px sans-serif",e.fillText(t.hour<12?"A.M":"P.M",h.x,.3*r),e.restore(),e.save();var C=[{topY:-.72,bottomY:.24,degree:t.secondDegree,bottomWidth:.02,topWidth:.01},{topY:-.6,bottomY:.18,degree:t.minuteDegree,bottomWidth:.06,topWidth:.03},{topY:-.4,bottomY:.13,degree:t.hourDegree,bottomWidth:.045,topWidth:.02}],M=Math.tan(2*Math.PI*60/360),S=Math.tan(2*Math.PI*30/360);e.fillStyle=s,C.forEach(function(t){var i=a*t.bottomY,n=a*t.bottomWidth/2,o=n/M,r=a*t.topY,s=a*t.topWidth/2,h=s/S;e.translate(a,a),e.rotate(t.degree),e.beginPath(),e.moveTo(0,i),e.lineTo(-n,i-o),e.lineTo(-s,r+h),e.lineTo(0,r),e.lineTo(s,r+h),e.lineTo(n,i-o),e.lineTo(0,i),e.fill(),e.setTransform(1,0,0,1,0,0)}),e.restore(),e.save(),e.fillStyle="#ffffff",e.beginPath(),e.arc(h.x,h.y,.02*a,0,2*Math.PI),e.fill(),e.restore(),n.checkAlarms(t.date),n._requestId=window.requestAnimationFrame(n.draw)};var o={color:"#9b9b9b"},r=Object(l.a)(e,i,{width:300,height:300}),a=r.canvas;this._canvas=a,this._ctx=a.getContext("2d"),s()(o,i,{width:r.width,height:r.height});var c=Math.min(o.width,o.height)/2;(!o.radius||o.radius>c||o.radius<=1)&&(o.radius=c),this._options=o,this.draw()}return u()(t,[{key:"getCoordinate",value:function(t,e){var i=this._options.radius;return{x:i+t*Math.sin(e),y:i-t*Math.cos(e)}}},{key:"getCurrentTime",value:function(){var t=new Date,e="number"==typeof this._offset?new Date(t.getTime()+this._offset):t,i=[e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],n=i[0],r=i[1],s=i[2],a=i[3],h=s+a/1e3,c=r+h/60,u=n+c/60,l=[u/12,c/60,h/60].map(function(t){return 2*t*Math.PI}),d=o()(l,3);return{date:e,hourDegree:d[0],minuteDegree:d[1],secondDegree:d[2],hour:n,minute:r,second:s}}},{key:"checkAlarms",value:function(t){var e=this._alarms;if(e&&e.length)for(var i=0;i<e.length;i++){var n=e[i];Math.abs(t.getTime()-n.time.getTime())<500&&(n.repeat||(this._alarms.splice(i,i+1),i--),n.cb())}}},{key:"addAlarm",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._alarms||(this._alarms=[]),this._alarms.push({time:t,cb:e,repeat:i})}},{key:"clearAlarms",value:function(){this._alarms=[]}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._requestId&&window.cancelAnimationFrame(this._requestId),t&&this._canvas&&this._canvas.parentNode.removeChild(this._canvas)}},{key:"offset",set:function(t){this._offset=t},get:function(){return this._offset}},{key:"alarms",get:function(){return this._alarms}}]),t}();e.a=d},"Bi/j":function(t,e,i){"use strict";function n(t){var e=[],i=window.innerWidth,n=window.innerHeight,o=.04*i,r=.06*n,s=.01*i,a=.01*i,h=function(t,e){var i=t.el,o=e.el,h=e.top+o.offsetHeight+s;h+i.offsetHeight>n?t.setPosition(r,e.right+o.offsetWidth+a):t.setPosition(h,e.right)};return function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.delay,s=new l(i);e.length>0?h(s,e[e.length-1]):s.setPosition(r,o),e.push(s),s.show(),setTimeout(function(){if(s.hide(),e.splice(0,1),e.length>0&&(e[0].setPosition(r,o),e.length>1))for(var t=1,i=e.length;t<i;t++)h(e[t],e[t-1])},n)}}e.a=n;var o=i("woOf"),r=i.n(o),s=i("Zrlr"),a=i.n(s),h=i("wxAW"),c=i.n(h),u=i("ZN6m"),l=(i.n(u),function(){function t(e){var i=this;a()(this,t),this.show=function(){i._el.classList.add("show")},this.hide=function(){i._el.classList.remove("show"),i._el.classList.add("hide"),setTimeout(function(){document.body.removeChild(i._el)},300)},this._message=e,this.init()}return c()(t,[{key:"init",value:function(){var t=document.createElement("div");t.classList.add("toast"),t.innerHTML=this._message,document.body.appendChild(t),this._el=t}},{key:"setPosition",value:function(t,e){var i=this.el;this.top=t,this.right=e,r()(i.style,{top:t+"px",right:e+"px"})}},{key:"el",get:function(){return this._el}}]),t}())},DKtG:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r});var n=i("Bi/j"),o=Object(n.a)({delay:5e3}),r=function(t,e){var i=null;return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];i&&clearTimeout(i),i=setTimeout(function(){t.apply(void 0,o)},e)}}},ERc4:function(t,e,i){"use strict";var n=i("BO1k"),o=i.n(n),r=i("woOf"),s=i.n(r),a=i("MICi"),h=i.n(a),c=i("opwO"),u=i("tfLI");i.n(u);e.a={name:"ColorPicker",data:function(){return{color:{r:null,g:null,b:null,h:null,s:null,l:null,hex:""}}},render:function(){var t=this,e=arguments[0];return e("div",{class:"color-picker"},[e("section",{class:"picker-wrapper"},[e("div",{attrs:{id:"picker"},ref:"picker"})]),e("section",[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{class:"row"},[["r","g","b"].map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i}},[i.toUpperCase(),":"]),e("input",{attrs:{type:"number",max:"255",min:"0",step:"1"},domProps:{value:t.color[i]},on:{input:function(e){return t.updateInput(e,i)}}})])})]),e("div",{class:"row"},[["h","s","l"].map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i}},[i.toUpperCase(),":"]),e("input",{attrs:{type:"number",max:"1",min:"0",step:"0.05"},domProps:{value:t.color[i]},on:{input:function(e){return t.updateInput(e,i)}}})])})]),e("div",{class:"row"},[e("div",{class:"form-group"},[e("label",{attrs:{for:"hex"}},["#"]),e("input",{domProps:{value:this.color.hex.toUpperCase()},attrs:{type:"text"},on:{input:this.updateColorByHEX}})])])])]),e("section",[e("div",{class:"color-picker__preview",style:{backgroundColor:"#"+this.color.hex}})])])},methods:{updateInput:function(t,e){var i=t.target,n=Number(i.value),o=Number(i.getAttribute("max")),r=Number(i.getAttribute("min")),a=n;h()(n)&&(a=r),a>o&&(a=o),a<r&&(a=r);var c=s()({},this.color);switch(c[e]=a,e){case"r":case"g":case"b":this.updateColorByRGB(c);break;case"h":case"s":case"l":this.updateColorByHSL(c)}},updateColorByRGB:function(t){var e=t.r,i=t.g,n=t.b;[e,i,n].some(function(t){return"number"!=typeof t})||(this.$_picker.color={r:e,g:i,b:n})},updateColorByHSL:function(t){var e=t.h,i=t.s,n=t.l;[e,i,n].some(function(t){return"number"!=typeof t})||(this.$_picker.color={h:e,s:i,l:n})},updateColorByHEX:function(t){var e=t.target.value;if(6===e.length){var i=!0,n=!1,r=void 0;try{for(var s,a=o()(e);!(i=(s=a.next()).done);i=!0){var c=s.value,u=parseInt(c,16);if(h()(u)||u>15)return}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}this.$_picker.color={hex:e}}}},mounted:function(){var t=this;this.$_picker=new c.a(this.$refs.picker,{onColorChange:function(e){s()(t.color,e)}})},beforeDestroy:function(){this.$_picker&&this.$_picker.destroy()}}},EpNZ:function(t,e){},G2oq:function(t,e,i){"use strict";e.a={name:"NotFound",render:function(){return(0,arguments[0])("p",["404 Not Found."])}}},Ji6t:function(t,e,i){"use strict";var n=i("Dd8w"),o=i.n(n),r=i("nvbp"),s=i.n(r),a=i("7+uW"),h=i("bQEd"),c=(i.n(h),a.a.extend({data:function(){return{message:"",title:"",cb:null,visible:!1}},render:function(){var t=arguments[0],e=this.cb,i=e?{click:e}:{};return t("transition",{attrs:{name:"fade"},on:{"after-leave":this.doDestroy}},[t("div",{class:"message__wrapper",directives:[{name:"show",value:this.visible}]},[t("div",{class:"message__mask"}),t("div",{class:"message"},[t("header",{class:"message__header"},[this.title]),t("div",{class:"message__content"},[this.message]),t("footer",{class:"message__footer"},[t("button",s()([{attrs:{type:"button"}},{on:i}]),["确定"])])])])])},methods:{doDestroy:function(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}}}));e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=new c({data:function(){return o()({},t,{cb:function(){t.cb&&t.cb(),i.visible=!1}})}});i.$mount(),e.appendChild(i.$el),i.visible=!0}},KLe5:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s});var n=!!window.localStorage,o="DING_MENU_VISIBLE",r=function(){if(!n)return!0;var t=localStorage.getItem(o);try{return JSON.parse(t)}catch(t){return!0}},s=function(t){n&&localStorage.setItem(o,t)}},MQob:function(t,e,i){"use strict";var n=i("Zrlr"),o=i.n(n),r=i("wxAW"),s=i.n(r),a=function(){function t(e){o()(this,t),this._spend=0,this._complete=!1;var i=e.x,n=e.y;this._init={x:i,y:n},this._current={x:i,y:n},this._options=e}return s()(t,[{key:"to",value:function(t,e){return this._next=t,this._time=e,this}},{key:"start",value:function(){return this._prevTime=Date.now(),this.update(),this}},{key:"update",value:function(){var t=Date.now();if(this._spend=this._spend+(t-this._prevTime),this._spend>=this._time)return void(this._complete=!0);this._prevTime=t;var e=this._spend/this._time;this._current={x:this._init.x+(this._next.x-this._init.x)*e,y:this._init.y+(this._next.y-this._init.y)*e},this._options.onUpdate(this._current)}},{key:"complete",get:function(){return this._complete}}]),t}();e.a=a},"QSz+":function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("d7EF"),o=i.n(n),r=i("woOf"),s=i.n(r),a=i("Zrlr"),h=i.n(a),c=i("wxAW"),u=i.n(c),l=i("sjd4"),d=i("Zh5h"),f=i("zOqJ"),p=(i.n(f),function(){function t(e,i){h()(this,t);var n={lineWidth:1,padding:10};Object(d.a)(e,i);i&&s()(n,i),this._options=n,this._canvas=e,this.init()}return u()(t,[{key:"init",value:function(){for(var t=this,e=this._options,i=e.padding,n=e.width,r=e.height,s=this._canvas,a=s.getContext("2d"),h=a.createLinearGradient(i,i,i,r-2*i),c=0;c<=6;c++){var u=c/6,d=f.hsv.rgb(360*u,100,100),p=o()(d,3),v=p[0],m=p[1],g=p[2];h.addColorStop(c/6,"rgb("+v+","+m+","+g+")")}this._contentWidth=n-2*i,this._contentHeight=r-2*i,this._gradient=h,this._ctx=a,a.lineWidth=this._options.lineWidth,this._id=Object(l.a)(s,function(e){t.setCoordinate(e.y)})}},{key:"fillBackground",value:function(){var t=this._gradient,e=this._ctx,i=this._options,n=i.padding;i.width,i.height;e.fillStyle=t,e.fillRect(n,n,this._contentWidth,this._contentHeight)}},{key:"setCoordinate",value:function(t){var e=this._options,i=e.padding,n=e.height,o=void 0;if(o=t<i?i:t>n-i?n-i:t,this._y!==o){if(this._y=o,this._options.onColorChange){var r=(o-i)/this._contentHeight,s=Math.floor(360*r),a={h:s};this._color=a,this._options.onColorChange(a)}this.draw()}}},{key:"renderSlider",value:function(){if("number"==typeof this._y){var t=this._options,e=t.padding,i=t.width,n=(t.height,t.lineWidth),o=this._y,r=i,s=e/2,a=this._ctx;a.save(),a.strokeStyle="#000",a.strokeRect(0,o-s/2,r,s),a.strokeStyle="#fff",a.strokeRect(n,o-s/2+n,r-2*n,s-2*n),a.stroke(),a.restore()}}},{key:"draw",value:function(){var t=this._options,e=t.width,i=t.height;this._ctx.clearRect(0,0,e,i),this.fillBackground(),this.renderSlider()}},{key:"destroy",value:function(t){Object(l.b)(this._id),t&&this._canvas.parentNode.removeChild(this._canvas)}},{key:"color",set:function(t){if(!this._color||t.h!==this._color.h){var e=this._options.padding,i=t.h/360,n=this._contentHeight*i+e;this.setCoordinate(n)}},get:function(){return this._color}}]),t}())},ZN6m:function(t,e){},Zh5h:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("d7EF"),o=i.n(n),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!t.tagName)return void console.warn("Invaid element");var n=["width","height"].map(function(n){return"number"==typeof e[n]?e[n]:+t.getAttribute(n)||i[n]||+t["offset"+n.charAt(0).toUpperCase()+n.slice(1)]||0}),r=o()(n,2),s=r[0],a=r[1],h=void 0;return"CANVAS"===t.tagName?h=t:(h=document.createElement("canvas"),t.appendChild(h)),h.setAttribute("width",s),h.setAttribute("height",a),{canvas:h,width:s,height:a}}},bQEd:function(t,e){},fFCS:function(t,e){},gC63:function(t,e,i){"use strict";var n=i("woOf"),o=i.n(n),r=i("Xxa5"),s=i.n(r),a=i("exGp"),h=i.n(a),c=i("MICi"),u=i.n(c),l=i("iUmz"),d=i("DKtG"),f=i("7cOp"),p=(i.n(f),i("fFCS")),v=(i.n(p),document.createElement("a")),m=0;e.a={name:"Cropper",props:{window:{required:!0,type:Object}},data:function(){return{cropperOptions:{width:200,height:200,x:0,y:0},pickText:"点击选择要裁剪的图片",preview:[.6,.9,1.2]}},render:function(t){var e=this;return t("div",{class:"cropper"},[t("section",[t("form",[t("div",{class:"form-group"},[t("input",{attrs:{placeholder:"宽",type:"number",min:"0",max:this.containerSize.width,name:"width"},domProps:{value:this.cropperOptions.width},on:{input:function(t){e.updateSize(t,"width")}}}),t("input",{attrs:{placeholder:"高",type:"number",min:"0",max:this.containerSize.height,name:"height"},domProps:{value:this.cropperOptions.height},on:{input:function(t){e.updateSize(t,"height")}}})]),t("div",{class:"form-group"},[t("button",{attrs:{type:"button"},on:{click:this.setCropper}},["修改大小"]),t("button",{attrs:{type:"button"},on:{click:this.doCrop}},["裁剪"])]),t("div",{class:"form-group"},[t("label",{attrs:{for:"file",id:"pick-file"},class:"cropper__pick"},[this.pickText]),t("input",{attrs:{type:"file",id:"file",accept:"image/jpeg,image/x-icon,image/png"},on:{change:this.uploadImg}})])])]),t("section",[t("div",{ref:"container",class:"cropper__container"})]),t("section",[this.preview.map(function(e){return t("div",{class:"cropper__preview",ref:"preview-"+e})})])])},computed:{containerSize:function(){var t=this.window,e=t.width,i=t.height;if(e>767)return{width:700,height:450};var n=Math.min(e,i);return{width:n,height:n}}},methods:{updateSize:function(t,e){var i=this.cropperOptions,n=this.containerSize,o=Number(t.target.value),r=o;(u()(o)||o<=0)&&(r=1),o>n[e]&&(r=n[e]),i[e]=r},uploadImg:function(t){var e=t.target;if(e.value&&!(e.files.length<1)){var i=e.files[0];i.type.match(/^image\/.+/)?(this.$_cropper.image=i,this.pickText=i.name):Object(d.b)("请选择正确的图片")}},setCropper:function(){if(this.$_cropper){var t=this.cropperOptions,e=t.width,i=t.height;if([e,i].some(function(t){return[function(t){return!!t},function(t){return t>0}].some(function(e){return!e(t)})}))return void Object(d.b)("请输入正确的宽高!");this.$_cropper.cropper={width:e,height:i}}},doCrop:function(){var t=this;return h()(s.a.mark(function e(){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$_cropper.crop();case 3:i=e.sent,v.href=i,v.download="dingjs-cropper-"+ ++m+".png",v.click(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(d.b)('不支持HTML5,建议使用<a href="https://www.google.com/chrome/">「Chrome浏览器」浏览本页面!</a>');case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},init:function(){var t=this,e=this.containerSize,i=e.width,n=e.height;this.$_cropper=new l.a(this.$refs.container,{preview:this.preview.map(function(e,i){return{zoom:e,container:t.$refs["preview-"+e]}}),width:i,height:n,onCropperChange:function(e){o()(t.cropperOptions,e)}}),this.setDefault()},setDefault:function(){var t=this,e=new Image;e.src=f,e.onload=function(){t.$_cropper.image=e}}},mounted:function(){this.init()},beforeDestroy:function(){this.$_cropper.destroy()}}},gtjp:function(t,e){},iUeW:function(t,e,i){"use strict";var n=i("DKtG"),o=i("KLe5"),r=i("gtjp"),s=(i.n(r),function(){return{width:window.innerWidth,height:window.innerHeight}});e.a={name:"App",data:function(){return{menus:[{label:"动画时钟",name:"Clock"},{label:"颜色选择器",name:"ColorPicker"},{label:"图片裁剪器",name:"Cropper"},{label:"无限滚动列表",name:"InfiniteScroll"},{label:"贪食蛇",name:"Snake"}],menusVisible:Object(o.a)(),window:s(),contentOffsetTop:0}},computed:{isMobile:function(){return this.window.width<768},shouldMenuVisible:function(){return!this.isMobile||this.menusVisible}},render:function(){var t=arguments[0];return t("div",{attrs:{id:"app"},class:"app"},[t("header",{class:"app__header"},[t("h1",{class:"app__logo"},[t("router-link",{attrs:{to:"/"}},["ding-js | ife"])]),t("nav",{class:"app__nav",directives:[{name:"show",value:this.shouldMenuVisible}]},[this.menus.map(function(e){return t("router-link",{key:e.name,attrs:{to:{name:e.name},tag:"li"}},[t("a",[e.label])])}),t("li",[t("a",{attrs:{href:"https://github.com/ding-js/ife/tree/master/src/containers/"+this.$route.name,target:"_blank"}},["查看源码"])])]),this.isMobile?t("div",[t("svg",{on:{click:this.expandToggle},attrs:{fill:"#666",height:"36",width:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},class:{"app__nav-btn":!0,"app__nav-btn--expand":this.shouldMenuVisible}},[t("path",{attrs:{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}}),t("path",{attrs:{d:"M0-.75h24v24H0z",fill:"none"}})])]):null]),t("div",{class:"app__body"},[t("div",{class:"content",ref:"content",style:{minHeight:this.window.height-this.contentOffsetTop-24+"px"}},[t("router-view",{attrs:{window:this.window}})])])])},mounted:function(){var t=this;this.$_handleResize=Object(n.a)(function(){t.window=s(),t.updateContentOffsetHeight()},100),this.updateContentOffsetHeight(),window.addEventListener("resize",this.$_handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.$_handleResize)},methods:{expandToggle:function(){this.menusVisible=!this.menusVisible},updateContentOffsetHeight:function(){var t=this.$refs.content;t&&(this.contentOffsetTop=t.offsetTop)}},watch:{menusVisible:function(t){var e=this;Object(o.b)(t),this.$nextTick(function(){e.updateContentOffsetHeight()})}}}},iUmz:function(t,e,i){"use strict";i.d(e,"a",function(){return b});var n,o=i("fZjL"),r=i.n(o),s=i("//Fk"),a=i.n(s),h=i("Dd8w"),c=i.n(h),u=i("bOdI"),l=i.n(u),d=i("woOf"),f=i.n(d),p=i("Zrlr"),v=i.n(p),m=i("wxAW"),g=i.n(m),_=i("DKtG"),y=i("Zh5h"),w=i("sjd4");!function(t){t[t.cropper=0]="cropper",t[t.image=1]="image",t[t.pointRD=2]="pointRD",t[t.background=3]="background"}(n||(n={}));var b=function(){function t(e,i){var o,r=this;v()(this,t),this._scale=1,this.handleStart=function(t){r._startPoint=r.getPointByCoordinate(t.x,t.y)},this.handleMove=function(t){var e=r._types[r._startPoint.type];e&&e.handler&&e.handler(t)},this.handleMouseWheel=function(t){t.preventDefault();var e=r._image;if(e){var i=e.clientWidth,n=e.clientHeight,o=void 0,s=r._scale,a=t.deltaY/800;o=a>0?1/(1+a):1+Math.abs(a),o*=s,r._scale=o,i*=o,n*=o,e.x+=(e.width-i)/2,e.y+=(e.height-n)/2,e.width=i,e.height=n,r.draw()}},this.handleImageMove=function(t){var e=t.x,i=t.y,n=r._startPoint;r._image.x=e-n.offsetX,r._image.y=i-n.offsetY,r.draw()},this.handleCropperMove=function(t){var e=t.x,i=t.y,n=r._options,o=n.width,s=n.height,a=r._startPoint,h=a.offsetX,c=a.offsetY,u=o-r._cropper.width,l=s-r._cropper.height,d=e-h,f=i-c;d<0&&(d=0),d>u&&(d=u),f<0&&(f=0),f>l&&(f=l),r.cropper={x:d,y:f}},this.handlePointMove=function(t){var e=t.x,i=t.y,n=(r._startPoint,e-r._cropper.x),o=i-r._cropper.y;n<=0||o<=0||(r.cropper={width:n,height:o})};var s=Object(y.a)(e,i,{width:700,height:450}),a=f()({},i,{width:s.width,heigth:s.height});this._canvas=s.canvas,this._ctx=s.canvas.getContext("2d"),this._options=a,this._types=(o={},l()(o,n.cropper,{cursor:"all-scroll",handler:this.handleCropperMove}),l()(o,n.image,{cursor:"default",handler:this.handleImageMove}),l()(o,n.pointRD,{cursor:"nwse-resize",handler:this.handlePointMove}),l()(o,n.background,{cursor:"default"}),o),this.init()}return g()(t,[{key:"init",value:function(){var t=this._options,e=this._canvas,i=t.width/3,n=t.height/3;this._cropperCanvas=document.createElement("canvas"),this._cropperCtx=this._cropperCanvas.getContext("2d"),this.cropper=f()({width:i,height:n,x:(t.width-i)/2,y:(t.height-n)/2},this._cropper),t.preview&&(this._previewList=(Array.isArray(t.preview)?t.preview:[t.preview]).map(function(t){var e=document.createElement("canvas");return t.container.appendChild(e),c()({},t,{canvas:e,ctx:e.getContext("2d")})})),e.addEventListener("mousewheel",this.handleMouseWheel),this._id=Object(w.a)(e,{onStart:this.handleStart,onMove:this.handleMove})}},{key:"getPointByCoordinate",value:function(t,e){var i=this._point,o=this._cropper,r=this._image,s={x:t,y:e};return t>i.x&&t<i.x+i.width&&e>i.y&&e<i.y+i.height?s.type=n.pointRD:t>o.x&&t<o.x+o.width&&e>o.y&&e<o.y+o.height?(s.offsetX=t-o.x,s.offsetY=e-o.y,s.type=n.cropper):t>r.x&&t<r.x+r.width&&e>r.y&&e<r.y+r.height?(s.offsetX=t-r.x,s.offsetY=e-r.y,s.type=n.image):s.type=n.background,s}},{key:"updatePoint",value:function(){var t=this._cropper;this._point={width:8,height:8,x:t.x+t.width-4,y:t.y+t.height-4}}},{key:"fillBackground",value:function(){var t=this._options,e=t.width,i=t.height,n=this._ctx,o=e/40,r=Math.ceil(e/o),s=Math.ceil(i/o);n.save(),n.fillStyle="#ccc";for(var a=0,h=0;h<s;h++)for(var c=0;c<r;c++)(a+h)%2==0&&n.fillRect(c*o,h*o,o,o),a++;n.fillStyle="rgba(0,0,0,0.1)",n.fillRect(0,0,e,i),n.restore()}},{key:"fillImage",value:function(){var t=this._ctx,e=this._image;e&&t.drawImage(e.element,e.x,e.y,e.width,e.height)}},{key:"fillCropper",value:function(){if(this._image.element){var t=this._ctx,e=this._cropper;t.save(),t.strokeStyle="#39f",t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="#39f";var i=this._point;t.fillRect(i.x,i.y,i.width,i.height),t.restore()}}},{key:"getCropperData",value:function(){var t=this._image,e=this._cropper,i=[e.x,e.y,e.height,e.width],n=i[0],o=i[1],r=i[2],s=i[3],a=0,h=0;if(e.x<t.x&&(n=t.x,a=t.x-e.x,s-=a),e.y<t.y&&(o=t.y,h=t.y-e.y,r-=h),e.x+e.width>t.x+t.width&&(s-=e.x+e.width-(t.x+t.width)),e.y+e.height>t.y+t.height&&(r-=e.y+e.height-(t.y+t.height)),!(s<0||r<0))return{width:s,height:r,x:n,y:o,offsetX:a,offsetY:h,imageData:this._ctx.getImageData(n,o,s,r)}}},{key:"draw",value:function(){if(this._image){var t=this._options,e=t.width,i=t.height;this._ctx.clearRect(0,0,e,i),this.fillBackground(),this.fillImage(),this.fillCropper(),this.preview()}}},{key:"updateImage",value:function(t){if(t.src){var e=this._options,i=e.width,n=e.height,o=t.width,r=t.height,s=o,a=r,h=1;o>i&&(s=i,h=s/o,a=h*r),a>n&&(a=n,h=a/r,s=h*o),this._image={element:t,width:s,height:a,x:(i-s)/2,y:(n-a)/2,clientWidth:o,clientHeight:r},this._scale=h,this.draw()}}},{key:"preview",value:function(){if(this._previewList){var t=(this._scale,this._image),e=this._cropper;this._options;this._previewList.forEach(function(i){var n=e.width*i.zoom,o=e.height*i.zoom;i.canvas.width=n,i.canvas.height=o,i.ctx.clearRect(0,0,n,o),i.ctx.drawImage(t.element,(t.x-e.x)*i.zoom,(t.y-e.y)*i.zoom,t.width*i.zoom,t.height*i.zoom)})}}},{key:"crop",value:function(){var e=this;return new a.a(function(i,n){var o=e._options,r=o.width,s=o.height,a=e._image,h=e._cropper,c=e._cropperCtx,u=e._scale;a.element||n({code:1001,message:t.Messages[1001]}),f()(e._cropperCanvas,{width:h.width,height:h.height}),c.clearRect(0,0,r,s),c.drawImage(a.element,(a.x-h.x)*u,(a.y-h.y)*u,a.width*u,a.height*u),i(e._cropperCanvas.toDataURL())})}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=function(t){return t.parentNode.removeChild(t)};Object(w.b)(this._id),window.removeEventListener("mousewheel",this.handleMouseWheel),t&&(e(this._canvas),this._previewList&&this._previewList.forEach(function(t){e(t.canvas)}))}},{key:"image",set:function(t){var e=this;if(t instanceof HTMLImageElement)this.updateImage(t);else{if(!(t instanceof File))return;if(!t.type.match(/^image\/.+$/))return void _.b("请选择正确的图片文件");var i=new FileReader;i.onload=function(t){var i=new Image;i.src=t.target.result,i.onload=function(){e.updateImage(i)}},i.readAsDataURL(t)}},get:function(){return this._image.element}},{key:"cropper",set:function(t){var e=this;this._cropper||(this._cropper={});var i=!1;r()(t).forEach(function(n){var o=Math.round(t[n]);e._cropper[n]!==o&&(e._cropper[n]=o,i=!0)}),i&&(this.updatePoint(),this._options.onCropperChange&&this._options.onCropperChange(this._cropper),this.draw())},get:function(){return this._cropper}}]),t}();b.Messages={1001:"没有图片"}},kdNR:function(t,e,i){"use strict";var n=i("Dd8w"),o=i.n(n),r=i("Gu7T"),s=i.n(r),a=i("7+uW"),h=i("/ocq"),c=i("G2oq"),u=i("mB74"),l=i("ERc4"),d=i("gC63"),f=i("uest"),p=i("/wTy");a.a.use(h.a);var v=function(t){return t.charAt(0).toLowerCase()+t.slice(1).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},m=[{name:"Clock",component:u.a},{name:"ColorPicker",component:l.a},{name:"Cropper",component:d.a},{name:"InfiniteScroll",component:f.a},{name:"Snake",component:p.a}];e.a=new h.a({routes:[{path:"/",redirect:function(t){var e=location.pathname;if(/\.html$/.test(e)){var i=e.match(/([^\/]+)\.html$/),n=i&&i[1],o={colorpicker:"ColorPicker",clock:"Clock",cropper:"Cropper","infinite-scroll":"InfiniteScroll",snake:"Snake"};if(n&&o[n])return{name:o[n]}}return{name:"Clock"}}}].concat(s()(m.map(function(t){return o()({path:"/"+v(t.name)},t)})),[{path:"*",name:"NotFound",component:c.a}])})},mB74:function(t,e,i){"use strict";for(var n=i("woOf"),o=i.n(n),r=i("MICi"),s=i.n(r),a=i("BcO5"),h=i("DKtG"),c=i("xh2i"),u=(i.n(c),function(){var t=new Date;return{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),offset:60*-(new Date).getTimezoneOffset()*1e3}}),l=[{name:"hours",label:"小时",max:23},{name:"minutes",label:"分钟",max:59},{name:"seconds",label:"秒",max:59}],d=[],f=-12;f<=12;f++){var p="UTC";f>0?p+="+"+f:f<0&&(p+=f),d.push({name:p,offset:60*f*60*1e3})}d.sort(function(t,e){return e.offset-t.offset}),e.a={name:"Clock",data:function(){return{time:u(),alarms:[]}},render:function(){var t=this,e=arguments[0];return e("div",{class:"clock"},[e("section",[e("canvas",{ref:"canvas"})]),e("section",[e("form",{class:"clock__time-from",on:{submit:function(e){e.preventDefault(),t.setTime()}}},[l.map(function(i){return e("div",{class:"form-group"},[e("label",{attrs:{for:i.name}},[i.label,"："]),e("input",{attrs:{type:"number",max:i.max,min:"0",step:"1"},domProps:{value:t.time[i.name]},on:{input:function(e){t.updateInput(e,i)}}})])}),e("div",{class:"form-group"},[e("label",{attrs:{for:"offset"}},["时区："]),e("select",{domProps:{value:this.time.offset},on:{change:this.updateZone}},[d.map(function(t){return e("option",{key:t.name,domProps:{value:t.offset}},[t.name])})])])])]),e("section",[e("div",{class:"clock__btns"},[e("button",{attrs:{type:"button"},on:{click:this.setTime}},["设置时间"]),e("button",{attrs:{type:"button"},on:{click:this.addAlarm}},["设置闹钟"]),e("button",{attrs:{type:"button"},on:{click:this.clearAlarms}},["清除闹钟"]),e("button",{attrs:{type:"button"},on:{click:this.resetClock}},["还原时钟"])])]),e("section",[e("div",{class:"clock__alarms"},[!this.alarms||this.alarms.length<1?e("p",["暂无闹钟"]):this.alarms.map(function(t,i){return e("p",{key:i},["闹铃时间：",t.time.toLocaleString()])})])])])},methods:{updateInput:function(t,e){var i=Number(t.target.value),n=i;(s()(i)||i<0)&&(n=0),n>e.max&&(n=e.max),this.time[e.name]=n},updateZone:function(t){var e=Number(t.target.value),i=this.getTimezoneOffsetMilliSeconds(e);this.time.offset=e,this.$_clock.offset=i},getTimezoneOffsetMilliSeconds:function(t){return t+60*(new Date).getTimezoneOffset()*1e3},setTime:function(){var t=this.$_clock,e=new Date,i=this.getFormTime(),n=i.getTime()-e.getTime()+this.getTimezoneOffsetMilliSeconds(this.time.offset);t.offset=n},addAlarm:function(){var t=this.$_clock,e=this.getFormTime();t.addAlarm(e,this.triggerAlarm,!1),this.alarms=t.alarms},clearAlarms:function(){this.$_clock.clearAlarms(),this.alarms=[]},getFormTime:function(){var t=new Date,e=[t.getFullYear(),t.getMonth(),t.getDate()],i=e[0],n=e[1],o=e[2],r=this.time,s=r.hours,a=r.minutes,h=r.seconds;return new Date(i,n,o,s,a,h)},triggerAlarm:function(){var t=this.$_clock;this.alarms=t.alarms,Object(h.b)("闹钟响啦...")},resetClock:function(){var t=this.$_clock;o()(this.time,u()),t.offset=0}},mounted:function(){this.$_clock=new a.a(this.$refs.canvas)},beforeDestroy:function(){this.$_clock&&this.$_clock.destroy()}}},opwO:function(t,e,i){"use strict";var n=i("woOf"),o=i.n(n),r=i("Zrlr"),s=i.n(r),a=i("wxAW"),h=i.n(a),c=i("Apwk"),u=i("QSz+"),l=i("zOqJ"),d=(i.n(l),function(){function t(e,i){s()(this,t);var n={height:300,blockWidth:300,barWidth:40,padding:10};o()(n,i),this._options=n,this._container=e,this.init()}return h()(t,[{key:"init",value:function(){var t=this,e=this._options,i=(e.padding,e.height),n=e.blockWidth,o=e.barWidth,r=(e.onColorChange,document.createElement("canvas")),s=document.createElement("canvas"),a={width:n,height:i,onColorChange:function(e){var i=e.s,n=e.v;t.setHSV({s:i,v:n})}},h={width:o,height:i,onColorChange:function(e){var i=e.h;t.setHSV({h:i})}};this._container.appendChild(r),this._container.appendChild(s),this._block=new c.a(r,a),this._bar=new u.a(s,h),this.setHSV({h:0,s:.5,v:.5})}},{key:"handleColorChange",value:function(t){if("number"==typeof t.h&&(this._bar.color=t),"number"==typeof t.s&&"number"==typeof t.v&&(this._block.color=t),this._options.onColorChange){var e=t.h,i=100*t.s,n=100*t.v,o=l.hsv.rgb(e,i,n),r=l.rgb.hsl(o).map(function(t){return t/100}),s=l.rgb.hex(o);this._options.onColorChange({hex:s,h:r[0],s:r[1],l:r[2],r:o[0],g:o[1],b:o[2]})}}},{key:"setHSV",value:function(t){var e=this;if(this._bar&&this._block){t=o()({},this._color,t);var i=["h","s","v"];this._color&&i.every(function(i){return t[i]===e._color[i]})||(this._color=t,this.handleColorChange(t))}}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._block.destroy(t),this._bar.destroy(t)}},{key:"color",set:function(t){var e=["r","g","b"],i=["h","s","l"],n=void 0;if(e.every(function(e){return"number"==typeof t[e]}))n=l.rgb.hsv(t.r,t.g,t.b);else if(i.every(function(e){return"number"==typeof t[e]}))n=l.hsl.hsv(100*t.h,100*t.s,100*t.l);else{if(!t.hex)return;n=l.rgb.hsv(l.hex.rgb(t.hex))}this.setHSV({h:n[0],s:n[1]/100,v:n[2]/100})}}]),t}());e.a=d},sjd4:function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"b",function(){return f});var n=i("woOf"),o=i.n(n),r=i("pFYg"),s=i.n(r),a=i("ifoU"),h=i.n(a),c=new h.a,u=0,l=function(t,e){if(e.touches){var i=t.getBoundingClientRect(),n=e.touches[0];return{x:n.clientX-i.left,y:n.clientY-i.top}}return{x:e.offsetX,y:e.offsetY}},d=function(t,e){var i={};switch(void 0===e?"undefined":s()(e)){case"function":i.onMove=e;break;case"object":o()(i,e)}var n={last:null,move:function(e){if(e.target===t){var o=l(t,e);n.last=o,i.onMove&&i.onMove(o)}},start:function(e){e.preventDefault(),e.target===t&&(i.onStart&&i.onStart(l(t,e)),document.addEventListener("mousemove",n.move),document.addEventListener("touchmove",n.move))},end:function(){i.onEnd&&i.onEnd(n.last),document.removeEventListener("mousemove",n.move),document.removeEventListener("touchmove",n.move)},bind:function(){t.addEventListener("mousedown",n.start),t.addEventListener("touchstart",n.start),document.addEventListener("mouseup",n.end),document.addEventListener("touchend",n.end)},unbind:function(){n.end(),t.removeEventListener("mousedown",n.start),t.removeEventListener("touchstart",n.start),document.removeEventListener("mouseup",n.end),document.removeEventListener("touchend",n.end)}};return n.bind(),u++,c.set(u,n),u},f=function(t){var e=c.get(t);e&&(e.unbind(),c.delete(t))}},skhT:function(t,e,i){"use strict";i.d(e,"a",function(){return g});var n,o=i("woOf"),r=i.n(o),s=i("bOdI"),a=i.n(s),h=i("Zrlr"),c=i.n(h),u=i("wxAW"),l=i.n(u),d=i("MQob"),f=i("Zh5h"),p=i("sjd4");!function(t){t[t.empty=0]="empty",t[t.wall=1]="wall",t[t.body=2]="body",t[t.head=3]="head",t[t.footer=4]="footer",t[t.food=5]="food"}(n||(n={}));var v;!function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.up=2]="up",t[t.down=3]="down"}(v||(v={}));var m;!function(t){t[t.beforeStart=0]="beforeStart",t[t.end=1]="end",t[t.pause=2]="pause",t[t.runing=3]="runing",t[t.disabled=4]="disabled"}(m||(m={}));var g=function(){function t(e,i){var o,s,h=this;c()(this,t),this._boxes=[],this._speed=1,this._boxTypes=(o={},a()(o,n.empty,{}),a()(o,n.wall,{background:"brown"}),a()(o,n.head,{background:"#555",render:function(t,e,i,n){var o=n/14,r=h._direction[h._snakeDirection],s=n/2,a=[{x:e+s+r.x*o*3+(0===r.x?2.5*o:0),y:i+s+r.y*o*3+(0===r.y?2.5*o:0)},{x:e+s+r.x*o*3+(0===r.x?2.5*-o:0),y:i+s+r.y*o*3+(0===r.y?2.5*-o:0)}];t.fillStyle="#fff",a.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,2*o,0,2*Math.PI),t.fill()})}}),a()(o,n.body,{render:function(t,e,i,n){t.fillStyle="#888",t.beginPath(),t.arc(e+n/2,i+n/2,n/2,0,2*Math.PI),t.fill()}}),a()(o,n.footer,{render:function(t,e,i,n){t.fillStyle="#888",t.beginPath(),t.arc(e+n/2,i+n/2,.35*n,0,2*Math.PI),t.fill()}}),a()(o,n.food,{background:"orange"}),o),this._direction=(s={},a()(s,v.left,{x:-1,y:0,keyCode:[65,37],opposite:v.right}),a()(s,v.right,{x:1,y:0,keyCode:[68,39],opposite:v.left}),a()(s,v.up,{x:0,y:-1,keyCode:[87,38],opposite:v.down}),a()(s,v.down,{x:0,y:1,keyCode:[83,40],opposite:v.up}),s),this.handleKeyboard=function(t){var e=h._direction,i=t.keyCode,n=h._status;switch(i){case 32:switch(t.preventDefault(),n){case m.pause:h.continue();break;case m.runing:h.pause()}}for(var o in e)e[o].keyCode.indexOf(i)>-1&&(t.preventDefault(),h.pushDirection(+o))},this.next=function(){if(h._status===m.runing){h.updateDirection();var t=h._speed>30?1:300-10*h._speed,e=h._snake,i=h._direction[h._snakeDirection],o=h._content,r=e[0],s=e[e.length-1],a=r.xIndex+i.x,c=r.yIndex+i.y,u=h.getBox(a,c);if(u&&a>=0&&a<o.colums&&c>=0&&c<o.rows){var l=[h.createTween(r,u,t)],d=function(){var t=!0;switch(e.forEach(function(t){delete t.animateX,delete t.animateY}),u.type){case n.empty:s.type=n.empty,e.pop();break;case n.food:var i=h.eat(u);void 0===i||i||(t=!1);break;default:return}e.unshift(u),h.updateSnake(),t&&h._status===m.runing&&h.next(),h.draw()},f=function t(e){var i=!0;l.forEach(function(t){t.update(),i&&!t.complete&&(i=!1)}),h.draw(),i?(h._animation=null,d()):h.updateAnimation(l,t)};if(u.type===n.body||u.type===n.footer)return h.draw(),void h.endGame("1001");if(u.type===n.wall)return h.draw(),void h.endGame("1002");for(var p=1,v=e.length;p<v;p++){var g=e[p],_=e[p-1];l.push(h.createTween(g,_,t))}h.updateAnimation(l,f)}else h.endGame("1003")}};var u={sideLength:18},l=Object(f.a)(e,i,{width:600,height:600});if(r()(u,i,{width:l.width,height:l.height}),!u.origin){u.origin=[];for(var d=6;d>2;d--)u.origin.push({x:d,y:4})}var p=u.sideLength,g=u.width%p/2,_=u.height%p/2,y=u.width-2*_,w=u.height-2*g;this._content={x:_,y:g,width:y,height:w,rows:y/p,colums:w/p},this._canvas=l.canvas,this._options=u,this.init()}return l()(t,[{key:"init",value:function(){var t=this,e=this._options,i=this._canvas,o=i.getContext("2d"),r=this._content,s=e.sideLength;this._ctx=o;for(var a=0;a<r.colums;a++){for(var h=[],c=0;c<r.rows;c++)h.push({x:r.x+a*s,y:r.y+c*s,xIndex:a,yIndex:c,type:n.empty});this._boxes.push(h)}this.reset(),this.drawMap(),this._status=m.disabled,this._id=Object(p.a)(i,{onStart:function(e){t._startCoordinate=e},onEnd:function(e){if(t._startCoordinate){var i=Math.PI,n={x:t._startCoordinate.x,y:-t._startCoordinate.y},o={x:e.x,y:-e.y},r=Math.acos((o.x-n.x)/Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2))),s=v.right;r>.25*i&&r<.75*i?s=v.up:r>.75*i&&(s=v.left),o.y-n.y<0&&s===v.up&&(s=v.down),t.pushDirection(s)}}}),window.addEventListener("keydown",this.handleKeyboard)}},{key:"pushDirection",value:function(t){var e=this._status;e===m.runing?this._keys.push(t):e===m.beforeStart&&(this._keys.push(t),this.start())}},{key:"getBox",value:function(t,e){var i=this._boxes,n=i[t];if(n)return n[e]}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,i=this._ctx,n=this._options,o=this._content;i.save(),i.fillStyle="rgba(0,0,0,.6)",i.fillRect(o.x,o.y,o.width,o.height),i.fillStyle="#fff",i.textAlign="center",i.textBaseline="middle",i.font="bold "+e+"px serif",Array.isArray(t)||(t=[t]),t.forEach(function(t,r){i.fillText(t,.5*n.width,.4*n.height+n.sideLength*e*1.1*r,o.width-2*n.sideLength)}),i.restore()}},{key:"drawBox",value:function(t){var e=this._boxTypes,i=this._ctx,n=this._options.sideLength,o=e[t.type],r=t.animateX?t.animateX:t.x,s=t.animateY?t.animateY:t.y;o.background&&(i.save(),i.fillStyle=o.background,i.fillRect(r,s,n,n),i.restore()),o.render&&(i.save(),o.render(i,r,s,n),i.restore())}},{key:"drawMap",value:function(){var t=this._options,e=this._ctx,i=this._content,n=t.sideLength;e.save(),e.beginPath(),e.strokeStyle="#ddd",e.lineWidth=1;for(var o=0;o<=i.colums;o++){var r=i.x+o*n;e.moveTo(r,i.y),e.lineTo(r,i.y+i.height)}for(var s=0;s<=i.rows;s++){var a=i.y+s*n;e.moveTo(i.x,a),e.lineTo(i.x+i.width,a)}e.stroke(),e.restore()}},{key:"drawContent",value:function(){var t=this;this._ctx.save(),this._food.forEach(function(e){t.drawBox(e)}),this._boxes.forEach(function(e){e.forEach(function(e){e.type!==n.food&&t.drawBox(e)})}),this._ctx.restore()}},{key:"draw",value:function(){var t=this._options;this._ctx.clearRect(0,0,t.width,t.height),this.drawMap(),this.drawContent()}},{key:"updateAnimation",value:function(t,e){this._animation={cb:e,id:requestAnimationFrame(e),tweens:t}}},{key:"createTween",value:function(t,e,i){return new d.a({x:t.x,y:t.y,onUpdate:function(e){r()(t,{animateX:e.x,animateY:e.y})}}).to({x:e.x,y:e.y},i).start()}},{key:"updateDirection",value:function(){var t=this._keys,e=t.length;if(e>0)for(var i=e-1;i>=0;i--){var n=t[i];if(n!==this._snakeDirection&&n!==this._direction[this._snakeDirection].opposite){this._snakeDirection=n,this._keys=t.slice(i+1);break}}}},{key:"updateSnake",value:function(){var t=this._snake;t.forEach(function(t){t.type=n.body}),t[0].type=n.head,t[t.length-1].type=n.footer}},{key:"pauseGame",value:function(t){var e=this;this._status===m.runing&&(this._animation?(cancelAnimationFrame(this._animation.id),t()):requestAnimationFrame(function(){e.pauseGame(t)}))}},{key:"pause",value:function(){var t=this;this.pauseGame(function(){t._status=m.pause,t.info("Pause")})}},{key:"continue",value:function(){this._status===m.pause&&(this._animation?(this._animation.tweens.forEach(function(t){t.complete||t.start()}),this._status=m.runing,this.updateAnimation(this._animation.tweens,this._animation.cb)):this.continue())}},{key:"eat",value:function(t){var e=this.score,i=this._food;if(this._food=i.splice(i.indexOf(t)),this.createFood(),this._options.scoreCallback)return this._options.scoreCallback(e,this.speed,this)}},{key:"createFood",value:function(){var t=this._content,e=Math.floor(Math.random()*t.colums),i=Math.floor(Math.random()*t.rows),o=this.getBox(e,i);return o.type!==n.empty?this.createFood():(o.type=n.food,this._food.push(o),o)}},{key:"reset",value:function(){var t=this;this._status=m.beforeStart,this._food=[],this._wall=[],this._keys=[],this._snakeDirection=v.right,this._boxes.forEach(function(t){t.forEach(function(t){t.type=n.empty})}),this._snake=this._options.origin.map(function(e){return t.getBox(e.x,e.y)}),this.updateSnake(),this.createFood()}},{key:"start",value:function(){this._status=m.runing,this.draw(),this.next()}},{key:"endGame",value:function(e){this._options.endCallback&&this._options.endCallback({code:Number(e),message:t.EndReasons[e]},this),this._status=m.end}},{key:"nextLevel",value:function(t){var e=this;this.pauseGame(function(){e.info(t),e._status=m.end})}},{key:"fillWall",value:function(t){for(var e=this._content,i=0;i<t;){var o=this.getBox(Math.floor(Math.random()*e.colums),Math.floor(Math.random()*e.rows));o.type===n.empty&&(o.type=n.wall,this._wall.push(o),i++)}}},{key:"disable",value:function(){var t=this,e=this._status;return this._status=m.disabled,function(){t._status=e}}},{key:"prepareStart",value:function(){this.reset(),this.draw()}},{key:"destroy",value:function(){Object(p.b)(this._id),window.removeEventListener("keydown",this.handleKeyboard)}},{key:"speed",set:function(t){this._speed=t},get:function(){return this._speed}},{key:"score",get:function(){return this._snake&&this._snake.length?this._snake.length-this._options.origin.length+1:0}}]),t}();g.EndReasons={1001:"红烧蛇肉",1002:"撞墙啦",1003:"撞边界啦"}},tfLI:function(t,e){},uest:function(t,e,i){"use strict";var n=i("//Fk"),o=i.n(n),r=i("A7y6"),s=i("zqfU"),a=(i.n(s),new Array(100).fill("").map(function(t,e){return e+1}));e.a={name:"InfiniteScroll",render:function(){var t=arguments[0];return t("main",{class:"infinite-scroll"},[t("ul",{ref:"list",class:"infinite-scroll__list"})])},mounted:function(){this.$_infiniteScroll=new r.a({contentElement:this.$refs.list,loadingHtml:'\n        <p class="infinite-scroll__loading">\n          <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n            <path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z" />\n            <path d="M0 0h24v24H0z" fill="none" />\n          </svg>\n        </p>\n      ',noDataHtml:"<p>Empty</p>",render:function(t){return"<li>"+t+" list item</li>"},getDataset:function(t){return new o.a(function(e){setTimeout(function(){e({dataset:a.slice(t,t+20),more:t+20<a.length})},1e3)})}})}}},wgND:function(t,e,i){"use strict";var n=i("EpNZ");i.n(n)},x35b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i("wgND"),i("7+uW")),o=i("iUeW"),r=i("kdNR");n.a.config.productionTip=!1,new n.a({el:"#app",router:r.a,render:function(t){return t(o.a)}})},xh2i:function(t,e){},zqfU:function(t,e){}},["x35b"]);
//# sourceMappingURL=app.48e19e84018f99512e72.js.map