{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/containers/Cropper/assets/default.jpg","webpack:///./src/libs/utils/toast/index.ts","webpack:///./src/containers/Clock/index.js","webpack:///./src/libs/utils/index.ts","webpack:///./src/containers/App/storage.js","webpack:///./src/containers/App/index.js","webpack:///./src/containers/NotFound/index.js","webpack:///./src/libs/utils/canvas/index.ts","webpack:///./src/libs/clock/index.ts","webpack:///./src/libs/cropper/index.ts","webpack:///./src/libs/utils/move/index.ts","webpack:///./src/libs/color-picker/block.ts","webpack:///./src/libs/color-picker/bar.ts","webpack:///./src/libs/color-picker/index.ts","webpack:///./src/containers/ColorPicker/index.js","webpack:///./src/libs/snake/index.ts","webpack:///./src/containers/Cropper/index.js","webpack:///./src/libs/infinite-scroll/index.ts","webpack:///./src/containers/InfiniteScroll/index.js","webpack:///./src/libs/utils/tween/index.ts","webpack:///./src/libs/utils/message/index.js","webpack:///./src/containers/Snake/index.js","webpack:///./src/router/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","toast_toast","options","list","width","innerWidth","height","innerHeight","defaultRight","defaultTop","marginBottom","marginRight","computePosition","current","prev","currentEl","el","prevEl","prevBottomHeight","top","offsetHeight","setPosition","right","offsetWidth","message","delay","arguments","undefined","toast_Toast","show","setTimeout","hide","Toast","_this","this","classCallCheck","_el","classList","add","remove","document","body","removeChild","_message","init","createElement","innerHTML","appendChild","assign","style","utils_t","debounce","func","wait","timer","_len","args","Array","_key","clearTimeout","hasStorageApi","localStorage","getCachedMenuVisible","visible","getItem","JSON","parse","e","setCachedMenuVisible","setItem","getWindowSize","containers_App","menus","label","menusVisible","contentOffsetTop","computed","isMobile","shouldMenuVisible","render","h","attrs","id","class","href","directives","map","menu","to","tag","concat","$route","target","on","click","expandToggle","fill","viewBox","xmlns","app__nav-btn","app__nav-btn--expand","ref","minHeight","mounted","$_handleResize","updateContentOffsetHeight","addEventListener","beforeDestroy","removeEventListener","methods","content","$refs","offsetTop","watch","_this2","$nextTick","NotFound","canvas_generateCanvas","container","defaultOptions","tagName","canvas","_map","getAttribute","charAt","toUpperCase","_map2","slicedToArray","w","setAttribute","console","warn","clock_Clock","Clock","_offset","_alarms","draw","time","getCurrentTime","ctx","_ctx","_this$_options","_options","color","radius","center","x","y","borderWidth","borderRadius","clearRect","save","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","restore","distanceToTop","scaleCount","fillStyle","translate","scaleWidth","scaleHeight","rect","rotate","numberRadius","fontsize","font","textAlign","textBaseline","_i","radian","_this$getCoordinate","getCoordinate","_x","_y","fillText","toString","hour","pointers","topY","bottomY","degree","secondDegree","bottomWidth","topWidth","minuteDegree","hourDegree","tanBottom","tan","tanTop","forEach","bottomHalf","bottomHeight","topHalf","topHeight","moveTo","lineTo","setTransform","checkAlarms","date","_requestId","requestAnimationFrame","_canvas","getContext","defaultRadius","min","sin","cos","now","Date","getTime","_ref","getHours","getMinutes","getSeconds","getMilliseconds","minute","second","milliSecond","exactS","exactM","exactH","v","alarms","alarm","abs","repeat","cb","removeCanvas","cancelAnimationFrame","parentNode","getInitialTime","hours","minutes","seconds","offset","getTimezoneOffset","parts","max","timeZones","Clock_i","Clock_name","sort","Types","src_containers_Clock","submit","preventDefault","setTime","for","type","step","domProps","input","updateInput","change","updateZone","addAlarm","clearAlarms","resetClock","index","toLocaleString","Number","isNaN","getTimezoneOffsetMilliSeconds","$_clock","clock","settedTime","getFormTime","triggerAlarm","getFullYear","getMonth","getDate","year","month","_this$time","destroy","eventsMap","Map","uid","getCoordinateByEvent","element","touches","getBoundingClientRect","touch","clientX","left","clientY","offsetX","offsetY","move_bind","cbs","es6_typeof","onMove","instance","last","move","coordinate","start","onStart","end","onEnd","unbind","set","delete","block_ColorBlock","ColorBlock","padding","createClass","contentWidth","contentHeight","_contentWidth","_contentHeight","initBackground","_id","setCoordinate","_color","black","createLinearGradient","white","addColorStop","_whiteGradient","_blackGradient","_hue","fillRect","gradient","currentX","currentY","onColorChange","_covert$hsv$rgb","color_convert","rgb","_covert$hsv$rgb2","g","b","_this$_options2","fillColor","renderPointer","props","mergedColor","every","updateHue","updateCoordinate","bar_ColorBar","ColorBar","k","_gradient","_this$_options3","hue","floor","_this$_options4","sliderWidth","sliderHeight","strokeRect","_this$_options5","fillBackground","renderSlider","color_picker_ColorPicker","ColorPicker","blockWidth","barWidth","_container","block","bar","blockOptions","setHSV","barOptions","_ref2","_block","_bar","hsl","hex","hsv","handleColorChange","src_containers_ColorPicker","updateColorByHEX","backgroundColor","updateColorByRGB","updateColorByHSL","some","$_picker","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","parseInt","err","return","picker","cropper_Cropper","Cropper","_this$_types","_scale","handleStart","_startPoint","getPointByCoordinate","handleMove","_types","handler","handleMouseWheel","image","_image","clientWidth","clientHeight","scale","deltaY","handleImageMove","handleCropperMove","oX","oY","maxX","_cropper","maxY","cropper","handlePointMove","_ref3","heigth","cursor","pointRD","background","op","cW","cH","_cropperCanvas","_cropperCtx","preview","_previewList","isArray","cvs","objectSpread","point","_point","side","ceil","drawImage","_ref4","currentH","currentW","imageData","getImageData","fillImage","fillCropper","src","clientW","clientH","zoom","Promise","resolve","reject","_this2$_options","code","Messages","url","toDataURL","_this3","HTMLImageElement","updateImage","File","match","reader","FileReader","onload","Image","readAsDataURL","_this4","keys","round","updatePoint","onCropperChange","1001","BoxTypes","Direction","GameStatus","downloader","downloadCount","src_containers_Cropper","required","cropperOptions","pickText","placeholder","containerSize","updateSize","setCropper","doCrop","accept","uploadImg","_this$window","val","files","file","$_cropper","_this$cropperOptions","invaid","f","_doCrop","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","crop","sent","download","t0","stop","_this$containerSize","setDefault","assets_default","infinite_scroll_InfinitScroll","InfinitScroll","dataset","more","loading","scrollEventSource","debounceCheckdataset","checkDataset","contentElement","scrollElement","documentElement","getDataset","noDataHtml","loadingHtml","threshold","autoDestroy","necessaryProps","prop","_this$op","scrollHeight","scrollTop","shouldGetDataset","fillMoreDataset","res","updateView","html","_this$op2","join","containers_InfiniteScroll","$_infiniteScroll","tween_Tween","Tween","_spend","_complete","_init","_current","position","_next","_time","_prevTime","update","onUpdate","snake_Snake","Snake","_this$_boxTypes","_this$_direction","_boxes","_speed","_boxTypes","empty","wall","head","sideLength","_direction","_snakeDirection","eyes","eye","footer","food","keyCode","opposite","up","down","handleKeyboard","direction","status","_status","pause","continue","running","indexOf","pushDirection","updateDirection","timeout","snake","_snake","_content","xIndex","yIndex","box","getBox","columns","rows","tweenList","createTween","animationComplete","shouldNext","snakeBox","animateX","animateY","pop","eat","unshift","updateSnake","animationCb","complete","_animation","updateAnimation","endGame","thisBox","nextBox","origin","pdV","pdH","column","reset","drawMap","disabled","_startCoordinate","pi","acos","sqrt","pow","dir","_keys","beforeStart","boxes","msgs","fontSize","msg","types","xC","yC","_food","drawBox","drawContent","tweens","keysLen","pauseGame","_this5","info","score","createFood","scoreCallback","speed","random","_this6","_wall","cords","reasonCode","endCallback","EndReasons","_this7","walls","_this8","lastStatus","1002","1003","Message","vue_runtime_esm","extend","title","listeners","after-leave","doDestroy","babel_helper_vue_jsx_merge_props_default","$destroy","$el","libs_utils_message","vm","$mount","src_containers_Snake","modeVisible","modes","showInfo","showModes","updateMode","updateCommonMode","updateLevelMode","updateDodgeMode","$_snake","currentSpeed","prepareStart","levels","levelIndex","level","disable","nextLevel","fillWall","sendEndMessage","use","vue_router_esm","transformCase","text","toLowerCase","replace","components","component","router","routes","path","redirect","toConsumableArray","src_router","config","productionTip"],"mappings":"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","file":"js/app.c8758bdd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ife/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/default.745351e1.jpg\";","import './index.scss';\n\ninterface Options {\n  delay: number;\n}\n\nexport default function toast(options: Options) {\n  const list: Toast[] = [],\n    width = window.innerWidth,\n    height = window.innerHeight;\n\n  const defaultRight = width * 0.04,\n    defaultTop = height * 0.06,\n    marginBottom = width * 0.01,\n    marginRight = width * 0.01;\n\n  const computePosition = (current: Toast, prev: Toast) => {\n    const currentEl = current.el,\n      prevEl = prev.el,\n      prevBottomHeight = prev.top + prevEl.offsetHeight + marginBottom;\n\n    // 当前栏高度无法容下元素时切换到另一栏\n    if (prevBottomHeight + currentEl.offsetHeight > height) {\n      current.setPosition(\n        defaultTop,\n        prev.right + prevEl.offsetWidth + marginRight\n      );\n    } else {\n      current.setPosition(prevBottomHeight, prev.right);\n    }\n  };\n\n  return (message: string, delay: number = options.delay) => {\n    const t = new Toast(message);\n\n    if (list.length > 0) {\n      computePosition(t, list[list.length - 1]);\n    } else {\n      t.setPosition(defaultTop, defaultRight);\n    }\n\n    list.push(t);\n\n    t.show();\n\n    setTimeout(() => {\n      t.hide();\n      list.splice(0, 1);\n      if (list.length > 0) {\n        list[0].setPosition(defaultTop, defaultRight);\n        if (list.length > 1) {\n          for (let i = 1, l = list.length; i < l; i++) {\n            computePosition(list[i], list[i - 1]);\n          }\n        }\n      }\n    }, delay);\n  };\n}\n\nclass Toast {\n  private _el: HTMLElement;\n  private _message: string;\n  public top: number;\n  public right: number;\n\n  constructor(message: string) {\n    this._message = message;\n    this.init();\n  }\n\n  private init() {\n    const el = document.createElement('div');\n\n    el.classList.add('toast');\n\n    el.innerHTML = this._message;\n\n    document.body.appendChild(el);\n\n    this._el = el;\n  }\n\n  public show = () => {\n    this._el.classList.add('show');\n  };\n\n  public hide = () => {\n    this._el.classList.remove('show');\n    this._el.classList.add('hide');\n\n    // this._el.style.animationDuration = duration + 'ms';\n\n    // 简单地用计时器做动画结束判断\n    setTimeout(() => {\n      document.body.removeChild(this._el);\n    }, 300);\n  };\n\n  public setPosition(top: number, right: number) {\n    const el = this.el;\n    this.top = top;\n    this.right = right;\n    Object.assign(el.style, {\n      top: top + 'px',\n      right: right + 'px'\n    });\n  }\n\n  get el(): HTMLElement {\n    return this._el;\n  }\n}\n","import Clock from '@/libs/clock';\r\nimport { toast } from '@/libs/utils';\r\n\r\nimport './index.scss';\r\n\r\nconst getInitialTime = () => {\r\n  const now = new Date();\r\n\r\n  return {\r\n    hours: now.getHours(),\r\n    minutes: now.getMinutes(),\r\n    seconds: now.getSeconds(),\r\n    offset: -new Date().getTimezoneOffset() * 60 * 1000\r\n  };\r\n};\r\n\r\nconst parts = [\r\n  {\r\n    name: 'hours',\r\n    label: '小时',\r\n    max: 23\r\n  },\r\n  {\r\n    name: 'minutes',\r\n    label: '分钟',\r\n    max: 59\r\n  },\r\n  {\r\n    name: 'seconds',\r\n    label: '秒',\r\n    max: 59\r\n  }\r\n];\r\n\r\nconst timeZones = [];\r\n\r\nfor (let i = -12; i <= 12; i++) {\r\n  let name = 'UTC';\r\n\r\n  if (i > 0) {\r\n    name += `+${i}`;\r\n  } else if (i < 0) {\r\n    name += i;\r\n  }\r\n\r\n  timeZones.push({\r\n    name: name,\r\n    offset: i * 60 * 60 * 1000\r\n  });\r\n}\r\n\r\ntimeZones.sort((x, y) => {\r\n  return y.offset - x.offset;\r\n});\r\n\r\nexport default {\r\n  name: 'Clock',\r\n  data() {\r\n    return {\r\n      time: getInitialTime(),\r\n      alarms: []\r\n    };\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"clock\">\r\n        <section>\r\n          <canvas ref=\"canvas\" />\r\n        </section>\r\n        <section>\r\n          <form\r\n            class=\"clock__time-from\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n              this.setTime();\r\n            }}\r\n          >\r\n            {parts.map(p => (\r\n              <div class=\"form-group\">\r\n                <label for={p.name}>{p.label}：</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={this.time[p.name]}\r\n                  onInput={e => {\r\n                    this.updateInput(e, p);\r\n                  }}\r\n                  max={p.max}\r\n                  min=\"0\"\r\n                  step=\"1\"\r\n                />\r\n              </div>\r\n            ))}\r\n            <div class=\"form-group\">\r\n              <label for=\"offset\">时区：</label>\r\n              <select value={this.time.offset} onChange={this.updateZone}>\r\n                {timeZones.map(t => (\r\n                  <option key={t.name} value={t.offset}>\r\n                    {t.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </form>\r\n        </section>\r\n        <section>\r\n          <div class=\"clock__btns\">\r\n            <button type=\"button\" onClick={this.setTime}>\r\n              设置时间\r\n            </button>\r\n            <button type=\"button\" onClick={this.addAlarm}>\r\n              设置闹钟\r\n            </button>\r\n            <button type=\"button\" onClick={this.clearAlarms}>\r\n              清除闹钟\r\n            </button>\r\n            <button type=\"button\" onClick={this.resetClock}>\r\n              还原时钟\r\n            </button>\r\n          </div>\r\n        </section>\r\n\r\n        <section>\r\n          <div class=\"clock__alarms\">\r\n            {!this.alarms || this.alarms.length < 1 ? (\r\n              <p>暂无闹钟</p>\r\n            ) : (\r\n              this.alarms.map((alarm, index) => (\r\n                <p key={index}>\r\n                  闹铃时间：\r\n                  {alarm.time.toLocaleString()}\r\n                </p>\r\n              ))\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  },\r\n  methods: {\r\n    updateInput(e, time) {\r\n      const value = Number(e.target.value);\r\n      let result = value;\r\n\r\n      if (Number.isNaN(value) || value < 0) {\r\n        result = 0;\r\n      }\r\n\r\n      if (result > time.max) {\r\n        result = time.max;\r\n      }\r\n\r\n      this.time[time.name] = result;\r\n    },\r\n    updateZone(e) {\r\n      const value = Number(e.target.value);\r\n      const offset = this.getTimezoneOffsetMilliSeconds(value);\r\n\r\n      this.time.offset = value;\r\n      this.$_clock.offset = offset;\r\n    },\r\n    getTimezoneOffsetMilliSeconds(value) {\r\n      return value + new Date().getTimezoneOffset() * 60 * 1000;\r\n    },\r\n    setTime() {\r\n      const clock = this.$_clock;\r\n      const now = new Date();\r\n      const settedTime = this.getFormTime();\r\n      const offset =\r\n        settedTime.getTime() -\r\n        now.getTime() +\r\n        this.getTimezoneOffsetMilliSeconds(this.time.offset);\r\n\r\n      clock.offset = offset;\r\n    },\r\n    addAlarm() {\r\n      const clock = this.$_clock;\r\n      const settedTime = this.getFormTime();\r\n\r\n      clock.addAlarm(settedTime, this.triggerAlarm, false);\r\n\r\n      this.alarms = clock.alarms;\r\n    },\r\n    clearAlarms() {\r\n      const clock = this.$_clock;\r\n\r\n      clock.clearAlarms();\r\n\r\n      this.alarms = [];\r\n    },\r\n    getFormTime() {\r\n      const now = new Date();\r\n\r\n      const [year, month, date] = [\r\n        now.getFullYear(),\r\n        now.getMonth(),\r\n        now.getDate()\r\n      ];\r\n\r\n      const { hours, minutes, seconds } = this.time;\r\n\r\n      const settedTime = new Date(year, month, date, hours, minutes, seconds); // 丢弃毫秒\r\n\r\n      return settedTime;\r\n    },\r\n    triggerAlarm() {\r\n      const clock = this.$_clock;\r\n\r\n      this.alarms = clock.alarms;\r\n\r\n      toast('闹钟响啦...');\r\n    },\r\n    resetClock() {\r\n      const clock = this.$_clock;\r\n\r\n      Object.assign(this.time, getInitialTime());\r\n\r\n      clock.offset = 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$_clock = new Clock(this.$refs.canvas);\r\n  },\r\n  beforeDestroy() {\r\n    if (this.$_clock) {\r\n      this.$_clock.destroy();\r\n    }\r\n  }\r\n};\r\n","import toast from './toast';\n\nconst t = toast({\n  delay: 5000\n});\n\nexport { t as toast };\n\nexport const debounce = (func, wait: number) => {\n  let timer = null;\n\n  return (...args) => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(() => {\n      func(...args);\n    }, wait);\n  };\n};\n","const hasStorageApi = !!window.localStorage;\n\nconst key = 'DING_MENU_VISIBLE';\n\nexport const getCachedMenuVisible = () => {\n  if (!hasStorageApi) {\n    return true;\n  }\n\n  const visible = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(visible);\n  } catch (e) {\n    return true;\n  }\n};\n\nexport const setCachedMenuVisible = visible => {\n  if (!hasStorageApi) {\n    return;\n  }\n\n  localStorage.setItem(key, visible);\n};\n","import { debounce } from '@/libs/utils';\nimport { getCachedMenuVisible, setCachedMenuVisible } from './storage';\nimport './index.scss';\n\n// 获取视窗宽高\nconst getWindowSize = () => {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n};\n\nexport default {\n  name: 'App',\n  data: () => ({\n    menus: [\n      {\n        label: '动画时钟',\n        name: 'Clock'\n      },\n      {\n        label: '颜色选择器',\n        name: 'ColorPicker'\n      },\n      {\n        label: '图片裁剪器',\n        name: 'Cropper'\n      },\n      {\n        label: '无限滚动列表',\n        name: 'InfiniteScroll'\n      },\n      {\n        label: '贪食蛇',\n        name: 'Snake'\n      }\n    ],\n    menusVisible: getCachedMenuVisible(),\n    window: getWindowSize(),\n    contentOffsetTop: 0 // 内容区域离页面顶部的距离，用于计算内容区域的最小高度\n  }),\n  computed: {\n    isMobile() {\n      return this.window.width < 768;\n    },\n    shouldMenuVisible() {\n      if (!this.isMobile) {\n        return true;\n      }\n\n      return this.menusVisible;\n    }\n  },\n  render() {\n    return (\n      <div id=\"app\" class=\"app\">\n        <header class=\"app__header\">\n          <h1 class=\"app__logo\">\n            <a href=\"https://dingyuchao.me\">ding-js</a>\n          </h1>\n          <nav class=\"app__nav\" v-show={this.shouldMenuVisible}>\n            {this.menus.map(menu => (\n              <router-link key={menu.name} to={{ name: menu.name }} tag=\"li\">\n                <a>{menu.label}</a>\n              </router-link>\n            ))}\n            <li>\n              <a\n                href={`https://github.com/ding-js/ife/tree/master/src/containers/${\n                  this.$route.name\n                }`}\n                target=\"_blank\"\n              >\n                查看源码\n              </a>\n            </li>\n          </nav>\n          {this.isMobile ? (\n            <div>\n              <svg\n                onClick={this.expandToggle}\n                fill=\"#666\"\n                height=\"36\"\n                width=\"36\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class={{\n                  'app__nav-btn': true,\n                  'app__nav-btn--expand': this.shouldMenuVisible\n                }}\n              >\n                <path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\" />\n                <path d=\"M0-.75h24v24H0z\" fill=\"none\" />\n              </svg>\n            </div>\n          ) : null}\n        </header>\n        <div class=\"app__body\">\n          <div\n            class=\"content\"\n            ref=\"content\"\n            style={{\n              minHeight: `${this.window.height - this.contentOffsetTop - 24}px`\n            }}\n          >\n            <router-view window={this.window} />\n          </div>\n        </div>\n      </div>\n    );\n  },\n  mounted() {\n    this.$_handleResize = debounce(() => {\n      this.window = getWindowSize();\n      this.updateContentOffsetHeight();\n    }, 100);\n\n    this.updateContentOffsetHeight();\n\n    window.addEventListener('resize', this.$_handleResize);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.$_handleResize);\n  },\n  methods: {\n    expandToggle() {\n      this.menusVisible = !this.menusVisible;\n    },\n    updateContentOffsetHeight() {\n      const content = this.$refs.content;\n\n      if (!content) {\n        return;\n      }\n\n      this.contentOffsetTop = content.offsetTop;\n    }\n  },\n\n  watch: {\n    menusVisible(visible) {\n      setCachedMenuVisible(visible);\n\n      this.$nextTick(() => {\n        this.updateContentOffsetHeight();\n      });\n    }\n  }\n};\n","export default {\n  name: 'NotFound',\n  render() {\n    return <p>404 Not Found.</p>;\n  }\n};\n","interface CanvasOptions {\n  width?: number;\n  height?: number;\n}\n\ninterface CanvasResult {\n  canvas: HTMLCanvasElement;\n  width: number;\n  height: number;\n}\n\nexport const generateCanvas = (\n  container: HTMLElement | HTMLCanvasElement,\n  options: CanvasOptions = {},\n  defaultOptions: CanvasOptions = {}\n): CanvasResult => {\n  if (!container || !container.tagName) {\n    console.warn('Invaid element');\n    return;\n  }\n\n  const [w, h] = ['width', 'height'].map(key => {\n    if (typeof options[key] === 'number') {\n      return options[key];\n    }\n\n    return (\n      +container.getAttribute(key) ||\n      defaultOptions[key] ||\n      +container['offset' + key.charAt(0).toUpperCase() + key.slice(1)] ||\n      0\n    );\n  });\n\n  let canvas: HTMLCanvasElement;\n\n  if (container.tagName === 'CANVAS') {\n    canvas = container as HTMLCanvasElement;\n  } else {\n    canvas = document.createElement('canvas');\n    container.appendChild(canvas);\n  }\n\n  canvas.setAttribute('width', w);\n  canvas.setAttribute('height', h);\n\n  return { canvas, width: w, height: h };\n};\n","import { generateCanvas } from '../utils/canvas';\n\ninterface Options {\n  /**\n   * 时钟半径\n   *\n   * @type {number}\n   * @memberof Options\n   */\n  radius?: number;\n  /**\n   * 时钟颜色\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  color?: string;\n  width?: number;\n  height?: number;\n}\n\ninterface Coordinate {\n  x?: number;\n  y?: number;\n}\n\ninterface Alarm {\n  time: Date;\n  cb(): void;\n  repeat: boolean;\n}\n\ninterface Pointer {\n  /**\n   * 顶点y坐标\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  topY: number;\n  /**\n   * 底点y坐标\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  bottomY: number;\n  /**\n   * 角度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  degree: number;\n  /**\n   * 底部宽度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  bottomWidth: number;\n  /**\n   * 顶部宽度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  topWidth: number;\n}\n\ninterface Time {\n  date: Date;\n  hourDegree: number;\n  minuteDegree: number;\n  secondDegree: number;\n  hour: number;\n  minute: number;\n  second: number;\n}\n\nexport default class Clock {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _options: Options;\n  /**\n   * 与当前时间偏移的毫秒数\n   *\n   * @private\n   * @type {number}\n   * @memberof Clock\n   */\n  private _offset: number = 0;\n  private _alarms: Alarm[] = [];\n\n  private _requestId: number;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const _options: Options = {\n      color: '#9b9b9b'\n    };\n\n    const r = generateCanvas(container, options, {\n      width: 300,\n      height: 300\n    });\n\n    const canvas = r.canvas;\n\n    this._canvas = canvas;\n\n    this._ctx = canvas.getContext('2d');\n\n    Object.assign(_options, options, {\n      width: r.width,\n      height: r.height\n    });\n\n    const defaultRadius = Math.min(_options.width, _options.height) / 2;\n\n    if (\n      !_options.radius ||\n      _options.radius > defaultRadius ||\n      _options.radius <= 1\n    ) {\n      _options.radius = defaultRadius;\n    }\n\n    this._options = _options;\n\n    this.draw();\n  }\n\n  private draw = () => {\n    const time = this.getCurrentTime();\n\n    const ctx = this._ctx;\n\n    const { width, height, color, radius } = this._options;\n\n    const center: Coordinate = {\n      x: width / 2,\n      y: height / 2\n    };\n\n    const borderWidth = radius * 0.08;\n    const borderRadius = radius - borderWidth / 2;\n\n    ctx.clearRect(0, 0, width, height);\n\n    ctx.save();\n\n    // 绘制边框\n    ctx.strokeStyle = color;\n    ctx.lineWidth = borderWidth;\n    ctx.beginPath();\n    ctx.arc(center.x, center.y, borderRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n\n    ctx.restore();\n\n    ctx.save();\n\n    // 绘制刻度\n    const distanceToTop = borderWidth + radius * 0.02; // 离边框的距离\n    const scaleCount = 5 * 12;\n\n    ctx.fillStyle = color;\n\n    ctx.translate(radius, radius);\n\n    for (let i = 0; i < scaleCount; i++) {\n      const scaleWidth = i % 5 === 0 ? radius / 35 : radius / 70;\n      const scaleHeight = radius * 0.1;\n\n      const x = -scaleWidth / 2,\n        y = distanceToTop - radius;\n\n      ctx.beginPath();\n      ctx.rect(x, y, scaleWidth, scaleHeight);\n      ctx.fill();\n      // 循环结束转完一圈\n      ctx.rotate(2 * Math.PI / scaleCount);\n    }\n\n    ctx.restore();\n    ctx.save();\n\n    // 绘制数字\n    const numberRadius = radius - radius * 0.31;\n\n    const fontsize = radius * 0.18;\n\n    ctx.fillStyle = color;\n    ctx.font = `${fontsize}px sans-serif`;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    for (let i = 1; i <= 12; i++) {\n      const radian = 2 * Math.PI * i / 12;\n      // 数字始终是正常阅读的方向，所以不能使用旋转\n      const { x, y } = this.getCoordinate(numberRadius, radian);\n\n      ctx.fillText(i.toString(), x, y);\n    }\n\n    // 绘制表盘文本\n    ctx.font = `${fontsize * 0.6}px sans-serif`;\n\n    // 0|24~11 am , 12~23 pm\n    ctx.fillText(`${time.hour < 12 ? 'A.M' : 'P.M'}`, center.x, height * 0.3);\n\n    ctx.restore();\n\n    ctx.save();\n\n    // 绘制指针\n\n    // 三个指针的配置\n    const pointers: Pointer[] = [\n      {\n        topY: -0.72,\n        bottomY: 0.24,\n        degree: time.secondDegree,\n        bottomWidth: 0.02,\n        topWidth: 0.01\n      },\n      {\n        topY: -0.6,\n        bottomY: 0.18,\n        degree: time.minuteDegree,\n        bottomWidth: 0.06,\n        topWidth: 0.03\n      },\n      {\n        topY: -0.4,\n        bottomY: 0.13,\n        degree: time.hourDegree,\n        bottomWidth: 0.045,\n        topWidth: 0.02\n      }\n    ];\n\n    const tanBottom = Math.tan(Math.PI * 2 * 60 / 360),\n      tanTop = Math.tan(Math.PI * 2 * 30 / 360);\n\n    ctx.fillStyle = color;\n\n    pointers.forEach(p => {\n      const bottomY = radius * p.bottomY,\n        bottomHalf = radius * p.bottomWidth / 2,\n        bottomHeight = bottomHalf / tanBottom;\n\n      const topY = radius * p.topY,\n        topHalf = radius * p.topWidth / 2,\n        topHeight = topHalf / tanTop;\n\n      ctx.translate(radius, radius);\n      ctx.rotate(p.degree);\n\n      ctx.beginPath();\n      ctx.moveTo(0, bottomY);\n      // buttomLeft\n      ctx.lineTo(-bottomHalf, bottomY - bottomHeight);\n\n      // topLeft\n      ctx.lineTo(-topHalf, topY + topHeight);\n\n      // top\n      ctx.lineTo(0, topY);\n\n      // topRight\n      ctx.lineTo(topHalf, topY + topHeight);\n\n      // bottomRight\n      ctx.lineTo(bottomHalf, bottomY - bottomHeight);\n\n      // bottom\n      ctx.lineTo(0, bottomY);\n\n      ctx.fill();\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n    });\n\n    ctx.restore();\n    ctx.save();\n\n    // 绘制中点\n    ctx.fillStyle = '#ffffff';\n    ctx.beginPath();\n    ctx.arc(center.x, center.y, radius * 0.02, 0, 2 * Math.PI);\n    ctx.fill();\n\n    ctx.restore();\n\n    this.checkAlarms(time.date);\n\n    this._requestId = window.requestAnimationFrame(this.draw);\n  };\n  /**\n   * 根据半径和角度获取改点的坐标\n   *\n   * @private\n   * @param {number} radius\n   * @param {number} radian\n   * @returns {Coordinate}\n   * @memberof Clock\n   */\n  private getCoordinate(radius: number, radian: number): Coordinate {\n    const r = this._options.radius;\n\n    return {\n      x: r + radius * Math.sin(radian),\n      y: r - radius * Math.cos(radian)\n    };\n  }\n\n  // 获取计算过偏移的时间\n  private getCurrentTime(): Time {\n    const now = new Date();\n\n    const date =\n      typeof this._offset === 'number'\n        ? new Date(now.getTime() + this._offset)\n        : now;\n\n    const [hour, minute, second, milliSecond] = [\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds()\n    ];\n\n    // 时针、分针、秒针可以百分比移动\n    const exactS = second + milliSecond / 1000,\n      exactM = minute + exactS / 60,\n      exactH = hour + exactM / 60;\n\n    const [hourDegree, minuteDegree, secondDegree] = [\n      exactH / 12,\n      exactM / 60,\n      exactS / 60\n    ].map(v => v * 2 * Math.PI);\n\n    return {\n      date,\n      hourDegree,\n      minuteDegree,\n      secondDegree,\n      hour,\n      minute,\n      second\n    };\n  }\n\n  // 检验触发闹钟\n  private checkAlarms(date: Date) {\n    const alarms = this._alarms;\n    if (!alarms || !alarms.length) {\n      return;\n    }\n\n    for (let i = 0; i < alarms.length; i++) {\n      const alarm = alarms[i];\n\n      if (Math.abs(date.getTime() - alarm.time.getTime()) < 500) {\n        if (!alarm.repeat) {\n          this._alarms.splice(i, i + 1);\n          i--;\n        }\n        alarm.cb();\n      }\n    }\n  }\n  /**\n   * 增加闹钟\n   *\n   * @param {Date} time\n   * @param {() => void} cb\n   * @param {boolean} [repeat=true] 是否每天重复\n   * @memberof Clock\n   */\n  public addAlarm(time: Date, cb: () => void, repeat = true) {\n    if (!this._alarms) {\n      this._alarms = [];\n    }\n\n    this._alarms.push({\n      time,\n      cb,\n      repeat\n    });\n  }\n  /**\n   * 清除所有闹钟\n   *\n   * @memberof Clock\n   */\n  public clearAlarms() {\n    this._alarms = [];\n  }\n\n  public destroy(removeCanvas: boolean = true) {\n    if (this._requestId) {\n      window.cancelAnimationFrame(this._requestId);\n    }\n\n    if (removeCanvas && this._canvas) {\n      this._canvas.parentNode.removeChild(this._canvas);\n    }\n  }\n\n  set offset(time: number) {\n    this._offset = time;\n  }\n\n  get offset() {\n    return this._offset;\n  }\n\n  get alarms() {\n    return this._alarms;\n  }\n}\n","import * as utils from '../utils';\nimport { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\n\ninterface Options {\n  preview?: PreviewConfig | PreviewConfig[];\n  width?: number;\n  height?: number;\n  onCropperChange?(cropper: Square): void;\n}\n\ninterface Coordinate {\n  x: number;\n  y: number;\n}\n\ninterface Square extends Coordinate {\n  width: number;\n  height: number;\n}\n\ninterface SquareConfig {\n  width?: number;\n  height?: number;\n  x?: number;\n  y?: number;\n}\n\ninterface ImageSquare extends Square {\n  element: HTMLImageElement;\n  clientWidth: number;\n  clientHeight: number;\n}\n\ninterface TypeConfig {\n  cursor: string;\n  handler?(e: Coordinate): void;\n}\ninterface PreviewConfig {\n  container: HTMLElement;\n  zoom: number;\n}\n\ninterface Preview extends PreviewConfig {\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n}\n\ninterface PointType extends Coordinate {\n  type: Types;\n  offsetX: number;\n  offsetY: number;\n}\n\nenum Types {\n  cropper,\n  image,\n  pointRD,\n  background\n}\n\nexport default class Cropper {\n  public static Messages = {\n    1001: '没有图片'\n  };\n\n  private _options: Options;\n  private _ctx: CanvasRenderingContext2D;\n  private _canvas: HTMLCanvasElement;\n  private _id: number;\n  private _startPoint: PointType;\n\n  private _previewList: Preview[];\n\n  private _image: ImageSquare;\n  private _cropper: Square;\n  private _point: Square;\n\n  private _scale: number = 1;\n\n  private _types: {\n    [key: number]: TypeConfig;\n  };\n\n  private _cropperCanvas: HTMLCanvasElement;\n  private _cropperCtx: CanvasRenderingContext2D;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const r = generateCanvas(container, options, {\n      width: 700,\n      height: 450\n    });\n\n    const _options = Object.assign({}, options, {\n      width: r.width,\n      heigth: r.height\n    });\n\n    this._canvas = r.canvas;\n\n    this._ctx = r.canvas.getContext('2d');\n\n    this._options = _options;\n\n    this._types = {\n      [Types.cropper]: {\n        cursor: 'all-scroll',\n        handler: this.handleCropperMove\n      },\n      [Types.image]: {\n        cursor: 'default',\n        handler: this.handleImageMove\n      },\n      [Types.pointRD]: {\n        cursor: 'nwse-resize',\n        handler: this.handlePointMove\n      },\n      [Types.background]: {\n        cursor: 'default'\n      }\n    };\n\n    this.init();\n  }\n\n  private init() {\n    const op = this._options;\n    const canvas = this._canvas;\n    const cW = op.width / 3;\n    const cH = op.height / 3;\n\n    this._cropperCanvas = document.createElement('canvas');\n    this._cropperCtx = this._cropperCanvas.getContext('2d');\n\n    this.cropper = {\n      width: cW,\n      height: cH,\n      x: (op.width - cW) / 2,\n      y: (op.height - cH) / 2\n    };\n\n    if (op.preview) {\n      this._previewList = (Array.isArray(op.preview)\n        ? op.preview\n        : [op.preview]\n      ).map(v => {\n        const cvs = document.createElement('canvas');\n\n        v.container.appendChild(cvs);\n        return { ...v, canvas: cvs, ctx: cvs.getContext('2d') };\n      });\n    }\n\n    // 缩放\n    canvas.addEventListener('mousewheel', this.handleMouseWheel);\n\n    this._id = bind(canvas, {\n      onStart: this.handleStart,\n      onMove: this.handleMove\n    });\n  }\n\n  private handleStart = e => {\n    this._startPoint = this.getPointByCoordinate(e.x, e.y);\n  };\n\n  private handleMove = e => {\n    const type = this._types[this._startPoint.type];\n\n    if (!type || !type.handler) {\n      return;\n    }\n\n    type.handler(e);\n  };\n\n  private handleMouseWheel = (e: MouseWheelEvent) => {\n    e.preventDefault();\n\n    const image = this._image;\n\n    if (!image) {\n      return;\n    }\n\n    let width = image.clientWidth,\n      height = image.clientHeight,\n      k; // 最终的缩放系数\n\n    const scale = this._scale,\n      offset = e.deltaY / 800;\n\n    if (offset > 0) {\n      k = 1 / (1 + offset);\n    } else {\n      k = 1 + Math.abs(offset);\n    }\n\n    k *= scale;\n\n    this._scale = k;\n\n    width *= k;\n    height *= k;\n\n    image.x += (image.width - width) / 2;\n    image.y += (image.height - height) / 2;\n\n    image.width = width;\n    image.height = height;\n\n    this.draw();\n  };\n\n  private getPointByCoordinate(x, y): PointType {\n    const point = this._point;\n    const cropper = this._cropper;\n    const image = this._image;\n    const t: PointType = {\n      x,\n      y\n    } as PointType;\n\n    // 设置偏移(点击坐标与定点坐标)\n    if (\n      point &&\n      x > point.x &&\n      x < point.x + point.width &&\n      y > point.y &&\n      y < point.y + point.height\n    ) {\n      t.type = Types.pointRD;\n    } else if (\n      cropper &&\n      x > cropper.x &&\n      x < cropper.x + cropper.width &&\n      y > cropper.y &&\n      y < cropper.y + cropper.height\n    ) {\n      t.offsetX = x - cropper.x;\n      t.offsetY = y - cropper.y;\n      t.type = Types.cropper;\n    } else if (\n      image &&\n      x > image.x &&\n      x < image.x + image.width &&\n      y > image.y &&\n      y < image.y + image.height\n    ) {\n      t.offsetX = x - image.x;\n      t.offsetY = y - image.y;\n      t.type = Types.image;\n    } else {\n      t.type = Types.background;\n    }\n\n    return t;\n  }\n\n  private updatePoint() {\n    const c = this._cropper;\n    const w = 8;\n    const h = 8;\n\n    this._point = {\n      width: w,\n      height: h,\n      x: c.x + c.width - w / 2,\n      y: c.y + c.height - h / 2\n    };\n  }\n\n  private handleImageMove = ({ x, y }) => {\n    const s = this._startPoint;\n\n    this._image.x = x - s.offsetX;\n    this._image.y = y - s.offsetY;\n\n    this.draw();\n  };\n\n  private handleCropperMove = ({ x, y }) => {\n    const { width, height } = this._options;\n    const s = this._startPoint;\n    const oX = s.offsetX;\n    const oY = s.offsetY;\n    const maxX = width - this._cropper.width;\n    const maxY = height - this._cropper.height;\n\n    let currentX = x - oX,\n      currentY = y - oY;\n\n    // 判断边界\n\n    if (currentX < 0) {\n      currentX = 0;\n    }\n\n    if (currentX > maxX) {\n      currentX = maxX;\n    }\n\n    if (currentY < 0) {\n      currentY = 0;\n    }\n\n    if (currentY > maxY) {\n      currentY = maxY;\n    }\n\n    this.cropper = {\n      x: currentX,\n      y: currentY\n    };\n  };\n\n  private handlePointMove = ({ x, y }) => {\n    const s = this._startPoint;\n    const w = x - this._cropper.x;\n    const h = y - this._cropper.y;\n\n    if (w <= 0 || h <= 0) {\n      return;\n    }\n\n    this.cropper = {\n      width: w,\n      height: h\n    };\n  };\n\n  // 填充背景\n  private fillBackground() {\n    const { width, height } = this._options;\n\n    const ctx = this._ctx,\n      side = width / 40,\n      x = Math.ceil(width / side),\n      y = Math.ceil(height / side);\n\n    ctx.save();\n\n    ctx.fillStyle = '#ccc';\n\n    let k = 0;\n    for (let i = 0; i < y; i++) {\n      for (let j = 0; j < x; j++) {\n        if ((k + i) % 2 === 0) {\n          ctx.fillRect(j * side, i * side, side, side);\n        }\n        k++;\n      }\n    }\n\n    ctx.fillStyle = 'rgba(0,0,0,0.1)';\n\n    ctx.fillRect(0, 0, width, height);\n\n    ctx.restore();\n  }\n\n  private fillImage() {\n    const ctx = this._ctx,\n      image = this._image;\n\n    if (image) {\n      ctx.drawImage(image.element, image.x, image.y, image.width, image.height);\n    }\n  }\n\n  private fillCropper() {\n    const ctx = this._ctx,\n      cropper = this._cropper;\n\n    ctx.save();\n\n    ctx.strokeStyle = '#39f';\n\n    ctx.strokeRect(cropper.x, cropper.y, cropper.width, cropper.height);\n\n    ctx.fillStyle = '#39f';\n\n    const point = this._point;\n\n    ctx.fillRect(point.x, point.y, point.width, point.height);\n\n    ctx.restore();\n  }\n\n  private getCropperData() {\n    const image = this._image,\n      cropper = this._cropper;\n\n    let [currentX, currentY, currentH, currentW] = [\n      cropper.x,\n      cropper.y,\n      cropper.height,\n      cropper.width\n    ];\n\n    let offsetX = 0,\n      offsetY = 0;\n\n    // 左边超出边界\n    if (cropper.x < image.x) {\n      currentX = image.x;\n      offsetX = image.x - cropper.x;\n      currentW -= offsetX;\n    }\n\n    // 上边超出边界\n    if (cropper.y < image.y) {\n      currentY = image.y;\n      offsetY = image.y - cropper.y;\n      currentH -= offsetY;\n    }\n\n    // 右边超出边界\n    if (cropper.x + cropper.width > image.x + image.width) {\n      currentW -= cropper.x + cropper.width - (image.x + image.width);\n    }\n\n    // 下边超出边界\n    if (cropper.y + cropper.height > image.y + image.height) {\n      currentH -= cropper.y + cropper.height - (image.y + image.height);\n    }\n\n    if (currentW < 0 || currentH < 0) {\n      return;\n    }\n\n    return {\n      width: currentW,\n      height: currentH,\n      x: currentX,\n      y: currentY,\n      offsetX,\n      offsetY,\n      imageData: this._ctx.getImageData(currentX, currentY, currentW, currentH)\n    };\n  }\n\n  private draw() {\n    const { width, height } = this._options;\n\n    // 避免预览到背景\n\n    this._ctx.clearRect(0, 0, width, height);\n\n    this.fillBackground();\n\n    this.fillImage();\n\n    this.fillCropper();\n\n    this.preview();\n  }\n\n  private updateImage(image: HTMLImageElement) {\n    if (!image.src) {\n      return;\n    }\n\n    const { width, height } = this._options;\n\n    const clientW = image.width,\n      clientH = image.height;\n\n    let currentW = clientW,\n      currentH = clientH,\n      k = 1; // contain 时的缩放比\n\n    // contain 图片\n    if (clientW > width) {\n      currentW = width;\n      k = currentW / clientW;\n      currentH = k * clientH;\n    }\n\n    if (currentH > height) {\n      currentH = height;\n      k = currentH / clientH;\n      currentW = k * clientW;\n    }\n\n    // 清空配置\n    this._image = {\n      element: image,\n      width: currentW,\n      height: currentH,\n      x: (width - currentW) / 2,\n      y: (height - currentH) / 2,\n      clientWidth: clientW,\n      clientHeight: clientH\n    };\n\n    this._scale = k;\n\n    this.draw();\n  }\n\n  private preview() {\n    if (!this._previewList || !this._image) {\n      return;\n    }\n\n    const scale = this._scale;\n    const image = this._image;\n    const cropper = this._cropper;\n    const op = this._options;\n\n    this._previewList.forEach(v => {\n      const w = cropper.width * v.zoom;\n      const h = cropper.height * v.zoom;\n\n      const transformOrigin = 'top left';\n\n      v.canvas.width = w;\n      v.canvas.height = h;\n\n      v.ctx.clearRect(0, 0, w, h);\n\n      v.ctx.drawImage(\n        image.element,\n        (image.x - cropper.x) * v.zoom,\n        (image.y - cropper.y) * v.zoom,\n        image.width * v.zoom,\n        image.height * v.zoom\n      );\n    });\n  }\n\n  public crop() {\n    return new Promise((resolve, reject) => {\n      const { width, height } = this._options;\n\n      const image = this._image;\n\n      const cropper = this._cropper;\n\n      const ctx = this._cropperCtx;\n\n      const scale = this._scale;\n\n      if (!image.element) {\n        reject({\n          code: 1001,\n          message: Cropper.Messages['1001']\n        });\n      }\n\n      Object.assign(this._cropperCanvas, {\n        width: cropper.width,\n        height: cropper.height\n      });\n\n      ctx.clearRect(0, 0, width, height);\n\n      ctx.drawImage(\n        image.element,\n\n        (image.x - cropper.x) * scale,\n        (image.y - cropper.y) * scale,\n        image.width * scale,\n        image.height * scale\n      );\n\n      const url = this._cropperCanvas.toDataURL();\n\n      resolve(url);\n    });\n  }\n\n  public destroy(removeCanvas: boolean = true) {\n    const remove = (el: HTMLElement) => el.parentNode.removeChild(el);\n    unbind(this._id);\n    window.removeEventListener('mousewheel', this.handleMouseWheel);\n\n    if (removeCanvas) {\n      remove(this._canvas);\n      if (this._previewList) {\n        this._previewList.forEach(v => {\n          remove(v.canvas);\n        });\n      }\n    }\n  }\n\n  set image(image: File | HTMLImageElement) {\n    if (image instanceof HTMLImageElement) {\n      this.updateImage(image);\n    } else if (image instanceof File) {\n      if (!image.type.match(/^image\\/.+$/)) {\n        utils.toast('请选择正确的图片文件');\n        return;\n      }\n\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        const _image = new Image();\n        _image.src = (e.target as any).result;\n        _image.onload = () => {\n          this.updateImage(_image);\n        };\n      };\n\n      reader.readAsDataURL(image);\n    } else {\n      return;\n    }\n  }\n\n  get image() {\n    return this._image.element;\n  }\n\n  set cropper(cropper: SquareConfig) {\n    if (!this._cropper) {\n      this._cropper = {} as Square;\n    }\n\n    let change = false;\n\n    Object.keys(cropper).forEach(k => {\n      const v = Math.round(cropper[k]);\n\n      if (this._cropper[k] !== v) {\n        this._cropper[k] = v;\n        change = true;\n      }\n    });\n\n    if (!change) {\n      return;\n    }\n\n    this.updatePoint();\n\n    if (this._options.onCropperChange) {\n      this._options.onCropperChange(this._cropper);\n    }\n\n    this.draw();\n  }\n\n  get cropper() {\n    return this._cropper;\n  }\n}\n","type EventCb = (e: E) => void;\n\ninterface E {\n  x: number;\n  y: number;\n}\n\ninterface Options {\n  onStart?: EventCb;\n  onMove?: EventCb;\n  onEnd?: EventCb;\n}\n\ninterface Instance {\n  move;\n  start;\n  end;\n  bind;\n  unbind;\n}\n\nconst eventsMap = new Map<number, Instance>();\n\nlet uid = 0;\n\nconst getCoordinateByEvent = (\n  element: HTMLElement,\n  e: MouseEvent | TouchEvent\n) => {\n  if ((e as TouchEvent).touches) {\n    const rect = element.getBoundingClientRect();\n    const touch = (e as TouchEvent).touches[0];\n\n    return {\n      x: touch.clientX - rect.left,\n      y: touch.clientY - rect.top\n    };\n  } else {\n    return {\n      x: (e as MouseEvent).offsetX,\n      y: (e as MouseEvent).offsetY\n    };\n  }\n};\n\nexport const bind = (element: HTMLElement, cb: EventCb | Options) => {\n  const cbs: Options = {} as Options;\n\n  switch (typeof cb) {\n    case 'function':\n      cbs.onMove = cb as EventCb;\n      break;\n    case 'object':\n      Object.assign(cbs, cb);\n      break;\n    default:\n      break;\n  }\n\n  const instance = {\n    last: null,\n    move: (e: MouseEvent | TouchEvent) => {\n      if (e.target !== element) {\n        return;\n      }\n\n      const coordinate = getCoordinateByEvent(element, e);\n\n      instance.last = coordinate;\n\n      if (cbs.onMove) {\n        cbs.onMove(coordinate);\n      }\n    },\n    start: (e: MouseEvent | TouchEvent) => {\n      e.preventDefault();\n\n      if (e.target !== element) {\n        return;\n      }\n\n      if (cbs.onStart) {\n        cbs.onStart(getCoordinateByEvent(element, e));\n      }\n\n      document.addEventListener('mousemove', instance.move);\n      document.addEventListener('touchmove', instance.move);\n    },\n    end: () => {\n      if (cbs.onEnd) {\n        cbs.onEnd(instance.last);\n      }\n\n      document.removeEventListener('mousemove', instance.move);\n      document.removeEventListener('touchmove', instance.move);\n    },\n    bind: () => {\n      element.addEventListener('mousedown', instance.start);\n      element.addEventListener('touchstart', instance.start);\n\n      document.addEventListener('mouseup', instance.end);\n      document.addEventListener('touchend', instance.end);\n    },\n    unbind: () => {\n      instance.end();\n\n      element.removeEventListener('mousedown', instance.start);\n      element.removeEventListener('touchstart', instance.start);\n\n      document.removeEventListener('mouseup', instance.end);\n      document.removeEventListener('touchend', instance.end);\n    }\n  };\n\n  instance.bind();\n\n  uid++;\n\n  eventsMap.set(uid, instance);\n\n  return uid;\n};\n\nexport const unbind = (id: number) => {\n  const instance = eventsMap.get(id);\n\n  if (!instance) {\n    return;\n  }\n\n  instance.unbind();\n\n  eventsMap.delete(id);\n};\n","import { bind, unbind } from '../utils/move';\nimport { generateCanvas } from '../utils/canvas';\nimport * as covert from 'color-convert';\n\ninterface Color {\n  h: number;\n  s: number;\n  v: number;\n}\n\nexport interface ColorBlockOptions {\n  width: number;\n  height: number;\n  lineWidth?: number;\n  padding?: number;\n  onColorChange?(color: Color): void;\n}\n\nexport class ColorBlock {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _contentWidth: number;\n  private _contentHeight: number;\n  private _hue: string;\n  private _x: number;\n  private _y: number;\n  private _whiteGradient: CanvasGradient;\n  private _blackGradient: CanvasGradient;\n  private _color: Color;\n  private _id: number;\n\n  private _options: ColorBlockOptions;\n\n  constructor(canvas: HTMLCanvasElement, options: ColorBlockOptions) {\n    const _options = {\n      lineWidth: 1,\n      padding: 10\n    };\n\n    const r = generateCanvas(canvas, options);\n\n    if (options) {\n      Object.assign(_options, options);\n    }\n\n    this._options = _options as ColorBlockOptions;\n\n    this._canvas = canvas;\n\n    this.init();\n  }\n\n  private init() {\n    const canvas = this._canvas,\n      ctx = canvas.getContext('2d');\n\n    const { width, height, lineWidth, padding } = this._options;\n\n    const contentWidth = width - padding * 2,\n      contentHeight = height - padding * 2;\n\n    ctx.lineWidth = lineWidth;\n\n    this._ctx = ctx;\n\n    this._contentWidth = contentWidth;\n    this._contentHeight = contentHeight;\n\n    this.initBackground();\n\n    this._id = bind(canvas, ({ x, y }) => {\n      this.setCoordinate(x, y);\n    });\n  }\n\n  private initBackground() {\n    const { _ctx, _color, _options } = this;\n    const { padding, width, height } = _options;\n\n    const black = _ctx.createLinearGradient(\n      width / 2,\n      height - padding,\n      width / 2,\n      padding\n    );\n\n    const white = _ctx.createLinearGradient(\n      padding,\n      height / 2,\n      width - padding,\n      height / 2\n    );\n\n    white.addColorStop(0, '#fff');\n\n    white.addColorStop(1, 'rgba(0,0,0,0)');\n\n    black.addColorStop(0, '#000');\n\n    black.addColorStop(1, 'rgba(0,0,0,0)');\n\n    this._whiteGradient = white;\n\n    this._blackGradient = black;\n  }\n\n  // 填充背景色（拾色器）\n  private fillColor() {\n    const { _ctx, _contentWidth, _contentHeight, _hue } = this;\n\n    const { padding } = this._options;\n\n    if (!_hue) {\n      return;\n    }\n\n    // 填充底色\n    _ctx.save();\n\n    _ctx.fillStyle = _hue;\n\n    _ctx.fillRect(padding, padding, _contentWidth, _contentHeight);\n\n    _ctx.restore();\n\n    // 填充黑白背景\n    [this._whiteGradient, this._blackGradient].forEach(gradient => {\n      _ctx.fillStyle = gradient;\n\n      _ctx.fillRect(padding, padding, _contentWidth, _contentHeight);\n\n      _ctx.restore();\n    });\n  }\n\n  // 设置坐标\n  private setCoordinate(x: number, y: number) {\n    const { padding } = this._options;\n    const { _contentHeight, _contentWidth } = this;\n    let currentX, currentY;\n\n    // 检查边界\n    if (x < padding) {\n      currentX = padding;\n    } else if (x > _contentWidth + padding) {\n      currentX = _contentWidth + padding;\n    } else {\n      currentX = x;\n    }\n\n    if (y < padding) {\n      currentY = padding;\n    } else if (y > _contentHeight + padding) {\n      currentY = _contentHeight + padding;\n    } else {\n      currentY = y;\n    }\n\n    this._x = currentX;\n    this._y = currentY;\n\n    if (this._options.onColorChange) {\n      const color = {\n        h: this.color.h,\n        s: (currentX - padding) / _contentWidth,\n        v: 1 - (currentY - padding) / _contentHeight\n      };\n\n      this._color = color;\n\n      this._options.onColorChange(color);\n    }\n\n    this.draw();\n  }\n\n  // 渲染光标\n  private renderPointer() {\n    const { padding } = this._options;\n\n    const x = this._x,\n      y = this._y;\n\n    if (x !== undefined && y !== undefined) {\n      const ctx = this._ctx;\n\n      ctx.save();\n\n      ctx.strokeStyle = '#000';\n      ctx.beginPath();\n      ctx.arc(x, y, padding / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.restore();\n\n      ctx.strokeStyle = '#fff';\n      ctx.beginPath();\n      ctx.arc(x, y, padding / 2 - this._options.lineWidth, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.restore();\n    }\n  }\n\n  private updateHue() {\n    const h = this._color && this._color.h;\n\n    if (typeof h !== 'number') {\n      return;\n    }\n\n    const [r, g, b] = covert.hsv.rgb(h, 100, 100);\n\n    this._hue = `rgb(${r},${g},${b})`;\n  }\n\n  private updateCoordinate() {\n    const { _contentWidth, _contentHeight, _options } = this;\n\n    this._x = this._color.s * _contentWidth + _options.padding;\n    this._y = (1 - this.color.v) * _contentHeight + _options.padding;\n  }\n\n  private draw() {\n    const { _ctx, _x, _y } = this;\n    const { width, height } = this._options;\n\n    _ctx.clearRect(0, 0, width, height);\n\n    this.fillColor();\n\n    this.renderPointer();\n  }\n\n  public destroy(remove: boolean) {\n    unbind(this._id);\n\n    if (remove) {\n      this._canvas.parentNode.removeChild(this._canvas);\n    }\n  }\n\n  set color(color: Color) {\n    const props = ['h', 's', 'v'];\n    const mergedColor = Object.assign({}, this._color, color);\n    const c = {\n      h: mergedColor.h,\n      s: mergedColor.s,\n      v: mergedColor.v\n    };\n\n    if (this._color && props.every(p => c[p] === this._color[p])) {\n      return;\n    }\n\n    this._color = c;\n\n    this.updateHue();\n\n    this.updateCoordinate();\n\n    this.draw();\n  }\n\n  get color() {\n    return this._color;\n  }\n}\n","import { bind, unbind } from '../utils/move';\nimport { generateCanvas } from '../utils/canvas';\nimport * as covert from 'color-convert';\n\ninterface Color {\n  h: number;\n}\nexport interface ColorBarOptions {\n  width: number;\n  height: number;\n  lineWidth?: number;\n  padding?: number;\n  onColorChange?(color: Color): void;\n}\n\nexport class ColorBar {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _gradient: CanvasGradient;\n  private _y: number;\n  private _contentWidth: number;\n  private _contentHeight: number;\n  private _color: Color;\n  private _id: number;\n\n  private _options: ColorBarOptions;\n\n  constructor(canvas: HTMLCanvasElement, options: ColorBarOptions) {\n    const _options = {\n      lineWidth: 1,\n      padding: 10\n    };\n\n    const r = generateCanvas(canvas, options);\n\n    if (options) {\n      Object.assign(_options, options);\n    }\n\n    this._options = _options as ColorBarOptions;\n\n    this._canvas = canvas;\n\n    this.init();\n  }\n\n  private init() {\n    const { padding, width, height } = this._options;\n\n    const canvas = this._canvas,\n      ctx = canvas.getContext('2d');\n\n    const gradient = ctx.createLinearGradient(\n      padding,\n      padding,\n      padding,\n      height - padding * 2\n    );\n\n    // 填充背景色\n    for (let i = 0; i <= 6; i++) {\n      const k = i / 6;\n\n      const [r, g, b] = covert.hsv.rgb(k * 360, 100, 100);\n\n      gradient.addColorStop(i / 6, `rgb(${r},${g},${b})`);\n    }\n\n    this._contentWidth = width - padding * 2;\n    this._contentHeight = height - padding * 2;\n\n    this._gradient = gradient;\n\n    this._ctx = ctx;\n\n    ctx.lineWidth = this._options.lineWidth;\n\n    this._id = bind(canvas, e => {\n      this.setCoordinate(e.y);\n    });\n  }\n\n  // 这里背景色不会改变,可以复用CanvasGradient\n  private fillBackground() {\n    const gradient = this._gradient,\n      ctx = this._ctx;\n    const { padding, width, height } = this._options;\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(padding, padding, this._contentWidth, this._contentHeight);\n  }\n\n  private setCoordinate(y: number) {\n    const { padding, height } = this._options;\n    let result;\n\n    if (y < padding) {\n      result = padding;\n    } else if (y > height - padding) {\n      result = height - padding;\n    } else {\n      result = y;\n    }\n\n    if (this._y === result) {\n      return;\n    }\n\n    this._y = result;\n\n    if (this._options.onColorChange) {\n      const k = (result - padding) / this._contentHeight;\n      const hue = Math.floor(k * 360);\n\n      const color = { h: hue };\n\n      this._color = color;\n\n      this._options.onColorChange(color);\n    }\n\n    this.draw();\n  }\n\n  // 渲染光标\n  private renderSlider() {\n    if (typeof this._y !== 'number') {\n      return;\n    }\n\n    const { padding, width, height, lineWidth } = this._options;\n\n    const x = width / 2,\n      y = this._y,\n      sliderWidth = width,\n      sliderHeight = padding / 2;\n\n    const ctx = this._ctx;\n\n    ctx.save();\n\n    ctx.strokeStyle = '#000';\n\n    ctx.strokeRect(0, y - sliderHeight / 2, sliderWidth, sliderHeight);\n\n    ctx.strokeStyle = '#fff';\n\n    ctx.strokeRect(\n      lineWidth,\n      y - sliderHeight / 2 + lineWidth,\n      sliderWidth - lineWidth * 2,\n      sliderHeight - lineWidth * 2\n    );\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  private draw() {\n    const { width, height } = this._options;\n\n    this._ctx.clearRect(0, 0, width, height);\n\n    this.fillBackground();\n\n    this.renderSlider();\n  }\n\n  public destroy(remove: boolean) {\n    unbind(this._id);\n\n    if (remove) {\n      this._canvas.parentNode.removeChild(this._canvas);\n    }\n  }\n\n  set color(color: Color) {\n    if (this._color && color.h === this._color.h) {\n      return;\n    }\n\n    const { padding } = this._options;\n\n    const k = color.h / 360;\n\n    const y = this._contentHeight * k + padding;\n\n    this.setCoordinate(y);\n  }\n\n  get color() {\n    return this._color;\n  }\n}\n","import { ColorBlock, ColorBlockOptions } from './block';\nimport { ColorBar, ColorBarOptions } from './bar';\nimport * as covert from 'color-convert';\n\ninterface ColorPickerOptions {\n  padding?: number;\n  height?: number;\n  barWidth?: number;\n  blockWidth?: number;\n  onColorChange?(color: CallbackColor): void;\n}\n\ninterface Color {\n  h: number;\n  s: number;\n  v: number;\n}\n\ninterface CallbackColor {\n  h: number;\n  s: number;\n  l: number;\n  r: number;\n  g: number;\n  b: number;\n  hex: string;\n}\n\ninterface SetterColor {\n  h?: number;\n  s?: number;\n  l?: number;\n  r?: number;\n  g?: number;\n  b?: number;\n  hex?: string;\n}\nexport default class ColorPicker {\n  private _container: HTMLElement;\n  private _options: ColorPickerOptions;\n  private _block: ColorBlock;\n  private _bar: ColorBar;\n  private _color: Color;\n\n  constructor(container: HTMLElement, options?: ColorPickerOptions) {\n    const _options: ColorPickerOptions = {\n      height: 300,\n      blockWidth: 300,\n      barWidth: 40,\n      padding: 10\n    };\n\n    Object.assign(_options, options);\n\n    this._options = _options;\n\n    this._container = container;\n\n    this.init();\n  }\n\n  private init() {\n    const {\n      padding,\n      height,\n      blockWidth,\n      barWidth,\n      onColorChange\n    } = this._options;\n\n    const block = document.createElement('canvas'),\n      bar = document.createElement('canvas');\n\n    const blockOptions: ColorBlockOptions = {\n      width: blockWidth,\n      height,\n      onColorChange: ({ s, v }) => {\n        this.setHSV({\n          s,\n          v\n        } as Color);\n      }\n    };\n\n    const barOptions: ColorBarOptions = {\n      width: barWidth,\n      height,\n      onColorChange: ({ h }) => {\n        this.setHSV({\n          h\n        } as Color);\n      }\n    };\n\n    this._container.appendChild(block);\n\n    this._container.appendChild(bar);\n\n    this._block = new ColorBlock(block, blockOptions);\n\n    this._bar = new ColorBar(bar, barOptions);\n\n    this.setHSV({\n      h: 0,\n      s: 0.5,\n      v: 0.5\n    });\n  }\n\n  private handleColorChange(color: Color) {\n    if (typeof color.h === 'number') {\n      this._bar.color = color;\n    }\n\n    if (typeof color.s === 'number' && typeof color.v === 'number') {\n      this._block.color = color;\n    }\n\n    if (this._options.onColorChange) {\n      const { h } = color;\n      const s = color.s * 100;\n      const v = color.v * 100;\n      const rgb = covert.hsv.rgb(h, s, v);\n      const hsl = covert.rgb.hsl(rgb).map(n => n / 100);\n      const hex = covert.rgb.hex(rgb);\n\n      this._options.onColorChange({\n        hex,\n        h: hsl[0],\n        s: hsl[1],\n        l: hsl[2],\n        r: rgb[0],\n        g: rgb[1],\n        b: rgb[2]\n      });\n    }\n  }\n\n  private setHSV(color: Color) {\n    if (!this._bar || !this._block) {\n      return;\n    }\n\n    color = Object.assign({}, this._color, color);\n\n    const hsv = ['h', 's', 'v'];\n\n    if (this._color && hsv.every(p => color[p] === this._color[p])) {\n      return;\n    }\n\n    this._color = color;\n\n    this.handleColorChange(color);\n  }\n\n  public destroy(removeCanvas: boolean = true) {\n    this._block.destroy(removeCanvas);\n    this._bar.destroy(removeCanvas);\n  }\n\n  set color(color: SetterColor) {\n    const rgb = ['r', 'g', 'b'];\n    const hsl = ['h', 's', 'l'];\n    let hsv;\n\n    if (rgb.every(p => typeof color[p] === 'number')) {\n      hsv = covert.rgb.hsv(color.r, color.g, color.b);\n    } else if (hsl.every(p => typeof color[p] === 'number')) {\n      hsv = covert.hsl.hsv(color.h * 100, color.s * 100, color.l * 100);\n    } else if (color.hex) {\n      hsv = covert.rgb.hsv(covert.hex.rgb(color.hex));\n    } else {\n      return;\n    }\n\n    this.setHSV({\n      h: hsv[0],\n      s: hsv[1] / 100,\n      v: hsv[2] / 100\n    });\n  }\n}\n","import ColorPicker from '@/libs/color-picker';\n\nimport './index.scss';\n\nexport default {\n  name: 'ColorPicker',\n  data: () => ({\n    color: {\n      r: null,\n      g: null,\n      b: null,\n      h: null,\n      s: null,\n      l: null,\n      hex: ''\n    }\n  }),\n  render() {\n    return (\n      <div class=\"color-picker\">\n        <section class=\"picker-wrapper\">\n          <div id=\"picker\" ref=\"picker\" />\n        </section>\n        <section>\n          <form\n            onSubmit={e => {\n              e.preventDefault();\n            }}\n          >\n            <div class=\"row\">\n              {['r', 'g', 'b'].map(v => (\n                <div class=\"form-group\">\n                  <label for={v}>{v.toUpperCase()}:</label>\n                  <input\n                    type=\"number\"\n                    value={this.color[v]}\n                    max=\"255\"\n                    min=\"0\"\n                    step=\"1\"\n                    onInput={e => this.updateInput(e, v)}\n                  />\n                </div>\n              ))}\n            </div>\n            <div class=\"row\">\n              {['h', 's', 'l'].map(v => (\n                <div class=\"form-group\">\n                  <label for={v}>{v.toUpperCase()}:</label>\n                  <input\n                    type=\"number\"\n                    value={this.color[v]}\n                    max=\"1\"\n                    min=\"0\"\n                    step=\"0.05\"\n                    onInput={e => this.updateInput(e, v)}\n                  />\n                </div>\n              ))}\n            </div>\n\n            <div class=\"row\">\n              <div class=\"form-group\">\n                <label for=\"hex\">#</label>\n                <input\n                  value={this.color.hex.toUpperCase()}\n                  type=\"text\"\n                  onInput={this.updateColorByHEX}\n                />\n              </div>\n            </div>\n          </form>\n        </section>\n        <section>\n          <div\n            class=\"color-picker__preview\"\n            style={{ backgroundColor: '#' + this.color.hex }}\n          />\n        </section>\n      </div>\n    );\n  },\n  methods: {\n    updateInput(e, name) {\n      const target = e.target;\n      const value = Number(target.value);\n      const max = Number(target.getAttribute('max'));\n      const min = Number(target.getAttribute('min'));\n      let result = value;\n\n      if (Number.isNaN(value)) {\n        result = min;\n      }\n\n      if (result > max) {\n        result = max;\n      }\n\n      if (result < min) {\n        result = min;\n      }\n\n      const color = Object.assign({}, this.color);\n\n      color[name] = result;\n\n      switch (name) {\n        case 'r':\n        case 'g':\n        case 'b':\n          this.updateColorByRGB(color);\n          break;\n        case 'h':\n        case 's':\n        case 'l':\n          this.updateColorByHSL(color);\n          break;\n        default:\n          break;\n      }\n    },\n    updateColorByRGB(color) {\n      const { r, g, b } = color;\n\n      if ([r, g, b].some(v => typeof v !== 'number')) {\n        return;\n      }\n\n      this.$_picker.color = {\n        r,\n        g,\n        b\n      };\n    },\n    updateColorByHSL(color) {\n      const { h, s, l } = color;\n\n      if ([h, s, l].some(v => typeof v !== 'number')) {\n        return;\n      }\n\n      this.$_picker.color = {\n        h,\n        s,\n        l\n      };\n    },\n    updateColorByHEX(e) {\n      const value = e.target.value;\n\n      if (value.length !== 6) {\n        return;\n      }\n\n      for (const v of value) {\n        const n = parseInt(v, 16);\n        if (Number.isNaN(n) || n > 15) {\n          return;\n        }\n      }\n\n      this.$_picker.color = {\n        hex: value\n      };\n    }\n  },\n  mounted() {\n    this.$_picker = new ColorPicker(this.$refs.picker, {\n      onColorChange: color => {\n        Object.assign(this.color, color);\n      }\n    });\n  },\n  beforeDestroy() {\n    if (this.$_picker) {\n      this.$_picker.destroy();\n    }\n  }\n};\n","import Tween from '../utils/tween';\nimport { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\n\nenum BoxTypes {\n  empty,\n  wall,\n  body,\n  head,\n  footer,\n  food\n}\n\nenum Direction {\n  left,\n  right,\n  up,\n  down\n}\n\nenum GameStatus {\n  beforeStart,\n  end,\n  pause,\n  running,\n  disabled\n}\n\ninterface Coordinate {\n  x: number;\n  y: number;\n}\n\ninterface DirectionConfig extends Coordinate {\n  keyCode: number[];\n  opposite: number;\n}\n\ninterface Reason {\n  code: number;\n  message: string;\n}\n\ninterface Options {\n  width?: number;\n  height?: number;\n  sideLength?: number;\n  origin?: Coordinate[];\n\n  /**\n   *\n   *\n   * @param {number} score\n   * @param {number} speed\n   * @param {Snake} ref\n   * @returns {Boolean} 是否继续行动，一般用于判定满足足够的分数后进入下一关\n   * @memberof ISnakeOptions\n   */\n  scoreCallback?(score: number, speed: number, ref: Snake): boolean;\n  endCallback?(reason: Reason, ref: Snake): void;\n  pauseCallback?(ref: Snake): void;\n  continueCallback?(ref: Snake): void;\n}\n\ninterface Content {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rows: number;\n  columns: number;\n}\n\ninterface Box {\n  x: number;\n  y: number;\n  xIndex: number;\n  yIndex: number;\n  type: BoxTypes;\n  animateX?: number;\n  animateY?: number;\n}\n\ninterface BoxType {\n  background?: string;\n  render?(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    sideLength: number\n  ): void;\n}\n\nexport class Snake {\n  public static EndReasons = {\n    1001: '红烧蛇肉',\n    1002: '撞墙啦',\n    1003: '撞边界啦'\n  };\n  private _options: Options;\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _content: Content;\n  private _boxes: Box[][] = [];\n  private _snake: Box[];\n  private _food: Box[];\n  private _wall: Box[];\n  private _snakeDirection: Direction;\n  private _keys: Direction[];\n  private _status: GameStatus;\n  private _speed: number = 1;\n  private _startCoordinate: Coordinate;\n  private _animation: {\n    id: number;\n    cb(time: number): void;\n    tweens: Tween[];\n  };\n\n  private _boxTypes: {\n    [key: number]: BoxType;\n  } = {\n    [BoxTypes.empty]: {},\n    [BoxTypes.wall]: {\n      background: 'brown'\n    },\n    [BoxTypes.head]: {\n      background: '#555',\n      render: (ctx, x, y, sideLength) => {\n        const k = sideLength / 14, // 基数\n          d = this._direction[this._snakeDirection],\n          r = sideLength / 2,\n          eyes = [\n            {\n              x: x + r + d.x * k * 3 + (d.x === 0 ? k * 2.5 : 0),\n              y: y + r + d.y * k * 3 + (d.y === 0 ? k * 2.5 : 0)\n            },\n            {\n              x: x + r + d.x * k * 3 + (d.x === 0 ? -k * 2.5 : 0),\n              y: y + r + d.y * k * 3 + (d.y === 0 ? -k * 2.5 : 0)\n            }\n          ];\n        ctx.fillStyle = '#fff';\n\n        eyes.forEach(eye => {\n          ctx.beginPath();\n          ctx.arc(eye.x, eye.y, 2 * k, 0, Math.PI * 2);\n          ctx.fill();\n        });\n      }\n    },\n    [BoxTypes.body]: {\n      render: (ctx, x, y, sideLength) => {\n        ctx.fillStyle = '#888';\n        ctx.beginPath();\n        ctx.arc(\n          x + sideLength / 2,\n          y + sideLength / 2,\n          sideLength / 2,\n          0,\n          Math.PI * 2\n        );\n        ctx.fill();\n      }\n    },\n    [BoxTypes.footer]: {\n      render: (ctx, x, y, sideLength) => {\n        ctx.fillStyle = '#888';\n        ctx.beginPath();\n        ctx.arc(\n          x + sideLength / 2,\n          y + sideLength / 2,\n          sideLength * 0.35,\n          0,\n          Math.PI * 2\n        );\n        ctx.fill();\n      }\n    },\n    [BoxTypes.food]: {\n      background: 'orange'\n    }\n  };\n\n  private _direction: {\n    [key: number]: DirectionConfig;\n  } = {\n    [Direction.left]: {\n      x: -1,\n      y: 0,\n      keyCode: [65, 37],\n      opposite: Direction.right\n    },\n    [Direction.right]: {\n      x: 1,\n      y: 0,\n      keyCode: [68, 39],\n      opposite: Direction.left\n    },\n    [Direction.up]: {\n      x: 0,\n      y: -1,\n      keyCode: [87, 38],\n      opposite: Direction.down\n    },\n    [Direction.down]: {\n      x: 0,\n      y: 1,\n      keyCode: [83, 40],\n      opposite: Direction.up\n    }\n  };\n\n  private _id: number;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const _options: Options = {\n      sideLength: 18\n    };\n\n    const r = generateCanvas(container, options, {\n      width: 600,\n      height: 600\n    });\n\n    Object.assign(_options, options, { width: r.width, height: r.height });\n\n    if (!_options.origin) {\n      _options.origin = [];\n      for (let i = 6; i > 2; i--) {\n        _options.origin.push({\n          x: i,\n          y: 4\n        });\n      }\n    }\n\n    const side = _options.sideLength,\n      pdV = (_options.width % side) / 2,\n      pdH = (_options.height % side) / 2,\n      width = _options.width - pdH * 2,\n      height = _options.height - pdV * 2;\n\n    this._content = {\n      x: pdH,\n      y: pdV,\n      width,\n      height,\n      rows: width / side,\n      columns: height / side\n    };\n\n    this._canvas = r.canvas;\n\n    this._options = _options;\n\n    this.init();\n  }\n\n  private init() {\n    const op = this._options,\n      canvas = this._canvas,\n      ctx = canvas.getContext('2d'),\n      content = this._content,\n      side = op.sideLength;\n\n    this._ctx = ctx;\n\n    // 初始化地图格\n    for (let x = 0; x < content.columns; x++) {\n      const column: Box[] = [];\n      for (let y = 0; y < content.rows; y++) {\n        column.push({\n          x: content.x + x * side,\n          y: content.y + y * side,\n          xIndex: x,\n          yIndex: y,\n          type: BoxTypes.empty\n        });\n      }\n      this._boxes.push(column);\n    }\n\n    this.reset();\n\n    this.drawMap();\n\n    this._status = GameStatus.disabled;\n\n    this._id = bind(canvas, {\n      onStart: e => {\n        this._startCoordinate = e;\n      },\n      onEnd: e => {\n        if (!this._startCoordinate) {\n          return;\n        }\n\n        const pi = Math.PI;\n        const x = { x: this._startCoordinate.x, y: -this._startCoordinate.y };\n        const y = { x: e.x, y: -e.y };\n\n        const k = Math.acos(\n          (y.x - x.x) /\n            Math.sqrt(Math.pow(y.x - x.x, 2) + Math.pow(y.y - x.y, 2))\n        );\n\n        let dir = Direction.right;\n\n        if (k > 0.25 * pi && k < 0.75 * pi) {\n          dir = Direction.up;\n        } else if (k > 0.75 * pi) {\n          dir = Direction.left;\n        }\n\n        if (y.y - x.y < 0 && dir === Direction.up) {\n          dir = Direction.down;\n        }\n\n        this.pushDirection(dir);\n      }\n    });\n\n    window.addEventListener('keydown', this.handleKeyboard);\n  }\n\n  private handleKeyboard = e => {\n    const direction = this._direction,\n      code = e.keyCode,\n      status = this._status;\n\n    switch (code) {\n      case 32:\n        e.preventDefault();\n        switch (status) {\n          case GameStatus.pause:\n            this.continue();\n            break;\n          case GameStatus.running:\n            this.pause();\n            break;\n          default:\n            break;\n        }\n        break;\n      default:\n        break;\n    }\n\n    for (const i in direction) {\n      if (direction[i].keyCode.indexOf(code) > -1) {\n        e.preventDefault();\n        this.pushDirection(+i);\n      }\n    }\n  };\n\n  private pushDirection(key: Direction) {\n    const status = this._status;\n\n    if (status === GameStatus.running) {\n      this._keys.push(key);\n    } else if (status === GameStatus.beforeStart) {\n      this._keys.push(key);\n      this.start();\n    }\n  }\n\n  private getBox(x: number, y: number): Box {\n    const boxes = this._boxes;\n    const column = boxes[x];\n\n    if (!column) {\n      return;\n    }\n\n    return column[y];\n  }\n\n  private info(msgs: string | string[], fontSize: number = 24) {\n    const ctx = this._ctx,\n      op = this._options,\n      content = this._content;\n\n    ctx.save();\n\n    ctx.fillStyle = 'rgba(0,0,0,.6)';\n    ctx.fillRect(content.x, content.y, content.width, content.height);\n\n    ctx.fillStyle = '#fff';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.font = 'bold ' + fontSize + 'px serif';\n\n    if (!Array.isArray(msgs)) {\n      msgs = [msgs];\n    }\n\n    msgs.forEach((msg, index) => {\n      ctx.fillText(\n        msg,\n        op.width * 0.5,\n        op.height * 0.4 + op.sideLength * fontSize * 1.1 * index,\n        content.width - op.sideLength * 2\n      );\n    });\n\n    ctx.restore();\n  }\n\n  private drawBox(box: Box) {\n    const types = this._boxTypes,\n      ctx = this._ctx,\n      side = this._options.sideLength;\n\n    const type = types[box.type],\n      x = box.animateX ? box.animateX : box.x,\n      y = box.animateY ? box.animateY : box.y;\n\n    if (type.background) {\n      ctx.save();\n      ctx.fillStyle = type.background;\n      ctx.fillRect(x, y, side, side);\n      ctx.restore();\n    }\n\n    if (type.render) {\n      ctx.save();\n      type.render(ctx, x, y, side);\n      ctx.restore();\n    }\n  }\n\n  private drawMap() {\n    const op = this._options,\n      ctx = this._ctx,\n      content = this._content,\n      side = op.sideLength;\n\n    ctx.save();\n\n    // 绘制地图线\n    ctx.beginPath();\n\n    ctx.strokeStyle = '#ddd';\n    ctx.lineWidth = 1;\n\n    for (let x = 0; x <= content.columns; x++) {\n      const xC = content.x + x * side;\n      ctx.moveTo(xC, content.y);\n      ctx.lineTo(xC, content.y + content.height);\n    }\n\n    for (let y = 0; y <= content.rows; y++) {\n      const yC = content.y + y * side;\n      ctx.moveTo(content.x, yC);\n      ctx.lineTo(content.x + content.width, yC);\n    }\n\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  private drawContent() {\n    this._ctx.save();\n    this._food.forEach(box => {\n      this.drawBox(box);\n    });\n\n    this._boxes.forEach(column => {\n      column.forEach(box => {\n        const type = box.type;\n        if (type !== BoxTypes.food) {\n          this.drawBox(box);\n        }\n      });\n    });\n\n    this._ctx.restore();\n  }\n\n  private draw() {\n    const op = this._options,\n      ctx = this._ctx;\n\n    ctx.clearRect(0, 0, op.width, op.height);\n\n    this.drawMap();\n\n    this.drawContent();\n  }\n\n  private updateAnimation(tweens: Tween[], cb) {\n    this._animation = {\n      cb,\n      id: requestAnimationFrame(cb),\n      tweens\n    };\n  }\n\n  private createTween(now: Box, next: Box, timeout: number): Tween {\n    const t = new Tween({\n      x: now.x,\n      y: now.y,\n      onUpdate(position) {\n        Object.assign(now, {\n          animateX: position.x,\n          animateY: position.y\n        });\n      }\n    })\n      .to({ x: next.x, y: next.y }, timeout)\n      .start();\n\n    return t;\n  }\n\n  private updateDirection() {\n    const keys = this._keys,\n      keysLen = keys.length;\n\n    // 根据键盘输入转向\n    if (keysLen > 0) {\n      for (let i = keysLen - 1; i >= 0; i--) {\n        const type = keys[i];\n\n        // 不冲突时更新方向\n        if (\n          type !== this._snakeDirection &&\n          type !== this._direction[this._snakeDirection].opposite\n        ) {\n          this._snakeDirection = type;\n          // 允许连续键多次操作\n          this._keys = keys.slice(i + 1);\n          break;\n        }\n      }\n    }\n  }\n\n  private next = () => {\n    if (this._status !== GameStatus.running) {\n      return;\n    }\n\n    this.updateDirection();\n\n    // 动效时间\n    const timeout = this._speed > 30 ? 1 : 300 - this._speed * 10;\n\n    const snake = this._snake,\n      direction = this._direction[this._snakeDirection],\n      content = this._content;\n\n    const head = snake[0],\n      footer = snake[snake.length - 1],\n      x = head.xIndex + direction.x,\n      y = head.yIndex + direction.y;\n\n    const box = this.getBox(x, y);\n\n    if (box && x >= 0 && x < content.columns && y >= 0 && y < content.rows) {\n      const tweenList = [this.createTween(head, box, timeout)];\n\n      const animationComplete = () => {\n        let shouldNext = true;\n        snake.forEach(snakeBox => {\n          delete snakeBox.animateX;\n          delete snakeBox.animateY;\n        });\n\n        switch (box.type) {\n          case BoxTypes.empty:\n            footer.type = BoxTypes.empty;\n            snake.pop();\n            break;\n          case BoxTypes.food:\n            const c = this.eat(box);\n            // 不继续执行\n            if (c !== undefined && !c) {\n              shouldNext = false;\n            }\n            break;\n          default:\n            return;\n        }\n\n        snake.unshift(box);\n\n        this.updateSnake();\n\n        if (shouldNext && this._status === GameStatus.running) {\n          this.next();\n        }\n\n        this.draw();\n      };\n\n      const animationCb = time => {\n        let complete = true;\n\n        tweenList.forEach(t => {\n          t.update();\n          if (complete && !t.complete) {\n            complete = false;\n          }\n        });\n\n        this.draw();\n\n        if (!complete) {\n          this.updateAnimation(tweenList, animationCb);\n        } else {\n          this._animation = null;\n          animationComplete();\n        }\n      };\n\n      if (box.type === BoxTypes.body || box.type === BoxTypes.footer) {\n        this.draw(); // 转向\n        this.endGame('1001');\n        return;\n      } else if (box.type === BoxTypes.wall) {\n        this.draw(); // 转向\n        this.endGame('1002');\n        return;\n      }\n\n      for (let i = 1, l = snake.length; i < l; i++) {\n        const thisBox = snake[i],\n          nextBox = snake[i - 1];\n        tweenList.push(this.createTween(thisBox, nextBox, timeout));\n      }\n\n      this.updateAnimation(tweenList, animationCb);\n    } else {\n      this.endGame('1003');\n    }\n  };\n\n  private updateSnake() {\n    const snake = this._snake;\n\n    snake.forEach(snakeBox => {\n      snakeBox.type = BoxTypes.body;\n    });\n\n    snake[0].type = BoxTypes.head;\n\n    snake[snake.length - 1].type = BoxTypes.footer;\n  }\n\n  private pauseGame(cb) {\n    if (this._status === GameStatus.running) {\n      if (this._animation) {\n        cancelAnimationFrame(this._animation.id);\n\n        cb();\n      } else {\n        requestAnimationFrame(() => {\n          this.pauseGame(cb);\n        });\n      }\n    }\n  }\n\n  private pause() {\n    this.pauseGame(() => {\n      this._status = GameStatus.pause;\n      this.info('Pause');\n    });\n  }\n\n  private continue() {\n    if (this._status === GameStatus.pause) {\n      if (this._animation) {\n        this._animation.tweens.forEach(t => {\n          if (!t.complete) {\n            t.start();\n          }\n        });\n\n        this._status = GameStatus.running;\n\n        this.updateAnimation(this._animation.tweens, this._animation.cb);\n      } else {\n        this.continue();\n      }\n    }\n  }\n\n  private eat(box) {\n    const score = this.score;\n    const food = this._food;\n\n    this._food = food.splice(food.indexOf(box));\n\n    this.createFood();\n\n    if (this._options.scoreCallback) {\n      return this._options.scoreCallback(score, this.speed, this);\n    }\n  }\n\n  private createFood() {\n    const content = this._content,\n      x = Math.floor(Math.random() * content.columns),\n      y = Math.floor(Math.random() * content.rows),\n      box = this.getBox(x, y);\n\n    if (box.type === BoxTypes.empty) {\n      box.type = BoxTypes.food;\n    } else {\n      return this.createFood();\n    }\n\n    this._food.push(box);\n    return box;\n  }\n\n  public reset() {\n    this._status = GameStatus.beforeStart;\n\n    this._food = [];\n\n    this._wall = [];\n\n    this._keys = [];\n\n    this._snakeDirection = Direction.right;\n\n    this._boxes.forEach(column => {\n      column.forEach(box => {\n        box.type = BoxTypes.empty;\n      });\n    });\n\n    this._snake = this._options.origin.map(cords =>\n      this.getBox(cords.x, cords.y)\n    );\n\n    this.updateSnake();\n\n    this.createFood();\n  }\n\n  public start() {\n    this._status = GameStatus.running;\n\n    this.draw();\n\n    this.next();\n  }\n\n  public endGame(reasonCode: string) {\n    if (this._options.endCallback) {\n      this._options.endCallback(\n        {\n          code: Number(reasonCode),\n          message: Snake.EndReasons[reasonCode]\n        },\n        this\n      );\n    }\n    this._status = GameStatus.end;\n  }\n\n  public nextLevel(msg: string) {\n    this.pauseGame(() => {\n      this.info(msg);\n      this._status = GameStatus.end;\n    });\n  }\n\n  public fillWall(walls: number) {\n    const content = this._content;\n    let i = 0;\n    while (i < walls) {\n      const box = this.getBox(\n        Math.floor(Math.random() * content.columns),\n        Math.floor(Math.random() * content.rows)\n      );\n      if (box.type === BoxTypes.empty) {\n        box.type = BoxTypes.wall;\n        this._wall.push(box);\n        i++;\n      }\n    }\n  }\n\n  public disable() {\n    const lastStatus = this._status;\n    this._status = GameStatus.disabled;\n\n    return () => {\n      this._status = lastStatus;\n    };\n  }\n\n  public prepareStart() {\n    this.reset();\n    this.draw();\n  }\n\n  public destroy() {\n    unbind(this._id);\n    window.removeEventListener('keydown', this.handleKeyboard);\n  }\n\n  set speed(speed: number) {\n    this._speed = speed;\n  }\n\n  get speed() {\n    return this._speed;\n  }\n\n  get score() {\n    return this._snake && this._snake.length\n      ? this._snake.length - this._options.origin.length + 1\n      : 0;\n  }\n}\n","import Cropper from '@/libs/cropper';\nimport { toast } from '@/libs/utils';\nimport * as defaultImage from './assets/default.jpg';\n\nimport './index.scss';\n\nconst downloader = document.createElement('a');\n\nlet downloadCount = 0;\n\nexport default {\n  name: 'Cropper',\n  props: {\n    window: {\n      required: true,\n      type: Object\n    }\n  },\n  data() {\n    return {\n      cropperOptions: {\n        width: 200,\n        height: 200,\n        x: 0,\n        y: 0\n      },\n      pickText: '点击选择要裁剪的图片',\n      preview: [0.6, 0.9, 1.2]\n    };\n  },\n  render(h) {\n    return (\n      <div class=\"cropper\">\n        <section>\n          <form>\n            <div class=\"form-group\">\n              <input\n                placeholder=\"宽\"\n                type=\"number\"\n                min=\"0\"\n                max={this.containerSize.width}\n                name=\"width\"\n                value={this.cropperOptions.width}\n                onInput={e => {\n                  this.updateSize(e, 'width');\n                }}\n              />\n              <input\n                placeholder=\"高\"\n                type=\"number\"\n                min=\"0\"\n                max={this.containerSize.height}\n                name=\"height\"\n                value={this.cropperOptions.height}\n                onInput={e => {\n                  this.updateSize(e, 'height');\n                }}\n              />\n            </div>\n            <div class=\"form-group\">\n              <button type=\"button\" onClick={this.setCropper}>\n                修改大小\n              </button>\n              <button type=\"button\" onClick={this.doCrop}>\n                裁剪\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"file\" class=\"cropper__pick\" id=\"pick-file\">\n                {this.pickText}\n              </label>\n              <input\n                type=\"file\"\n                id=\"file\"\n                accept=\"image/jpeg,image/x-icon,image/png\"\n                onChange={this.uploadImg}\n              />\n            </div>\n          </form>\n        </section>\n        <section>\n          <div ref=\"container\" class=\"cropper__container\" />\n        </section>\n        <section>\n          {this.preview.map(v => (\n            <div class=\"cropper__preview\" ref={`preview-${v}`} />\n          ))}\n        </section>\n      </div>\n    );\n  },\n\n  computed: {\n    containerSize() {\n      const { width, height } = this.window;\n\n      if (width > 767) {\n        return {\n          width: 700,\n          height: 450\n        };\n      }\n\n      const min = Math.min(width, height);\n\n      return {\n        width: min,\n        height: min\n      };\n    }\n  },\n\n  methods: {\n    updateSize(e, key) {\n      const { cropperOptions, containerSize } = this;\n      const val = Number(e.target.value);\n      let result = val;\n\n      if (Number.isNaN(val) || val <= 0) {\n        result = 1;\n      }\n\n      if (val > containerSize[key]) {\n        result = containerSize[key];\n      }\n\n      cropperOptions[key] = result;\n    },\n    uploadImg(e) {\n      const el = e.target;\n\n      if (!el.value || el.files.length < 1) {\n        return;\n      }\n\n      const file = el.files[0];\n\n      // 判断文件类型\n      if (file.type.match(/^image\\/.+/)) {\n        this.$_cropper.image = file;\n        this.pickText = file.name;\n      } else {\n        toast('请选择正确的图片');\n      }\n    },\n    setCropper() {\n      if (!this.$_cropper) {\n        return;\n      }\n\n      const { width, height } = this.cropperOptions;\n\n      const invaid = [width, height].some(v => {\n        return [v => !!v, v => v > 0].some(f => !f(v));\n      });\n\n      if (invaid) {\n        toast('请输入正确的宽高!');\n        return;\n      }\n      this.$_cropper.cropper = { width, height };\n    },\n    async doCrop() {\n      try {\n        const url = await this.$_cropper.crop();\n        downloader.href = url;\n\n        downloader.download = `dingjs-cropper-${++downloadCount}.png`;\n        downloader.click();\n      } catch (e) {\n        toast(\n          '不支持HTML5,建议使用<a href=\"https://www.google.com/chrome/\">「Chrome浏览器」浏览本页面!</a>'\n        );\n      }\n    },\n    init() {\n      const { width, height } = this.containerSize;\n\n      this.$_cropper = new Cropper(this.$refs.container, {\n        preview: this.preview.map((v, i) => ({\n          zoom: v,\n          container: this.$refs[`preview-${v}`]\n        })),\n        width,\n        height,\n        onCropperChange: cropper => {\n          Object.assign(this.cropperOptions, cropper);\n        }\n      });\n\n      this.setDefault();\n    },\n    setDefault() {\n      const image = new Image();\n\n      image.src = defaultImage;\n\n      image.onload = () => {\n        this.$_cropper.image = image;\n      };\n    }\n  },\n  mounted() {\n    this.init();\n  },\n  beforeDestroy() {\n    this.$_cropper.destroy();\n  }\n};\n","import { debounce } from '@/libs/utils';\n\ninterface DatasetResult<T> {\n  dataset: Array<T>;\n  more: boolean;\n}\n\ninterface Options<T> {\n  /**\n   * 列表元素\n   *\n   * @type {HTMLElement}\n   * @memberof Options\n   */\n  contentElement: HTMLElement;\n\n  /**\n   * 真实滚动元素\n   *\n   * @type {HTMLElement}\n   * @memberof Options\n   */\n  scrollElement?: HTMLElement;\n  /**\n   * 异步或同步获取数据\n   *\n   * @param {number} index\n   * @returns {(DatasetResult<T> | Promise<DatasetResult<T>>)}\n   * @memberof Options\n   */\n  getDataset(index: number): DatasetResult<T> | Promise<DatasetResult<T>>;\n\n  /**\n   * loading 元素 html\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  loadingHtml?: string;\n\n  /**\n   * 无数据时显示元素 html\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  noDataHtml?: string;\n  /**\n   * 渲染列表元素\n   *\n   * @param {T} value\n   * @param {number} index\n   * @param {Array<T>} array\n   * @returns {string}\n   * @memberof Options\n   */\n  render?(value: T, index: number, array: Array<T>): string;\n  /**\n   * 底部离可视区域的距离，触发更新阈值\n   *\n   * @type {number}\n   * @memberof Options\n   */\n  threshold?: number;\n  /**\n   * 当获取所有数据后是否自动销毁\n   *\n   * @type {boolean}\n   * @memberof Options\n   */\n  autoDestroy?: boolean;\n}\n\nexport default class InfinitScroll<T> {\n  private op: Options<T>;\n  private dataset: Array<T> = [];\n  private more: boolean = true;\n  private loading: boolean = false;\n  // 默认值，仅当 scrollElement 也为默认值时生效\n  private scrollEventSource: Window | HTMLElement = window;\n\n  constructor(options: Options<T>) {\n    const op: Options<T> = {\n      contentElement: null,\n      scrollElement: document.documentElement,\n      getDataset: null,\n      noDataHtml: '',\n      loadingHtml: '',\n      threshold: 400,\n      autoDestroy: true,\n      render: (value, index) => {\n        return `<div>${index}</div>`;\n      }\n    };\n\n    const necessaryProps = ['contentElement', 'getDataset'];\n\n    for (const prop of necessaryProps) {\n      if (!options[prop]) {\n        console.warn(`Option: ${prop} can not be empty`);\n        return;\n      }\n    }\n\n    if (options.scrollElement) {\n      this.scrollEventSource = options.scrollElement;\n    }\n\n    Object.assign(op, options);\n\n    this.op = op;\n\n    this.init();\n  }\n\n  private shouldGetDataset() {\n    const { scrollElement, threshold } = this.op;\n\n    const top =\n      scrollElement.scrollHeight -\n      scrollElement.scrollTop -\n      scrollElement.clientHeight;\n\n    return (\n      !this.dataset.length || (!this.loading && this.more && top < threshold)\n    );\n  }\n\n  private async checkDataset() {\n    if (this.shouldGetDataset()) {\n      await this.fillMoreDataset();\n\n      this.checkDataset();\n    }\n  }\n\n  private debounceCheckdataset = debounce(() => this.checkDataset(), 100);\n\n  private async fillMoreDataset() {\n    this.loading = true;\n\n    const res = await this.op.getDataset(this.dataset.length);\n\n    this.loading = false;\n\n    if (res.dataset && res.dataset.length) {\n      this.dataset = this.dataset.concat(res.dataset);\n\n      this.more = res.more;\n\n      if (!this.more && this.op.autoDestroy) {\n        this.destroy();\n      }\n\n      this.updateView();\n    }\n  }\n\n  private updateView() {\n    const { render, contentElement, noDataHtml, loadingHtml } = this.op;\n\n    let html;\n\n    html = this.dataset.map(render).join('');\n\n    if (!html && !this.loading) {\n      html = noDataHtml;\n    } else if (this.more) {\n      html += loadingHtml;\n    }\n\n    contentElement.innerHTML = html;\n  }\n  /**\n   * 销毁\n   *\n   * @memberof InfinitScroll\n   */\n  public destroy() {\n    this.scrollEventSource.removeEventListener(\n      'scroll',\n      this.debounceCheckdataset\n    );\n  }\n\n  private init() {\n    this.scrollEventSource.addEventListener(\n      'scroll',\n      this.debounceCheckdataset\n    );\n\n    this.checkDataset();\n\n    this.updateView();\n  }\n}\n","import InfiniteScroll from '@/libs/infinite-scroll';\nimport './index.scss';\n\nconst dataset = new Array(100).fill('').map((v, i) => i + 1);\n\nexport default {\n  name: 'InfiniteScroll',\n  render() {\n    return (\n      <main class=\"infinite-scroll\">\n        <ul ref=\"list\" class=\"infinite-scroll__list\" />\n      </main>\n    );\n  },\n  mounted() {\n    this.$_infiniteScroll = new InfiniteScroll({\n      contentElement: this.$refs.list,\n      loadingHtml: `\n        <p class=\"infinite-scroll__loading\">\n          <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </p>\n      `,\n      noDataHtml: '<p>Empty</p>',\n      render(v) {\n        return `<li>${v} list item</li>`;\n      },\n      getDataset(index) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            resolve({\n              dataset: dataset.slice(index, index + 20),\n              more: index + 20 < dataset.length\n            });\n          }, 1000);\n        });\n      }\n    });\n  }\n};\n","interface Position {\n  x: number;\n  y: number;\n}\n\ninterface Options extends Position {\n  onUpdate(positon: Position): void;\n}\n\nexport default class Tween {\n  private _options: Options;\n  private _init: Position;\n  private _current: Position;\n  private _next: Position;\n  private _time: number;\n  private _spend: number = 0;\n  private _prevTime: number;\n  private _complete: boolean = false;\n\n  constructor(options: Options) {\n    const { x, y } = options;\n\n    this._init = { x, y };\n\n    this._current = { x, y };\n\n    this._options = options;\n  }\n\n  public to(position: Position, time: number) {\n    this._next = position;\n\n    this._time = time;\n\n    return this;\n  }\n\n  public start() {\n    this._prevTime = Date.now();\n\n    this.update();\n\n    return this;\n  }\n\n  public update() {\n    const now = Date.now();\n    this._spend = this._spend + (now - this._prevTime);\n\n    if (this._spend >= this._time) {\n      this._complete = true;\n      return;\n    }\n\n    this._prevTime = now;\n\n    const k = this._spend / this._time;\n\n    this._current = {\n      x: this._init.x + (this._next.x - this._init.x) * k,\n      y: this._init.y + (this._next.y - this._init.y) * k\n    };\n\n    this._options.onUpdate(this._current);\n  }\n\n  get complete() {\n    return this._complete;\n  }\n}\n","import Vue from 'vue';\nimport './index.scss';\n\nconst Message = Vue.extend({\n  data() {\n    return {\n      message: '',\n      title: '',\n      cb: null,\n      visible: false\n    };\n  },\n\n  render() {\n    const cb = this.cb;\n    const listeners = cb ? { click: cb } : {};\n\n    return (\n      <transition name=\"fade\" onAfter-leave={this.doDestroy}>\n        <div class=\"message__wrapper\" v-show={this.visible}>\n          <div class=\"message__mask\" />\n          <div class=\"message\">\n            <header class=\"message__header\">{this.title}</header>\n            <div class=\"message__content\">{this.message}</div>\n            <footer class=\"message__footer\">\n              <button type=\"button\" {...{ on: listeners }}>\n                确定\n              </button>\n            </footer>\n          </div>\n        </div>\n      </transition>\n    );\n  },\n  methods: {\n    doDestroy() {\n      this.$destroy();\n\n      this.$el.parentNode.removeChild(this.$el);\n    }\n  }\n});\n\nexport default (options, container = document.body) => {\n  const vm = new Message({\n    data() {\n      return {\n        ...options,\n        cb() {\n          if (options.cb) {\n            options.cb();\n          }\n\n          vm.visible = false;\n        }\n      };\n    }\n  });\n\n  vm.$mount();\n\n  container.appendChild(vm.$el);\n\n  vm.visible = true;\n};\n","import { Snake } from '@/libs/snake';\nimport message from '@/libs/utils/message';\n\nimport './index.scss';\n\nexport default {\n  name: 'Snake',\n  render() {\n    return (\n      <main class=\"snake\">\n        <section>\n          <div class=\"snake__container\" ref=\"container\">\n            <transition name=\"fade\">\n              <div class=\"snake__mode-wrapper\" v-show={this.modeVisible}>\n                <div class=\"snake__mode\">\n                  {this.modes.map(mode => (\n                    <button type=\"button\" onClick={() => this.start(mode.name)}>\n                      {mode.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </transition>\n          </div>\n        </section>\n        <section v-show={this.showInfo} class=\"snake__info\">\n          <div class=\"form-group\">\n            <span>分数:</span>\n            <span>{this.score}</span>\n          </div>\n          <div class=\"form-group\">\n            <span>速度:</span>\n            <span>{this.speed}</span>\n          </div>\n        </section>\n      </main>\n    );\n  },\n  props: {\n    window: {\n      required: true,\n      type: Object\n    }\n  },\n  data() {\n    return {\n      modes: [\n        {\n          name: 'common',\n          label: '普通模式'\n        },\n        {\n          name: 'level',\n          label: '过关模式'\n        },\n        {\n          name: 'dodge',\n          label: '躲避模式'\n        }\n      ],\n      mode: null,\n      modeVisible: true,\n      score: null,\n      speed: null\n    };\n  },\n  computed: {\n    showInfo() {\n      return ![this.speed, this.score].some(v => !v && v !== 0);\n    }\n  },\n  methods: {\n    showModes() {\n      this.modeVisible = true;\n    },\n    message(msg, cb) {\n      return message(\n        {\n          title: '消息提醒',\n          message: msg,\n          cb\n        },\n        this.$refs.container\n      );\n    },\n    start(mode) {\n      // 避免在动效期间连续点击\n      if (!this.modeVisible) {\n        return;\n      }\n\n      this.modeVisible = false;\n\n      this.mode = mode;\n\n      this.updateMode();\n    },\n    updateMode(score, speed) {\n      this.score = score || 0;\n\n      switch (this.mode) {\n        case 'common':\n          this.updateCommonMode(score, speed);\n          break;\n        case 'level':\n          this.updateLevelMode(score, speed);\n          break;\n        case 'dodge':\n          this.updateDodgeMode(score, speed);\n          break;\n        default:\n          break;\n      }\n    },\n    updateCommonMode(score, speed) {\n      const snake = this.$_snake;\n\n      if (!score) {\n        snake.prepareStart();\n        this.speed = 1;\n      } else {\n        const currentSpeed = 1 + Math.floor(score / 3) * 2;\n\n        this.speed = currentSpeed;\n      }\n    },\n    updateLevelMode: (function() {\n      const levels = [];\n      let levelIndex = 0;\n\n      for (let i = 0; i < 5; i++) {\n        levels.push({\n          score: (i + 1) * 5,\n          speed: 1 + i * 5\n        });\n      }\n\n      return function(score, speed) {\n        const level = levels[levelIndex];\n\n        const snake = this.$_snake;\n        const init = () => {\n          snake.prepareStart();\n          this.speed = levels[0].speed;\n        };\n\n        if (!score) {\n          init();\n\n          return;\n        }\n\n        if (score >= level.score) {\n          snake.disable();\n\n          if (levelIndex >= levels.length - 1) {\n            this.message('厉害啊大兄弟，通关啦！', () => {\n              this.showModes();\n              levelIndex = 0;\n            });\n          } else {\n            this.message('下一关啦！', () => {\n              const nextLevel = levels[levelIndex + 1];\n\n              snake.prepareStart();\n\n              this.speed = nextLevel.speed;\n\n              levelIndex++;\n            });\n          }\n        }\n      };\n    })(),\n    updateDodgeMode: (function() {\n      let levelIndex = 0;\n\n      const levels = [];\n\n      for (let i = 0; i < 5; i++) {\n        levels.push({\n          score: (i + 1) * 5,\n          speed: 1 + i * 5,\n          walls: (i + 1) * 10\n        });\n      }\n\n      return function(score) {\n        const snake = this.$_snake;\n\n        const init = () => {\n          snake.prepareStart();\n          this.speed = levels[0].speed;\n          snake.fillWall(levels[0].walls);\n          snake.draw();\n        };\n\n        if (!score) {\n          init();\n          return;\n        }\n\n        const level = levels[levelIndex];\n\n        if (score >= level.score) {\n          snake.disable();\n\n          if (levelIndex >= levels.length - 1) {\n            this.message('牛逼啊大兄弟，通关啦！', () => {\n              this.showModes();\n              levelIndex = 0;\n            });\n          } else {\n            this.message('下一关啦！', () => {\n              const nextLevel = levels[levelIndex + 1];\n\n              snake.prepareStart();\n\n              this.speed = nextLevel.speed;\n\n              snake.fillWall(nextLevel.walls);\n\n              snake.draw();\n\n              levelIndex++;\n            });\n          }\n        }\n      };\n    })(),\n    sendEndMessage({ message }) {\n      this.message(message, () => {\n        this.showModes();\n      });\n    }\n  },\n  mounted() {\n    const { window } = this;\n    const side =\n      window.width > 767 ? 600 : Math.min(window.width, window.height);\n\n    this.$_snake = new Snake(this.$refs.container, {\n      scoreCallback: this.updateMode,\n      endCallback: this.sendEndMessage,\n      width: side,\n      height: side\n    });\n  },\n  beforeDestroy() {\n    this.$_snake.destroy();\n  },\n  watch: {\n    speed(v) {\n      const snake = this.$_snake;\n      if (snake && snake.speed !== v) {\n        snake.speed = v;\n      }\n    }\n  }\n};\n","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\nimport NotFound from '@/containers/NotFound';\r\nimport Clock from '@/containers/Clock';\r\nimport ColorPicker from '@/containers/ColorPicker';\r\nimport Cropper from '@/containers/Cropper';\r\nimport InfiniteScroll from '@/containers/InfiniteScroll';\r\nimport Snake from '@/containers/Snake';\r\n\r\nVue.use(Router);\r\n\r\nconst transformCase = (text: string): string => {\r\n  return (\r\n    text.charAt(0).toLowerCase() +\r\n    text.slice(1).replace(/[A-Z]/g, match => {\r\n      return '-' + match.toLowerCase();\r\n    })\r\n  );\r\n};\r\n\r\nexport const components = [\r\n  {\r\n    name: 'Clock',\r\n    component: Clock\r\n  },\r\n  {\r\n    name: 'ColorPicker',\r\n    component: ColorPicker\r\n  },\r\n  {\r\n    name: 'Cropper',\r\n    component: Cropper\r\n  },\r\n  {\r\n    name: 'InfiniteScroll',\r\n    component: InfiniteScroll\r\n  },\r\n  {\r\n    name: 'Snake',\r\n    component: Snake\r\n  }\r\n];\r\n\r\nconst router = new Router({\r\n  mode: 'hash',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      redirect: {\r\n        name: 'Clock'\r\n      }\r\n    },\r\n    ...components.map(v => ({\r\n      path: '/' + transformCase(v.name),\r\n      ...v\r\n    })),\r\n    {\r\n      path: '*',\r\n      name: 'NotFound',\r\n      component: NotFound\r\n    }\r\n  ]\r\n});\r\n\r\nexport default router;\r\n","import '@/styles/index.scss';\r\nimport Vue from 'vue';\r\nimport App from '@/containers/App';\r\nimport router from './router';\r\n\r\nVue.config.productionTip = false;\r\n\r\n// tslint:disable-next-line:no-unused-expression\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  render(h) {\r\n    return h(App);\r\n  }\r\n});\r\n"],"sourceRoot":""}