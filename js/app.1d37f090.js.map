{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/containers/Cropper/assets/default.jpg","webpack:///./src/libs/utils/toast/index.ts","webpack:///./src/libs/utils/index.ts","webpack:///./src/containers/Clock/index.js","webpack:///./src/containers/App/storage.js","webpack:///./src/containers/App/index.js","webpack:///./src/libs/utils/canvas/index.ts","webpack:///./src/libs/clock/index.ts","webpack:///./src/libs/cropper/index.ts","webpack:///./src/libs/utils/move/index.ts","webpack:///./src/libs/color-picker/bar.ts","webpack:///./src/libs/color-picker/block.ts","webpack:///./src/libs/color-picker/index.ts","webpack:///./src/containers/ColorPicker/index.js","webpack:///./src/libs/snake/index.ts","webpack:///./src/containers/Cropper/index.js","webpack:///./src/libs/infinite-scroll/index.ts","webpack:///./src/containers/InfiniteScroll/index.js","webpack:///./src/containers/NotFound/index.js","webpack:///./src/libs/utils/tween/index.ts","webpack:///./src/libs/utils/message/index.js","webpack:///./src/containers/Snake/index.js","webpack:///./src/router/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","toast_toast","options","list","width","innerWidth","height","innerHeight","defaultRight","defaultTop","marginBottom","marginRight","computePosition","current","prev","currentEl","el","prevEl","prevBottomHeight","top","offsetHeight","setPosition","right","offsetWidth","message","delay","arguments","undefined","toast_Toast","show","setTimeout","hide","Toast","_this","this","classCallCheck","_el","classList","add","remove","document","body","removeChild","_message","init","createElement","innerHTML","appendChild","assign_default","style","utils_t","debounce","func","wait","timer","_len","args","Array","_key","clearTimeout","isNumber","num","hasStorageApi","localStorage","getCachedMenuVisible","visible","getItem","JSON","parse","e","setCachedMenuVisible","setItem","getWindowSize","containers_App","menus","label","menusVisible","contentOffsetTop","computed","isMobile","shouldMenuVisible","render","h","attrs","id","class","href","directives","map","menu","to","tag","concat","$route","target","on","click","expandToggle","fill","viewBox","xmlns","app__nav-btn","app__nav-btn--expand","ref","minHeight","mounted","$_handleResize","updateContentOffsetHeight","addEventListener","beforeDestroy","removeEventListener","methods","content","$refs","offsetTop","watch","_this2","$nextTick","canvas_generateCanvas","container","defaultOptions","tagName","Error","canvas","_map","getAttribute","charAt","toUpperCase","_map2","slicedToArray","w","setAttribute","clock_Clock","Clock","_alarms","_options","color","defaultRadius","Math","min","radius","_canvas","_ctx","getContext","offset","_draw","ctx","_this$_options","time","_getCurrentTime","clearRect","_drawClockDial","_drawClockHands","_checkAlarms","date","_requestId","requestAnimationFrame","_this$_options2","center","x","y","borderWidth","borderCenterToCenter","save","strokeStyle","lineWidth","beginPath","arc","PI","stroke","restore","calibrationCount","calibrationHeight","calibrationTopToEdge","mainCalibrationWidth","normalCalibrationWidth","fillStyle","translate","calibrationWidth","rect","rotate","numberTopToCenter","fontsize","font","_generateCtxFont","textAlign","textBaseline","_i","radian","_x","sin","_y","cos","fillText","toString","hour","setTransform","_this$_options3","hands","topY","bottomY","degree","secondDegree","bottomWidth","topWidth","minuteDegree","hourDegree","tanTop","tan","tanBottom","forEach","bottomHalf","bottomHeight","topHalf","topHeight","moveTo","lineTo","toFixed","now","Date","_offset","getTime","_ref","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","minute","second","millisecond","exactS","exactM","exactH","v","clockDate","alarms","alarm","getTimezoneOffset","abs","repeat","cb","cancelAnimationFrame","parentNode","getInitialTime","hours","getHours","minutes","getMinutes","seconds","getSeconds","parts","max","timeZones","Types","src_containers_Clock","submit","preventDefault","setTime","for","type","step","domProps","input","updateInput","change","updateZone","addAlarm","clearAlarms","resetClock","index","toLocaleString","Number","is_nan_default","$_clock","clock","settedTime","getFormTime","triggerAlarm","getFullYear","getMonth","getDate","year","month","_this$time","toast","destroy","eventsMap","map_default","a","uid","getCoordinateByEvent","element","touches","getBoundingClientRect","touch","clientX","left","clientY","offsetX","offsetY","move_bind","cbs","esm_typeof","onMove","instance","last","move","coordinate","start","onStart","end","onEnd","unbind","set","delete","bar_ColorBar","ColorBar","padding","_init","createClass","gradient","createLinearGradient","k","_covert$hsv$rgb","color_convert","rgb","_covert$hsv$rgb2","g","b","addColorStop","_contentWidth","_contentHeight","_gradient","_id","_setCoordinate","_drawColors","_drawSlider","fillRect","sliderWidth","sliderHeight","strokeRect","_this$_options4","onColorChange","hue","floor","_color","block_ColorBlock","ColorBlock","contentWidth","contentHeight","_initBackground","black","white","_whiteGradient","_blackGradient","_drawPointer","_hue","currentX","currentY","_this$_color","mergedColor","shouldUpdate","_updateHue","_updateCoordinate","color_picker_ColorPicker","ColorPicker","blockWidth","barWidth","_container","block","bar","blockOptions","_ref2","hsv","barOptions","_ref3","_ref4","_block","_bar","from","hsl","hex","objectSpread","every","_handleColorChange","src_containers_ColorPicker","maxlength","updateColorByHEX","backgroundColor","$_picker","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","parse_int_default","err","return","picker","cropper_Cropper","Cropper","_this$_types","_scale","handleStart","_startPoint","getPointByCoordinate","handleMove","_types","handler","handleMouseWheel","image","_image","clientWidth","clientHeight","scale","deltaY","draw","handleImageMove","handleCropperMove","oX","oY","maxX","_cropper","maxY","cropper","handlePointMove","cursor","pointRD","background","op","cW","cH","_cropperCanvas","_cropperCtx","preview","_previewList","is_array_default","cvs","point","_point","side","ceil","drawImage","fillBackground","fillImage","fillCropper","src","clientW","clientH","currentW","currentH","zoom","promise_default","resolve","reject","_this2$_options","code","Messages","url","toDataURL","_this3","HTMLImageElement","updateImage","File","match","reader","FileReader","onload","Image","readAsDataURL","_this4","keys_default","round","updatePoint","onCropperChange","1001","BoxTypes","Direction","GameStatus","downloader","downloadCount","src_containers_Cropper","props","required","cropperOptions","pickText","placeholder","containerSize","updateSize","setCropper","doCrop","accept","uploadImg","_this$window","val","files","file","$_cropper","_this$cropperOptions","invalid","some","f","_doCrop","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","crop","sent","download","t0","stop","_this$containerSize","setDefault","defaultImage","infinite_scroll_InfinitScroll","InfinitScroll","dataset","more","loading","scrollEventSource","debounceCheckdataset","checkDataset","contentElement","scrollElement","documentElement","getDataset","noDataHtml","loadingHtml","threshold","autoDestroy","necessaryProps","prop","console","warn","_this$op","scrollHeight","scrollTop","shouldGetDataset","fillMoreDataset","res","updateView","html","_this$op2","join","containers_InfiniteScroll","$_infiniteScroll","InfiniteScroll","NotFound","tween_Tween","Tween","_spend","_complete","_current","position","_next","_time","_prevTime","now_default","update","onUpdate","snake_Snake","Snake","_this$_boxTypes","_this$_direction","_boxes","_speed","_boxTypes","empty","wall","head","sideLength","_direction","_snakeDirection","eyes","eye","footer","food","keyCode","opposite","up","down","handleKeyboard","direction","status","_status","pause","continue","running","indexOf","pushDirection","updateDirection","timeout","snake","_snake","_content","xIndex","yIndex","box","getBox","columns","rows","tweenList","createTween","animationComplete","shouldNext","snakeBox","animateX","animateY","pop","eat","unshift","updateSnake","animationCb","complete","_animation","updateAnimation","endGame","thisBox","nextBox","origin","pdV","pdH","column","reset","drawMap","disabled","_startCoordinate","pi","acos","sqrt","pow","dir","_keys","beforeStart","boxes","messages","fontSize","msg","types","xC","yC","_food","drawBox","drawContent","tweens","keys","keysLen","pauseGame","_this5","info","score","createFood","scoreCallback","speed","random","_this6","_wall","cords","reasonCode","endCallback","EndReasons","_this7","walls","_this8","lastStatus","1002","1003","Message","Vue","extend","title","listeners","after-leave","doDestroy","$destroy","$el","libs_utils_message","vm","$mount","src_containers_Snake","modeVisible","modes","showInfo","showModes","updateMode","updateCommonMode","updateLevelMode","updateDodgeMode","$_snake","currentSpeed","prepareStart","levels","levelIndex","level","disable","nextLevel","fillWall","sendEndMessage","vue_runtime_esm","use","vue_router_esm","transformCase","text","toLowerCase","replace","components","component","router","base","routes","path","redirect","toConsumableArray","src_router","config","productionTip"],"mappings":"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","file":"js/app.1d37f090.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ife/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/default.745351e1.jpg\";","import './index.scss';\n\ninterface Options {\n  delay: number;\n}\n\nexport default function toast(options: Options) {\n  const list: Toast[] = [];\n  const width = window.innerWidth;\n  const height = window.innerHeight;\n\n  const defaultRight = width * 0.04;\n  const defaultTop = height * 0.06;\n  const marginBottom = width * 0.01;\n  const marginRight = width * 0.01;\n\n  const computePosition = (current: Toast, prev: Toast) => {\n    const currentEl = current.el;\n    const prevEl = prev.el;\n    const prevBottomHeight = prev.top + prevEl.offsetHeight + marginBottom;\n\n    // 当前栏高度无法容下元素时切换到另一栏\n    if (prevBottomHeight + currentEl.offsetHeight > height) {\n      current.setPosition(defaultTop, prev.right + prevEl.offsetWidth + marginRight);\n    } else {\n      current.setPosition(prevBottomHeight, prev.right);\n    }\n  };\n\n  return (message: string, delay: number = options.delay) => {\n    const t = new Toast(message);\n\n    if (list.length > 0) {\n      computePosition(t, list[list.length - 1]);\n    } else {\n      t.setPosition(defaultTop, defaultRight);\n    }\n\n    list.push(t);\n\n    t.show();\n\n    setTimeout(() => {\n      t.hide();\n      list.splice(0, 1);\n      if (list.length > 0) {\n        list[0].setPosition(defaultTop, defaultRight);\n        if (list.length > 1) {\n          for (let i = 1, l = list.length; i < l; i++) {\n            computePosition(list[i], list[i - 1]);\n          }\n        }\n      }\n    }, delay);\n  };\n}\n\nclass Toast {\n  private _el: HTMLElement;\n  private _message: string;\n  public top: number;\n  public right: number;\n\n  constructor(message: string) {\n    this._message = message;\n    this.init();\n  }\n\n  private init() {\n    const el = document.createElement('div');\n\n    el.classList.add('toast');\n\n    el.innerHTML = this._message;\n\n    document.body.appendChild(el);\n\n    this._el = el;\n  }\n\n  public show = () => {\n    this._el.classList.add('show');\n  };\n\n  public hide = () => {\n    this._el.classList.remove('show');\n    this._el.classList.add('hide');\n\n    // this._el.style.animationDuration = duration + 'ms';\n\n    // 简单地用计时器做动画结束判断\n    setTimeout(() => {\n      document.body.removeChild(this._el);\n    }, 300);\n  };\n\n  public setPosition(top: number, right: number) {\n    const el = this.el;\n    this.top = top;\n    this.right = right;\n    Object.assign(el.style, {\n      top: top + 'px',\n      right: right + 'px'\n    });\n  }\n\n  get el(): HTMLElement {\n    return this._el;\n  }\n}\n","import toast from './toast';\n\nconst t = toast({\n  delay: 5000\n});\n\nexport { t as toast };\n\nexport const debounce = (func, wait: number) => {\n  let timer = null;\n\n  return (...args) => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(() => {\n      func(...args);\n    }, wait);\n  };\n};\n\nexport function isNumber(num: any) {\n  return typeof num === 'number';\n}\n","import Clock from '@/libs/clock';\nimport { toast } from '@/libs/utils';\n\nimport './index.scss';\n\nconst getInitialTime = () => {\n  const now = new Date();\n\n  return {\n    hours: now.getHours(),\n    minutes: now.getMinutes(),\n    seconds: now.getSeconds(),\n    offset: -new Date().getTimezoneOffset() * 60 * 1000\n  };\n};\n\nconst parts = [\n  {\n    name: 'hours',\n    label: '小时',\n    max: 23\n  },\n  {\n    name: 'minutes',\n    label: '分钟',\n    max: 59\n  },\n  {\n    name: 'seconds',\n    label: '秒',\n    max: 59\n  }\n];\n\nconst timeZones = [];\n\nfor (let i = 12; i >= -12; i--) {\n  let name = 'UTC';\n\n  if (i > 0) {\n    name += `+${i}`;\n  } else if (i < 0) {\n    name += i;\n  }\n\n  timeZones.push({\n    name: name,\n    offset: i * 60 * 60 * 1000\n  });\n}\n\nexport default {\n  name: 'Clock',\n  data() {\n    return {\n      time: getInitialTime(),\n      alarms: []\n    };\n  },\n  render() {\n    return (\n      <div class=\"clock\">\n        <section>\n          <canvas ref=\"canvas\" />\n        </section>\n        <section>\n          <form\n            class=\"clock__time-from\"\n            onSubmit={e => {\n              e.preventDefault();\n              this.setTime();\n            }}\n          >\n            {parts.map(p => (\n              <div class=\"form-group\">\n                <label for={p.name}>{p.label}：</label>\n                <input\n                  type=\"number\"\n                  value={this.time[p.name]}\n                  onInput={e => {\n                    this.updateInput(e, p);\n                  }}\n                  max={p.max}\n                  min=\"0\"\n                  step=\"1\"\n                />\n              </div>\n            ))}\n            <div class=\"form-group\">\n              <label for=\"offset\">时区：</label>\n              <select value={this.time.offset} onChange={this.updateZone}>\n                {timeZones.map(t => (\n                  <option key={t.name} value={t.offset}>\n                    {t.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </form>\n        </section>\n        <section>\n          <div class=\"clock__btns\">\n            <button type=\"button\" onClick={this.setTime}>\n              设置时间\n            </button>\n            <button type=\"button\" onClick={this.addAlarm}>\n              设置闹钟\n            </button>\n            <button type=\"button\" onClick={this.clearAlarms}>\n              清除闹钟\n            </button>\n            <button type=\"button\" onClick={this.resetClock}>\n              还原时钟\n            </button>\n          </div>\n        </section>\n        <section>\n          <div class=\"clock__alarms\">\n            {!this.alarms || this.alarms.length < 1 ? (\n              <p>暂无闹钟</p>\n            ) : (\n              this.alarms.map((alarm, index) => (\n                <p key={index}>\n                  闹铃时间：\n                  {alarm.time.toLocaleString()}\n                </p>\n              ))\n            )}\n          </div>\n        </section>\n      </div>\n    );\n  },\n  methods: {\n    updateInput(e, time) {\n      const value = Number(e.target.value);\n      let result = value;\n\n      if (Number.isNaN(value) || value < 0) {\n        result = 0;\n      }\n\n      if (result > time.max) {\n        result = time.max;\n      }\n\n      this.time[time.name] = result;\n    },\n    updateZone(e) {\n      const value = Number(e.target.value);\n\n      this.time.offset = value;\n      this.$_clock.offset = value;\n    },\n    setTime() {\n      const clock = this.$_clock;\n      const now = new Date();\n      const settedTime = this.getFormTime();\n      const offset = settedTime.getTime() - now.getTime() + this.time.offset;\n\n      clock.offset = offset;\n    },\n    addAlarm() {\n      const clock = this.$_clock;\n      const settedTime = this.getFormTime();\n\n      clock.addAlarm(settedTime, this.triggerAlarm, false);\n      this.alarms = clock.alarms;\n    },\n    clearAlarms() {\n      const clock = this.$_clock;\n\n      clock.clearAlarms();\n      this.alarms = [];\n    },\n    getFormTime() {\n      const now = new Date();\n      const [year, month, date] = [now.getFullYear(), now.getMonth(), now.getDate()];\n      const { hours, minutes, seconds } = this.time;\n      const settedTime = new Date(year, month, date, hours, minutes, seconds); // 丢弃毫秒\n\n      return settedTime;\n    },\n    triggerAlarm() {\n      const clock = this.$_clock;\n\n      this.alarms = clock.alarms;\n      toast('闹钟响啦...');\n    },\n    resetClock() {\n      const clock = this.$_clock;\n\n      Object.assign(this.time, getInitialTime());\n      clock.offset = undefined;\n    }\n  },\n  mounted() {\n    this.$_clock = new Clock(this.$refs.canvas);\n  },\n  beforeDestroy() {\n    if (this.$_clock) {\n      this.$_clock.destroy();\n    }\n  }\n};\n","const hasStorageApi = !!window.localStorage;\n\nconst key = 'DING_MENU_VISIBLE';\n\nexport const getCachedMenuVisible = () => {\n  if (!hasStorageApi) {\n    return true;\n  }\n\n  const visible = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(visible);\n  } catch (e) {\n    return true;\n  }\n};\n\nexport const setCachedMenuVisible = visible => {\n  if (!hasStorageApi) {\n    return;\n  }\n\n  localStorage.setItem(key, visible);\n};\n","import { debounce } from '@/libs/utils';\nimport { getCachedMenuVisible, setCachedMenuVisible } from './storage';\nimport './index.scss';\n\n// 获取视窗宽高\nconst getWindowSize = () => {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n};\n\nexport default {\n  name: 'App',\n  data: () => ({\n    menus: [\n      {\n        label: '动画时钟',\n        name: 'Clock'\n      },\n      {\n        label: '颜色选择器',\n        name: 'ColorPicker'\n      },\n      {\n        label: '图片裁剪器',\n        name: 'Cropper'\n      },\n      {\n        label: '无限滚动列表',\n        name: 'InfiniteScroll'\n      },\n      {\n        label: '贪食蛇',\n        name: 'Snake'\n      }\n    ],\n    menusVisible: getCachedMenuVisible(),\n    window: getWindowSize(),\n    contentOffsetTop: 0 // 内容区域离页面顶部的距离，用于计算内容区域的最小高度\n  }),\n  computed: {\n    isMobile() {\n      return this.window.width < 768;\n    },\n    shouldMenuVisible() {\n      if (!this.isMobile) {\n        return true;\n      }\n\n      return this.menusVisible;\n    }\n  },\n  render() {\n    return (\n      <div id=\"app\" class=\"app\">\n        <header class=\"app__header\">\n          <h1 class=\"app__logo\">\n            <a href=\"https://ding-js.github.io/ife\">ding-js</a>\n          </h1>\n          <nav class=\"app__nav\" v-show={this.shouldMenuVisible}>\n            {this.menus.map(menu => (\n              <router-link key={menu.name} to={{ name: menu.name }} tag=\"li\">\n                <a>{menu.label}</a>\n              </router-link>\n            ))}\n            <li>\n              <a\n                href={`https://github.com/ding-js/ife/tree/master/src/containers/${\n                  this.$route.name\n                }`}\n                target=\"_blank\"\n              >\n                查看源码\n              </a>\n            </li>\n          </nav>\n          {this.isMobile ? (\n            <div>\n              <svg\n                onClick={this.expandToggle}\n                fill=\"#666\"\n                height=\"36\"\n                width=\"36\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class={{\n                  'app__nav-btn': true,\n                  'app__nav-btn--expand': this.shouldMenuVisible\n                }}\n              >\n                <path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\" />\n                <path d=\"M0-.75h24v24H0z\" fill=\"none\" />\n              </svg>\n            </div>\n          ) : null}\n        </header>\n        <div class=\"app__body\">\n          <div\n            class=\"content\"\n            ref=\"content\"\n            style={{\n              minHeight: `${this.window.height - this.contentOffsetTop - 24}px`\n            }}\n          >\n            <router-view window={this.window} />\n          </div>\n        </div>\n      </div>\n    );\n  },\n  mounted() {\n    this.$_handleResize = debounce(() => {\n      this.window = getWindowSize();\n      this.updateContentOffsetHeight();\n    }, 100);\n\n    this.updateContentOffsetHeight();\n\n    window.addEventListener('resize', this.$_handleResize);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.$_handleResize);\n  },\n  methods: {\n    expandToggle() {\n      this.menusVisible = !this.menusVisible;\n    },\n    updateContentOffsetHeight() {\n      const content = this.$refs.content;\n\n      if (!content) {\n        return;\n      }\n\n      this.contentOffsetTop = content.offsetTop;\n    }\n  },\n\n  watch: {\n    menusVisible(visible) {\n      setCachedMenuVisible(visible);\n\n      this.$nextTick(() => {\n        this.updateContentOffsetHeight();\n      });\n    }\n  }\n};\n","interface CanvasOptions {\n  width?: number;\n  height?: number;\n}\n\ninterface CanvasResult {\n  canvas: HTMLCanvasElement;\n  width: number;\n  height: number;\n}\n\nexport const generateCanvas = (\n  container: HTMLElement | HTMLCanvasElement,\n  options: CanvasOptions = {},\n  defaultOptions: CanvasOptions = {}\n): CanvasResult => {\n  if (!container || !container.tagName) {\n    throw new Error('Invalid element');\n  }\n\n  const [w, h] = ['width', 'height'].map(key => {\n    if (typeof options[key] === 'number') {\n      return options[key];\n    }\n\n    return (\n      +container.getAttribute(key) ||\n      defaultOptions[key] ||\n      +container['offset' + key.charAt(0).toUpperCase() + key.slice(1)] ||\n      0\n    );\n  });\n\n  if (!w || !h) {\n    throw new Error('Invalid options');\n  }\n\n  let canvas: HTMLCanvasElement;\n\n  if (container.tagName === 'CANVAS') {\n    canvas = container as HTMLCanvasElement;\n  } else {\n    canvas = document.createElement('canvas');\n    container.appendChild(canvas);\n  }\n\n  canvas.setAttribute('width', w);\n  canvas.setAttribute('height', h);\n\n  return { canvas, width: w, height: h };\n};\n","import { isNumber } from '../utils';\nimport { generateCanvas } from '../utils/canvas';\n\ninterface Options {\n  /**\n   * 时钟半径\n   *\n   * @type {number}\n   * @memberof Options\n   */\n  radius?: number;\n  /**\n   * 时钟颜色，当前只支持单色\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  color?: string;\n  width?: number;\n  height?: number;\n}\n\ninterface Coordinate {\n  x?: number;\n  y?: number;\n}\n\ninterface Alarm {\n  time: Date;\n  repeat: boolean;\n  cb(): void;\n}\n\n/**\n * 时钟指针位置描述\n *\n * @interface Hand\n */\ninterface Hand {\n  /**\n   * 指针尖端到圆心的距离换算成 (center，center) 坐标系 y 的系数\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  topY: number;\n  /**\n   * 尾部 y\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  bottomY: number;\n  /**\n   * 顶部宽度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  topWidth: number;\n  /**\n   * 底部宽度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  bottomWidth: number;\n  /**\n   * 指针转过的角度\n   *\n   * @type {number}\n   * @memberof Pointer\n   */\n  degree: number;\n}\n\n/**\n * 当前时间的时分秒和和对应指针旋转的角度\n *\n * @interface Time\n */\ninterface Time {\n  date: Date;\n  hourDegree: number;\n  minuteDegree: number;\n  secondDegree: number;\n  hour: number;\n  minute: number;\n  second: number;\n}\n\nexport default class Clock {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _options: Options;\n  /**\n   * 与 UTC 时间偏移的毫秒数\n   *\n   * @private\n   * @type {number}\n   * @memberof Clock\n   */\n  private _offset: number;\n  private _alarms: Alarm[] = [];\n  private _requestId: number;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const _options: Options = {\n      color: '#9b9b9b'\n    };\n    const r = generateCanvas(container, options, {\n      width: 300,\n      height: 300\n    });\n    const canvas = r.canvas;\n\n    Object.assign(_options, options, {\n      width: r.width,\n      height: r.height\n    });\n    // 时钟半径\n    const defaultRadius = Math.min(_options.width, _options.height) / 2;\n\n    if (!_options.radius || _options.radius > defaultRadius || _options.radius <= 1) {\n      _options.radius = defaultRadius;\n    }\n\n    this._options = _options;\n    this._canvas = canvas;\n    this._ctx = canvas.getContext('2d');\n    this.offset = undefined; // 设置当前时区偏移\n    this._draw();\n  }\n\n  private _draw() {\n    const ctx = this._ctx;\n    const { width, height } = this._options;\n    const time = this._getCurrentTime();\n\n    ctx.clearRect(0, 0, width, height);\n\n    this._drawClockDial();\n    this._drawClockHands();\n\n    this._checkAlarms(time.date);\n    this._requestId = window.requestAnimationFrame(() => this._draw());\n  }\n\n  private _drawClockDial() {\n    const ctx = this._ctx;\n    const { width, height, color, radius } = this._options;\n    const center: Coordinate = {\n      x: width / 2,\n      y: height / 2\n    };\n    const borderWidth = radius * 0.08;\n    const borderCenterToCenter = radius - borderWidth / 2;\n    const time = this._getCurrentTime();\n\n    ctx.save();\n    // 绘制边框\n    ctx.strokeStyle = color;\n    ctx.lineWidth = borderWidth;\n\n    ctx.beginPath();\n    ctx.arc(center.x, center.y, borderCenterToCenter, 0, 2 * Math.PI);\n    ctx.stroke();\n\n    ctx.restore();\n    ctx.save();\n\n    // 绘制刻度，实际是一堆矩形\n    const calibrationCount = 5 * 12;\n    const calibrationHeight = radius * 0.1;\n    const calibrationTopToEdge = radius * 0.02 + borderWidth;\n    const mainCalibrationWidth = radius * 0.028;\n    const normalCalibrationWidth = mainCalibrationWidth / 2;\n\n    ctx.fillStyle = color;\n    // 把坐标点设为中心方便旋转\n    ctx.translate(center.x, center.y);\n\n    for (let i = 0; i < calibrationCount; i++) {\n      // 准点刻度和其他刻度\n      const calibrationWidth = i % 5 === 0 ? mainCalibrationWidth : normalCalibrationWidth;\n      const x = -calibrationWidth / 2;\n      const y = -radius + calibrationTopToEdge;\n\n      ctx.beginPath();\n      ctx.rect(x, y, calibrationWidth, calibrationHeight);\n      ctx.fill();\n      ctx.rotate((2 * Math.PI) / calibrationCount);\n    }\n\n    ctx.restore();\n    ctx.save();\n\n    // 绘制数字\n    const numberTopToCenter = radius * 0.69;\n    const fontsize = radius * 0.18;\n\n    ctx.fillStyle = color;\n    ctx.font = this._generateCtxFont(fontsize);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    // 数字始终是正常阅读的方向，所以不能使用旋转\n    for (let i = 1; i <= 12; i++) {\n      const radian = (2 * Math.PI * i) / 12;\n      const x = radius + numberTopToCenter * Math.sin(radian);\n      const y = radius - numberTopToCenter * Math.cos(radian);\n\n      ctx.fillText(i.toString(), x, y);\n    }\n    // 绘制表盘文本\n    ctx.font = this._generateCtxFont(fontsize * 0.6);\n\n    // 0|24~11 am , 12~23 pm\n    ctx.fillText(`${time.hour < 12 ? 'A.M' : 'P.M'}`, center.x, height * 0.3);\n\n    ctx.restore();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n  }\n\n  private _drawClockHands() {\n    const ctx = this._ctx;\n    const { width, height, color, radius } = this._options;\n    const center: Coordinate = {\n      x: width / 2,\n      y: height / 2\n    };\n    const time = this._getCurrentTime();\n    // 绘制指针的配置\n    const hands: Hand[] = [\n      {\n        topY: -0.72,\n        bottomY: 0.24,\n        degree: time.secondDegree,\n        bottomWidth: 0.02,\n        topWidth: 0.01\n      },\n      {\n        topY: -0.6,\n        bottomY: 0.18,\n        degree: time.minuteDegree,\n        bottomWidth: 0.06,\n        topWidth: 0.03\n      },\n      {\n        topY: -0.4,\n        bottomY: 0.13,\n        degree: time.hourDegree,\n        bottomWidth: 0.045,\n        topWidth: 0.02\n      }\n    ];\n    const tanTop = Math.tan((Math.PI * 2 * 30) / 360); // 顶部 30 度\n    const tanBottom = Math.tan((Math.PI * 2 * 60) / 360); // 底部 60 度\n\n    ctx.save();\n    ctx.fillStyle = color;\n\n    hands.forEach(p => {\n      const bottomY = radius * p.bottomY;\n      const bottomHalf = (radius * p.bottomWidth) / 2;\n      const bottomHeight = bottomHalf / tanBottom;\n      const topY = radius * p.topY;\n      const topHalf = (radius * p.topWidth) / 2;\n      const topHeight = topHalf / tanTop;\n\n      // 三根指针需要在独立的画布上旋转\n      ctx.setTransform(1, 0, 0, 1, center.x, center.y);\n      ctx.rotate(p.degree);\n      ctx.beginPath();\n\n      ctx.moveTo(0, bottomY); // bottom\n      ctx.lineTo(-bottomHalf, bottomY - bottomHeight); // bottomLeft\n      ctx.lineTo(-topHalf, topY + topHeight); // topLeft\n      ctx.lineTo(0, topY); // top\n      ctx.lineTo(topHalf, topY + topHeight); // topRight\n      ctx.lineTo(bottomHalf, bottomY - bottomHeight); // bottomRight\n      ctx.lineTo(0, bottomY); // bottom\n\n      ctx.fill();\n    });\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    ctx.restore();\n    ctx.save();\n\n    // 绘制中点\n    ctx.fillStyle = '#ffffff';\n    ctx.beginPath();\n    ctx.arc(center.x, center.y, radius * 0.02, 0, 2 * Math.PI);\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  private _generateCtxFont(fontsize: number) {\n    return `${fontsize.toFixed(2)}px Arial, Helvetica, sans-serif`;\n  }\n\n  // 获取计算过偏移的时间\n  private _getCurrentTime(): Time {\n    const now = new Date();\n    const date = isNumber(this._offset) ? new Date(now.getTime() + this._offset) : now;\n    const [hour, minute, second, millisecond] = [\n      date.getUTCHours(),\n      date.getUTCMinutes(),\n      date.getUTCSeconds(),\n      date.getUTCMilliseconds()\n    ];\n\n    // 时针、分针、秒针可以百分比移动\n    const exactS = second + millisecond / 1000;\n    const exactM = minute + exactS / 60;\n    const exactH = hour + exactM / 60;\n\n    const [hourDegree, minuteDegree, secondDegree] = [exactH / 12, exactM / 60, exactS / 60].map(\n      v => v * 2 * Math.PI\n    );\n\n    return {\n      date,\n      hourDegree,\n      minuteDegree,\n      secondDegree,\n      hour,\n      minute,\n      second\n    };\n  }\n\n  // 检验触发闹钟\n  private _checkAlarms(clockDate: Date) {\n    const alarms = this._alarms;\n    if (!alarms || !alarms.length) {\n      return;\n    }\n\n    for (let i = 0; i < alarms.length; i++) {\n      const alarm = alarms[i];\n      const offset = alarm.time.getTimezoneOffset() * 60 * 1000;\n      // clockDate 是计算过时区偏移的，而 alarm.time 是不计算的，这边对比的时候要加上偏移\n      if (Math.abs(clockDate.getTime() - alarm.time.getTime() + offset) < 500) {\n        if (!alarm.repeat) {\n          this._alarms.splice(i, i + 1);\n          i--;\n        }\n        alarm.cb();\n      }\n    }\n  }\n  /**\n   * 增加闹钟\n   *\n   * @param {Date} time\n   * @param {() => void} cb\n   * @param {boolean} [repeat=true] 是否每天重复\n   * @memberof Clock\n   */\n  public addAlarm(time: Date, cb: () => void, repeat = true) {\n    if (!this._alarms) {\n      this._alarms = [];\n    }\n\n    this._alarms.push({\n      time,\n      cb,\n      repeat\n    });\n  }\n  /**\n   * 清除所有闹钟\n   *\n   * @memberof Clock\n   */\n  public clearAlarms() {\n    this._alarms = [];\n  }\n\n  public destroy() {\n    if (this._requestId) {\n      window.cancelAnimationFrame(this._requestId);\n    }\n\n    if (this._canvas) {\n      this._canvas.parentNode.removeChild(this._canvas);\n    }\n  }\n\n  set offset(time: number) {\n    this._offset = isNumber(time) ? time : -new Date().getTimezoneOffset() * 60 * 1000;\n  }\n\n  get offset() {\n    return this._offset;\n  }\n\n  get alarms() {\n    return this._alarms;\n  }\n}\n","import * as utils from '../utils';\nimport { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\n\ninterface Options {\n  preview?: PreviewConfig | PreviewConfig[];\n  width?: number;\n  height?: number;\n  onCropperChange?(cropper: Square): void;\n}\n\ninterface Coordinate {\n  x: number;\n  y: number;\n}\n\ninterface Square extends Coordinate {\n  width: number;\n  height: number;\n}\n\ninterface SquareConfig {\n  width?: number;\n  height?: number;\n  x?: number;\n  y?: number;\n}\n\ninterface ImageSquare extends Square {\n  element: HTMLImageElement;\n  clientWidth: number;\n  clientHeight: number;\n}\n\ninterface TypeConfig {\n  cursor: string;\n  handler?(e: Coordinate): void;\n}\ninterface PreviewConfig {\n  container: HTMLElement;\n  zoom: number;\n}\n\ninterface Preview extends PreviewConfig {\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n}\n\ninterface PointType extends Coordinate {\n  type: Types;\n  offsetX: number;\n  offsetY: number;\n}\n\nenum Types {\n  cropper,\n  image,\n  pointRD,\n  background\n}\n\nexport default class Cropper {\n  public static Messages = {\n    1001: '没有图片'\n  };\n\n  private _options: Options;\n  private _ctx: CanvasRenderingContext2D;\n  private _canvas: HTMLCanvasElement;\n  private _id: number;\n  private _startPoint: PointType;\n\n  private _previewList: Preview[];\n\n  private _image: ImageSquare;\n  private _cropper: Square;\n  private _point: Square;\n\n  private _scale: number = 1;\n\n  private _types: {\n    [key: number]: TypeConfig;\n  };\n\n  private _cropperCanvas: HTMLCanvasElement;\n  private _cropperCtx: CanvasRenderingContext2D;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const r = generateCanvas(container, options, {\n      width: 700,\n      height: 450\n    });\n\n    const _options = { ...options, width: r.width, height: r.height };\n\n    this._canvas = r.canvas;\n    this._ctx = r.canvas.getContext('2d');\n    this._options = _options;\n    this._types = {\n      [Types.cropper]: {\n        cursor: 'all-scroll',\n        handler: this.handleCropperMove\n      },\n      [Types.image]: {\n        cursor: 'default',\n        handler: this.handleImageMove\n      },\n      [Types.pointRD]: {\n        cursor: 'nwse-resize',\n        handler: this.handlePointMove\n      },\n      [Types.background]: {\n        cursor: 'default'\n      }\n    };\n\n    this.init();\n  }\n\n  private init() {\n    const op = this._options;\n    const canvas = this._canvas;\n    const cW = op.width / 3;\n    const cH = op.height / 3;\n\n    this._cropperCanvas = document.createElement('canvas');\n    this._cropperCtx = this._cropperCanvas.getContext('2d');\n    this.cropper = {\n      width: cW,\n      height: cH,\n      x: (op.width - cW) / 2,\n      y: (op.height - cH) / 2\n    };\n\n    if (op.preview) {\n      this._previewList = (Array.isArray(op.preview) ? op.preview : [op.preview]).map(v => {\n        const cvs = document.createElement('canvas');\n\n        v.container.appendChild(cvs);\n        return { ...v, canvas: cvs, ctx: cvs.getContext('2d') };\n      });\n    }\n\n    // 缩放\n    canvas.addEventListener('mousewheel', this.handleMouseWheel);\n\n    this._id = bind(canvas, {\n      onStart: this.handleStart,\n      onMove: this.handleMove\n    });\n  }\n\n  private handleStart = e => {\n    this._startPoint = this.getPointByCoordinate(e.x, e.y);\n  };\n\n  private handleMove = e => {\n    const type = this._types[this._startPoint.type];\n\n    if (!type || !type.handler) {\n      return;\n    }\n\n    type.handler(e);\n  };\n\n  private handleMouseWheel = (e: MouseWheelEvent) => {\n    e.preventDefault();\n\n    const image = this._image;\n    if (!image) {\n      return;\n    }\n\n    let width = image.clientWidth;\n    let height = image.clientHeight;\n    let k; // 最终的缩放系数\n    const scale = this._scale;\n    const offset = e.deltaY / 800;\n\n    k = offset > 0 ? 1 / (1 + offset) : 1 + Math.abs(offset);\n\n    k *= scale;\n\n    this._scale = k;\n\n    width *= k;\n    height *= k;\n    image.x += (image.width - width) / 2;\n    image.y += (image.height - height) / 2;\n    image.width = width;\n    image.height = height;\n\n    this.draw();\n  };\n\n  private getPointByCoordinate(x: number, y: number): PointType {\n    const point = this._point;\n    const cropper = this._cropper;\n    const image = this._image;\n    const t: PointType = {\n      x,\n      y,\n      type: undefined,\n      offsetX: undefined,\n      offsetY: undefined\n    };\n\n    // 设置偏移(点击坐标与定点坐标)\n    if (\n      point &&\n      x > point.x &&\n      x < point.x + point.width &&\n      y > point.y &&\n      y < point.y + point.height\n    ) {\n      t.type = Types.pointRD;\n    } else if (\n      cropper &&\n      x > cropper.x &&\n      x < cropper.x + cropper.width &&\n      y > cropper.y &&\n      y < cropper.y + cropper.height\n    ) {\n      t.offsetX = x - cropper.x;\n      t.offsetY = y - cropper.y;\n      t.type = Types.cropper;\n    } else if (\n      image &&\n      x > image.x &&\n      x < image.x + image.width &&\n      y > image.y &&\n      y < image.y + image.height\n    ) {\n      t.offsetX = x - image.x;\n      t.offsetY = y - image.y;\n      t.type = Types.image;\n    } else {\n      t.type = Types.background;\n    }\n\n    return t;\n  }\n\n  private updatePoint() {\n    const c = this._cropper;\n    const w = 8;\n    const h = 8;\n\n    this._point = {\n      width: w,\n      height: h,\n      x: c.x + c.width - w / 2,\n      y: c.y + c.height - h / 2\n    };\n  }\n\n  private handleImageMove = ({ x, y }) => {\n    const s = this._startPoint;\n\n    this._image.x = x - s.offsetX;\n    this._image.y = y - s.offsetY;\n\n    this.draw();\n  };\n\n  private handleCropperMove = ({ x, y }) => {\n    const { width, height } = this._options;\n    const s = this._startPoint;\n    const oX = s.offsetX;\n    const oY = s.offsetY;\n    const maxX = width - this._cropper.width;\n    const maxY = height - this._cropper.height;\n    let currentX = x - oX;\n    let currentY = y - oY;\n\n    // 判断边界\n\n    if (currentX < 0) {\n      currentX = 0;\n    }\n\n    if (currentX > maxX) {\n      currentX = maxX;\n    }\n\n    if (currentY < 0) {\n      currentY = 0;\n    }\n\n    if (currentY > maxY) {\n      currentY = maxY;\n    }\n\n    this.cropper = {\n      x: currentX,\n      y: currentY\n    };\n  };\n\n  private handlePointMove = ({ x, y }) => {\n    const s = this._startPoint;\n    const w = x - this._cropper.x;\n    const h = y - this._cropper.y;\n\n    if (w <= 0 || h <= 0) {\n      return;\n    }\n\n    this.cropper = {\n      width: w,\n      height: h\n    };\n  };\n\n  // 填充背景\n  private fillBackground() {\n    const { width, height } = this._options;\n\n    const ctx = this._ctx;\n    const side = width / 40;\n    const x = Math.ceil(width / side);\n    const y = Math.ceil(height / side);\n\n    ctx.save();\n\n    ctx.fillStyle = '#ccc';\n\n    let k = 0;\n    for (let i = 0; i < y; i++) {\n      for (let j = 0; j < x; j++) {\n        if ((k + i) % 2 === 0) {\n          ctx.fillRect(j * side, i * side, side, side);\n        }\n        k++;\n      }\n    }\n\n    ctx.fillStyle = 'rgba(0,0,0,0.1)';\n\n    ctx.fillRect(0, 0, width, height);\n\n    ctx.restore();\n  }\n\n  private fillImage() {\n    const ctx = this._ctx;\n    const image = this._image;\n\n    if (image) {\n      ctx.drawImage(image.element, image.x, image.y, image.width, image.height);\n    }\n  }\n\n  private fillCropper() {\n    const ctx = this._ctx;\n    const cropper = this._cropper;\n    const point = this._point;\n\n    ctx.save();\n    ctx.strokeStyle = '#39f';\n    ctx.strokeRect(cropper.x, cropper.y, cropper.width, cropper.height);\n    ctx.fillStyle = '#39f';\n    ctx.fillRect(point.x, point.y, point.width, point.height);\n    ctx.restore();\n  }\n\n  private draw() {\n    const { width, height } = this._options;\n\n    // 避免预览到背景\n    this._ctx.clearRect(0, 0, width, height);\n\n    this.fillBackground();\n    this.fillImage();\n    this.fillCropper();\n    this.preview();\n  }\n\n  private updateImage(image: HTMLImageElement) {\n    if (!image.src) {\n      return;\n    }\n\n    const { width, height } = this._options;\n    const clientW = image.width;\n    const clientH = image.height;\n    let currentW = clientW;\n    let currentH = clientH;\n    let k = 1; // contain 时的缩放比\n\n    // contain 图片\n    if (clientW > width) {\n      currentW = width;\n      k = currentW / clientW;\n      currentH = k * clientH;\n    }\n\n    if (currentH > height) {\n      currentH = height;\n      k = currentH / clientH;\n      currentW = k * clientW;\n    }\n\n    // 清空配置\n    this._image = {\n      element: image,\n      width: currentW,\n      height: currentH,\n      x: (width - currentW) / 2,\n      y: (height - currentH) / 2,\n      clientWidth: clientW,\n      clientHeight: clientH\n    };\n\n    this._scale = k;\n    this.draw();\n  }\n\n  private preview() {\n    if (!this._previewList || !this._image) {\n      return;\n    }\n\n    const scale = this._scale;\n    const image = this._image;\n    const cropper = this._cropper;\n    const op = this._options;\n\n    this._previewList.forEach(v => {\n      const w = cropper.width * v.zoom;\n      const h = cropper.height * v.zoom;\n\n      v.canvas.width = w;\n      v.canvas.height = h;\n\n      v.ctx.clearRect(0, 0, w, h);\n      v.ctx.drawImage(\n        image.element,\n        (image.x - cropper.x) * v.zoom,\n        (image.y - cropper.y) * v.zoom,\n        image.width * v.zoom,\n        image.height * v.zoom\n      );\n    });\n  }\n\n  public crop() {\n    return new Promise((resolve, reject) => {\n      const { width, height } = this._options;\n      const image = this._image;\n      const cropper = this._cropper;\n      const ctx = this._cropperCtx;\n\n      if (!image.element) {\n        reject({\n          code: 1001,\n          message: Cropper.Messages['1001']\n        });\n      }\n\n      Object.assign(this._cropperCanvas, {\n        width: cropper.width,\n        height: cropper.height\n      });\n\n      ctx.clearRect(0, 0, width, height);\n\n      ctx.drawImage(\n        image.element,\n        image.x - cropper.x,\n        image.y - cropper.y,\n        image.width,\n        image.height\n      );\n\n      const url = this._cropperCanvas.toDataURL();\n\n      resolve(url);\n    });\n  }\n\n  public destroy() {\n    const remove = (el: HTMLElement) => el.parentNode.removeChild(el);\n    unbind(this._id);\n    window.removeEventListener('mousewheel', this.handleMouseWheel);\n\n    remove(this._canvas);\n    if (this._previewList) {\n      this._previewList.forEach(v => {\n        remove(v.canvas);\n      });\n    }\n  }\n\n  set image(image: File | HTMLImageElement) {\n    if (image instanceof HTMLImageElement) {\n      this.updateImage(image);\n    } else if (image instanceof File) {\n      if (!image.type.match(/^image\\/.+$/)) {\n        utils.toast('请选择正确的图片文件');\n        return;\n      }\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        const _image = new Image();\n        _image.src = (e.target as any).result;\n        _image.onload = () => {\n          this.updateImage(_image);\n        };\n      };\n\n      reader.readAsDataURL(image);\n    } else {\n      return;\n    }\n  }\n\n  get image() {\n    return this._image.element;\n  }\n\n  set cropper(cropper: SquareConfig) {\n    if (!this._cropper) {\n      this._cropper = {\n        width: undefined,\n        height: undefined,\n        x: undefined,\n        y: undefined\n      };\n    }\n\n    let change = false;\n\n    Object.keys(cropper).forEach(k => {\n      const v = Math.round(cropper[k]);\n\n      if (this._cropper[k] !== v) {\n        this._cropper[k] = v;\n        change = true;\n      }\n    });\n\n    if (!change) {\n      return;\n    }\n\n    this.updatePoint();\n\n    if (this._options.onCropperChange) {\n      this._options.onCropperChange(this._cropper);\n    }\n\n    this.draw();\n  }\n\n  get cropper() {\n    return this._cropper;\n  }\n}\n","type EventCb = (e: E) => void;\n\ninterface E {\n  x: number;\n  y: number;\n}\n\ninterface Options {\n  onStart?: EventCb;\n  onMove?: EventCb;\n  onEnd?: EventCb;\n}\n\ninterface Instance {\n  move;\n  start;\n  end;\n  bind;\n  unbind;\n}\n\nconst eventsMap = new Map<number, Instance>();\n\nlet uid = 0;\n\nconst getCoordinateByEvent = (element: HTMLElement, e: MouseEvent | TouchEvent) => {\n  if ((e as TouchEvent).touches) {\n    const rect = element.getBoundingClientRect();\n    const touch = (e as TouchEvent).touches[0];\n\n    return {\n      x: touch.clientX - rect.left,\n      y: touch.clientY - rect.top\n    };\n  } else {\n    return {\n      x: (e as MouseEvent).offsetX,\n      y: (e as MouseEvent).offsetY\n    };\n  }\n};\n\nexport const bind = (element: HTMLElement, cb: EventCb | Options) => {\n  const cbs: Options = {};\n\n  switch (typeof cb) {\n    case 'function':\n      cbs.onMove = cb as EventCb;\n      break;\n    case 'object':\n      Object.assign(cbs, cb);\n      break;\n    default:\n      break;\n  }\n\n  const instance = {\n    last: null,\n    move: (e: MouseEvent | TouchEvent) => {\n      if (e.target !== element) {\n        return;\n      }\n\n      const coordinate = getCoordinateByEvent(element, e);\n\n      instance.last = coordinate;\n\n      if (cbs.onMove) {\n        cbs.onMove(coordinate);\n      }\n    },\n    start: (e: MouseEvent | TouchEvent) => {\n      e.preventDefault();\n\n      if (e.target !== element) {\n        return;\n      }\n\n      if (cbs.onStart) {\n        cbs.onStart(getCoordinateByEvent(element, e));\n      }\n\n      document.addEventListener('mousemove', instance.move);\n      document.addEventListener('touchmove', instance.move);\n    },\n    end: () => {\n      if (cbs.onEnd) {\n        cbs.onEnd(instance.last);\n      }\n\n      document.removeEventListener('mousemove', instance.move);\n      document.removeEventListener('touchmove', instance.move);\n    },\n    bind: () => {\n      element.addEventListener('mousedown', instance.start);\n      element.addEventListener('touchstart', instance.start);\n\n      document.addEventListener('mouseup', instance.end);\n      document.addEventListener('touchend', instance.end);\n    },\n    unbind: () => {\n      instance.end();\n\n      element.removeEventListener('mousedown', instance.start);\n      element.removeEventListener('touchstart', instance.start);\n\n      document.removeEventListener('mouseup', instance.end);\n      document.removeEventListener('touchend', instance.end);\n    }\n  };\n\n  instance.bind();\n\n  uid++;\n\n  eventsMap.set(uid, instance);\n\n  return uid;\n};\n\nexport const unbind = (id: number) => {\n  const instance = eventsMap.get(id);\n\n  if (!instance) {\n    return;\n  }\n\n  instance.unbind();\n\n  eventsMap.delete(id);\n};\n","import * as covert from 'color-convert';\n\nimport { isNumber } from '../utils';\nimport { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\n\nimport { HSVColor } from './types';\n\nexport interface ColorBarOptions {\n  width: number;\n  height: number;\n  padding?: number;\n  onColorChange?(color: HSVColor): void;\n}\n\nexport class ColorBar {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _gradient: CanvasGradient;\n  private _y: number;\n  private _contentWidth: number;\n  private _contentHeight: number;\n  private _color: HSVColor;\n  private _id: number;\n  private _options: ColorBarOptions;\n\n  constructor(canvas: HTMLCanvasElement, options: ColorBarOptions) {\n    const _options = {\n      padding: 10\n    };\n\n    generateCanvas(canvas, options);\n\n    if (options) {\n      Object.assign(_options, options);\n    }\n\n    this._options = _options as ColorBarOptions;\n    this._canvas = canvas;\n    this._init();\n  }\n\n  private _init() {\n    const { padding, width, height } = this._options;\n    const canvas = this._canvas;\n    const ctx = canvas.getContext('2d');\n    const gradient = ctx.createLinearGradient(padding, padding, padding, height - padding * 2);\n\n    // 填充背景色\n    for (let i = 0; i <= 6; i++) {\n      const k = i / 6;\n      const [r, g, b] = covert.hsv.rgb([k * 360, 100, 100]);\n\n      gradient.addColorStop(i / 6, `rgb(${r},${g},${b})`);\n    }\n\n    this._contentWidth = width - padding * 2;\n    this._contentHeight = height - padding * 2;\n    this._gradient = gradient;\n    this._ctx = ctx;\n\n    this._id = bind(canvas, e => {\n      this._setCoordinate(e.y);\n    });\n  }\n\n  private _draw() {\n    const { width, height } = this._options;\n\n    this._ctx.clearRect(0, 0, width, height);\n    this._drawColors();\n    this._drawSlider();\n  }\n\n  private _drawColors() {\n    const { _gradient, _ctx } = this;\n    const { padding } = this._options;\n\n    _ctx.fillStyle = _gradient;\n    _ctx.fillRect(padding, padding, this._contentWidth, this._contentHeight);\n  }\n\n  // 渲染光标\n  private _drawSlider() {\n    if (!isNumber(this._y)) {\n      return;\n    }\n\n    const { padding, width } = this._options;\n    const lineWidth = 1;\n\n    const y = this._y;\n    const sliderWidth = width;\n    const sliderHeight = padding / 2;\n\n    const ctx = this._ctx;\n\n    ctx.save();\n\n    ctx.strokeStyle = '#000';\n    ctx.strokeRect(0, y - sliderHeight / 2, sliderWidth, sliderHeight);\n    ctx.strokeStyle = '#fff';\n    ctx.strokeRect(\n      lineWidth,\n      y - sliderHeight / 2 + lineWidth,\n      sliderWidth - lineWidth * 2,\n      sliderHeight - lineWidth * 2\n    );\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  private _setCoordinate(y: number) {\n    const { padding, height } = this._options;\n    let result;\n\n    if (y < padding) {\n      result = padding;\n    } else if (y > height - padding) {\n      result = height - padding;\n    } else {\n      result = y;\n    }\n\n    if (this._y === result) {\n      return;\n    }\n\n    this._y = result;\n\n    if (this._options.onColorChange) {\n      const k = (result - padding) / this._contentHeight;\n      const hue = Math.floor(k * 360);\n      const color: HSVColor = [hue, undefined, undefined];\n\n      this._color = color;\n      this._options.onColorChange(color);\n    }\n\n    this._draw();\n  }\n  public destroy() {\n    unbind(this._id);\n    this._canvas.parentNode.removeChild(this._canvas);\n  }\n\n  set color(color: HSVColor) {\n    if (this._color && color[0] === this._color[0]) {\n      return;\n    }\n\n    const { padding } = this._options;\n    const k = color[0] / 360;\n    const y = this._contentHeight * k + padding;\n\n    this._setCoordinate(y);\n  }\n\n  get color() {\n    return this._color;\n  }\n}\n","import * as covert from 'color-convert';\n\nimport { isNumber } from '../utils';\nimport { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\n\nimport { HSVColor } from './types';\n\nexport interface ColorBlockOptions {\n  width: number;\n  height: number;\n  padding?: number;\n  onColorChange?(color: HSVColor): void;\n}\n\nexport class ColorBlock {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _contentWidth: number;\n  private _contentHeight: number;\n  private _hue: string;\n  private _x: number;\n  private _y: number;\n  private _whiteGradient: CanvasGradient;\n  private _blackGradient: CanvasGradient;\n  private _color: HSVColor;\n  private _id: number;\n  private _options: ColorBlockOptions;\n\n  constructor(canvas: HTMLCanvasElement, options: ColorBlockOptions) {\n    const _options = {\n      padding: 10\n    };\n\n    generateCanvas(canvas, options);\n\n    if (options) {\n      Object.assign(_options, options);\n    }\n\n    this._options = _options as ColorBlockOptions;\n    this._canvas = canvas;\n    this._init();\n  }\n\n  private _init() {\n    const canvas = this._canvas;\n    const ctx = canvas.getContext('2d');\n    const { width, height, padding } = this._options;\n    const contentWidth = width - padding * 2;\n    const contentHeight = height - padding * 2;\n\n    this._ctx = ctx;\n    this._contentWidth = contentWidth;\n    this._contentHeight = contentHeight;\n\n    this._id = bind(canvas, ({ x, y }) => {\n      this._setCoordinate(x, y);\n    });\n    this._initBackground();\n  }\n\n  private _initBackground() {\n    const { _ctx, _options } = this;\n    const { padding, width, height } = _options;\n    const black = _ctx.createLinearGradient(width / 2, height - padding, width / 2, padding);\n    const white = _ctx.createLinearGradient(padding, height / 2, width - padding, height / 2);\n\n    white.addColorStop(0, '#fff');\n    white.addColorStop(1, 'rgba(0,0,0,0)');\n    black.addColorStop(0, '#000');\n    black.addColorStop(1, 'rgba(0,0,0,0)');\n\n    this._whiteGradient = white;\n    this._blackGradient = black;\n  }\n\n  private _draw() {\n    const { _ctx } = this;\n    const { width, height } = this._options;\n\n    _ctx.clearRect(0, 0, width, height);\n\n    this._drawColors();\n    this._drawPointer();\n  }\n\n  // 填充背景色（拾色器）\n  private _drawColors() {\n    const { _ctx, _contentWidth, _contentHeight, _hue } = this;\n    const { padding } = this._options;\n    if (!_hue) {\n      return;\n    }\n\n    // 填充底色\n    _ctx.save();\n    _ctx.fillStyle = _hue;\n    _ctx.fillRect(padding, padding, _contentWidth, _contentHeight);\n    _ctx.restore();\n\n    // 填充黑白背景\n    [this._whiteGradient, this._blackGradient].forEach(gradient => {\n      _ctx.save();\n      _ctx.fillStyle = gradient;\n      _ctx.fillRect(padding, padding, _contentWidth, _contentHeight);\n      _ctx.restore();\n    });\n  }\n\n  // 渲染光标\n  private _drawPointer() {\n    const { padding } = this._options;\n    const x = this._x;\n    const y = this._y;\n\n    if (isNumber(x) && isNumber(y)) {\n      const ctx = this._ctx;\n\n      ctx.save();\n\n      ctx.strokeStyle = '#000';\n      ctx.beginPath();\n      ctx.arc(x, y, padding / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.restore();\n\n      ctx.strokeStyle = '#fff';\n      ctx.beginPath();\n      ctx.arc(x, y, padding / 2 - 1, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      ctx.restore();\n    }\n  }\n\n  // 设置坐标\n  private _setCoordinate(x: number, y: number) {\n    const { padding } = this._options;\n    const { _contentHeight, _contentWidth } = this;\n    let currentX;\n    let currentY;\n\n    // 检查边界\n    if (x < padding) {\n      currentX = padding;\n    } else if (x > _contentWidth + padding) {\n      currentX = _contentWidth + padding;\n    } else {\n      currentX = x;\n    }\n\n    if (y < padding) {\n      currentY = padding;\n    } else if (y > _contentHeight + padding) {\n      currentY = _contentHeight + padding;\n    } else {\n      currentY = y;\n    }\n\n    this._x = currentX;\n    this._y = currentY;\n\n    if (this._options.onColorChange) {\n      const color: HSVColor = [\n        this.color[0],\n        ((currentX - padding) / _contentWidth) * 100,\n        (1 - (currentY - padding) / _contentHeight) * 100\n      ];\n\n      this._color = color;\n      this._options.onColorChange(color);\n    }\n\n    this._draw();\n  }\n\n  private _updateHue() {\n    const h = this._color[0];\n\n    if (!isNumber(h)) {\n      return;\n    }\n\n    const [r, g, b] = covert.hsv.rgb([h, 100, 100]);\n    this._hue = `rgb(${r},${g},${b})`;\n  }\n\n  private _updateCoordinate() {\n    const { _contentWidth, _contentHeight, _options } = this;\n    const [, s, v] = this._color;\n\n    this._x = (s * _contentWidth) / 100 + _options.padding;\n    this._y = ((100 - v) * _contentHeight) / 100 + _options.padding;\n  }\n\n  public destroy() {\n    unbind(this._id);\n    this._canvas.parentNode.removeChild(this._canvas);\n  }\n\n  set color(color: HSVColor) {\n    const mergedColor: HSVColor = this._color\n      ? (this._color.slice() as HSVColor)\n      : (new Array(3) as HSVColor);\n    let shouldUpdate = false;\n\n    color.forEach((v, i) => {\n      if (isNumber(v)) {\n        if (!this._color || mergedColor[i] !== v) {\n          mergedColor[i] = v;\n          shouldUpdate = true;\n        }\n      }\n    });\n\n    if (!shouldUpdate) {\n      return;\n    }\n\n    this._color = mergedColor;\n    this._updateHue();\n    this._updateCoordinate();\n    this._draw();\n  }\n\n  get color() {\n    return this._color;\n  }\n}\n","import * as covert from 'color-convert';\n\nimport { isNumber } from '../utils';\n\nimport { ColorBar, ColorBarOptions } from './bar';\nimport { ColorBlock, ColorBlockOptions } from './block';\nimport { ChangedColor, HSVColor } from './types';\n\ninterface ColorPickerOptions {\n  padding?: number;\n  height?: number;\n  barWidth?: number;\n  blockWidth?: number;\n  onColorChange?(color: ChangedColor): void;\n}\n\ntype ColorSetter = Partial<ChangedColor>;\nexport default class ColorPicker {\n  private _container: HTMLElement;\n  private _options: ColorPickerOptions;\n  private _block: ColorBlock;\n  private _bar: ColorBar;\n  private _color: HSVColor;\n\n  constructor(container: HTMLElement, options?: ColorPickerOptions) {\n    const _options: ColorPickerOptions = {\n      height: 300,\n      blockWidth: 300,\n      barWidth: 40,\n      padding: 10\n    };\n\n    Object.assign(_options, options);\n\n    this._options = _options;\n    this._container = container;\n    this._init();\n  }\n\n  private _init() {\n    const { height, blockWidth, barWidth } = this._options;\n    const block = document.createElement('canvas');\n    const bar = document.createElement('canvas');\n    const blockOptions: ColorBlockOptions = {\n      width: blockWidth,\n      height,\n      onColorChange: ([, s, v]) => {\n        this.color = { hsv: [undefined, s, v] };\n      }\n    };\n    const barOptions: ColorBarOptions = {\n      width: barWidth,\n      height,\n      onColorChange: ([h]) => {\n        this.color = { hsv: [h, undefined, undefined] };\n      }\n    };\n\n    this._container.appendChild(block);\n    this._container.appendChild(bar);\n    this._block = new ColorBlock(block, blockOptions);\n    this._bar = new ColorBar(bar, barOptions);\n\n    // 设置初始化颜色\n    this.color = { hsv: [0, 50, 50] };\n  }\n\n  private _handleColorChange(from: ColorSetter) {\n    const color = this._color;\n    const [h, s, v] = color;\n    if (isNumber(h)) {\n      this._bar.color = color;\n    }\n\n    if (isNumber(s) && isNumber(v)) {\n      this._block.color = color;\n    }\n\n    if (typeof this._options.onColorChange === 'function') {\n      const rgb = from.rgb || covert.hsv.rgb([h, s, v]);\n      const hsl = covert.rgb.hsl(rgb);\n      const hex = covert.rgb.hex(rgb);\n\n      this._options.onColorChange({\n        hex,\n        hsl,\n        rgb,\n        hsv: color,\n        ...from // 避免 hsv 反转换成源数据出现误差\n      });\n    }\n  }\n\n  public destroy() {\n    this._block.destroy();\n    this._bar.destroy();\n  }\n\n  set color(color: ColorSetter) {\n    if (!this._bar || !this._block) {\n      return;\n    }\n    let from: ColorSetter;\n    let hsv: HSVColor;\n\n    if (color.rgb) {\n      hsv = covert.rgb.hsv(color.rgb);\n      from = { rgb: color.rgb };\n    } else if (color.hsl) {\n      hsv = covert.hsl.hsv(color.hsl);\n      from = { hsl: color.hsl };\n    } else if (color.hex) {\n      hsv = covert.rgb.hsv(covert.hex.rgb(color.hex));\n      from = { hex: color.hex };\n    } else if (color.hsv) {\n      hsv = color.hsv;\n      from = { hsv: color.hsv };\n    } else {\n      return;\n    }\n\n    if (this._color) {\n      this._color.forEach((v, i) => {\n        if (!isNumber(hsv[i])) {\n          hsv[i] = v;\n        }\n      });\n\n      if (hsv.every((v, i) => v === this._color[i])) {\n        return;\n      }\n    }\n\n    this._color = hsv;\n    this._handleColorChange(from);\n  }\n}\n","import ColorPicker from '@/libs/color-picker';\n\nimport './index.scss';\n\nexport default {\n  name: 'ColorPicker',\n  data: () => ({\n    color: {\n      rgb: [],\n      hsl: [],\n      hex: ''\n    }\n  }),\n  render() {\n    const hsl = 'hsl';\n    const rgb = 'rgb';\n    return (\n      <div class=\"color-picker\">\n        <section class=\"picker-wrapper\">\n          <div id=\"picker\" ref=\"picker\" />\n        </section>\n        <section>\n          <form\n            onSubmit={e => {\n              e.preventDefault();\n            }}\n          >\n            <div class=\"row\">\n              {['r', 'g', 'b'].map((v, i) => (\n                <div class=\"form-group\">\n                  <label for={v}>{v.toUpperCase()}:</label>\n                  <input\n                    type=\"number\"\n                    value={this.color[rgb][i]}\n                    max=\"255\"\n                    min=\"0\"\n                    step=\"1\"\n                    onInput={e => this.updateInput(e, i, rgb)}\n                  />\n                </div>\n              ))}\n            </div>\n            <div class=\"row\">\n              {['h', 's', 'l'].map((v, i) => (\n                <div class=\"form-group\">\n                  <label for={v}>{v.toUpperCase()}:</label>\n                  <input\n                    type=\"number\"\n                    value={this.color[hsl][i]}\n                    max={v === 'h' ? '360' : '100'}\n                    min=\"0\"\n                    step={v === 'h' ? '5' : '1'}\n                    onInput={e => this.updateInput(e, i, hsl)}\n                  />\n                </div>\n              ))}\n            </div>\n\n            <div class=\"row\">\n              <div class=\"form-group\">\n                <label for=\"hex\">#</label>\n                <input\n                  type=\"text\"\n                  value={this.color.hex.toUpperCase()}\n                  onInput={this.updateColorByHEX}\n                  maxlength=\"6\"\n                />\n              </div>\n            </div>\n          </form>\n        </section>\n        <section>\n          <div class=\"color-picker__preview\" style={{ backgroundColor: '#' + this.color.hex }} />\n        </section>\n      </div>\n    );\n  },\n  methods: {\n    updateInput(e, i, key) {\n      if (!key) {\n        return;\n      }\n      const target = e.target;\n      const value = Number(target.value);\n      const max = Number(target.getAttribute('max'));\n      const min = Number(target.getAttribute('min'));\n      let result = value;\n\n      if (Number.isNaN(value)) {\n        result = min;\n      }\n\n      if (result > max) {\n        result = max;\n      }\n\n      if (result < min) {\n        result = min;\n      }\n\n      const color = this.color[key].slice();\n      color[i] = result;\n      this.$_picker.color = {\n        [key]: color\n      };\n    },\n    updateColorByHEX(e) {\n      const value = e.target.value.toUpperCase();\n      e.target.value = value;\n\n      if (value.length !== 6 && value.length !== 3) {\n        return;\n      }\n\n      for (const v of value) {\n        const n = parseInt(v, 16);\n        if (Number.isNaN(n) || n > 15) {\n          return;\n        }\n      }\n\n      this.$_picker.color = {\n        hex: value\n      };\n    }\n  },\n  mounted() {\n    this.$_picker = new ColorPicker(this.$refs.picker, {\n      onColorChange: color => {\n        Object.assign(this.color, color);\n      }\n    });\n  },\n  beforeDestroy() {\n    if (this.$_picker) {\n      this.$_picker.destroy();\n    }\n  }\n};\n","import { generateCanvas } from '../utils/canvas';\nimport { bind, unbind } from '../utils/move';\nimport Tween from '../utils/tween';\n\nenum BoxTypes {\n  empty,\n  wall,\n  body,\n  head,\n  footer,\n  food\n}\n\nenum Direction {\n  left,\n  right,\n  up,\n  down\n}\n\nenum GameStatus {\n  beforeStart,\n  end,\n  pause,\n  running,\n  disabled\n}\n\ninterface Coordinate {\n  x: number;\n  y: number;\n}\n\ninterface DirectionConfig extends Coordinate {\n  keyCode: number[];\n  opposite: Direction;\n}\n\ninterface Reason {\n  code: number;\n  message: string;\n}\n\ninterface Options {\n  width?: number;\n  height?: number;\n  sideLength?: number;\n  origin?: Coordinate[];\n\n  /**\n   *\n   *\n   * @param {number} score\n   * @param {number} speed\n   * @param {Snake} ref\n   * @returns {Boolean} 是否继续行动，一般用于判定满足足够的分数后进入下一关\n   * @memberof ISnakeOptions\n   */\n  scoreCallback?(score: number, speed: number, ref: Snake): boolean;\n  endCallback?(reason: Reason, ref: Snake): void;\n  pauseCallback?(ref: Snake): void;\n  continueCallback?(ref: Snake): void;\n}\n\ninterface Content {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rows: number;\n  columns: number;\n}\n\ninterface Box {\n  x: number;\n  y: number;\n  xIndex: number;\n  yIndex: number;\n  type: BoxTypes;\n  animateX?: number;\n  animateY?: number;\n}\n\ninterface BoxType {\n  background?: string;\n  render?(ctx: CanvasRenderingContext2D, x: number, y: number, sideLength: number): void;\n}\n\nexport class Snake {\n  public static EndReasons = {\n    1001: '红烧蛇肉',\n    1002: '撞墙啦',\n    1003: '撞边界啦'\n  };\n  private _options: Options;\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n  private _content: Content;\n  private _boxes: Box[][] = [];\n  private _snake: Box[];\n  private _food: Box[];\n  private _wall: Box[];\n  private _snakeDirection: Direction;\n  private _keys: Direction[];\n  private _status: GameStatus;\n  private _speed: number = 1;\n  private _startCoordinate: Coordinate;\n  private _animation: {\n    id: number;\n    cb(time: number): void;\n    tweens: Tween[];\n  };\n\n  private _boxTypes: {\n    [key: number]: BoxType;\n  } = {\n    [BoxTypes.empty]: {},\n    [BoxTypes.wall]: {\n      background: 'brown'\n    },\n    [BoxTypes.head]: {\n      background: '#555',\n      render: (ctx, x, y, sideLength) => {\n        const k = sideLength / 14; // 基数\n        const d = this._direction[this._snakeDirection];\n        const r = sideLength / 2;\n        const eyes = [\n          {\n            x: x + r + d.x * k * 3 + (d.x === 0 ? k * 2.5 : 0),\n            y: y + r + d.y * k * 3 + (d.y === 0 ? k * 2.5 : 0)\n          },\n          {\n            x: x + r + d.x * k * 3 + (d.x === 0 ? -k * 2.5 : 0),\n            y: y + r + d.y * k * 3 + (d.y === 0 ? -k * 2.5 : 0)\n          }\n        ];\n        ctx.fillStyle = '#fff';\n\n        eyes.forEach(eye => {\n          ctx.beginPath();\n          ctx.arc(eye.x, eye.y, 2 * k, 0, Math.PI * 2);\n          ctx.fill();\n        });\n      }\n    },\n    [BoxTypes.body]: {\n      render: (ctx, x, y, sideLength) => {\n        ctx.fillStyle = '#888';\n        ctx.beginPath();\n        ctx.arc(x + sideLength / 2, y + sideLength / 2, sideLength / 2, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    },\n    [BoxTypes.footer]: {\n      render: (ctx, x, y, sideLength) => {\n        ctx.fillStyle = '#888';\n        ctx.beginPath();\n        ctx.arc(x + sideLength / 2, y + sideLength / 2, sideLength * 0.35, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    },\n    [BoxTypes.food]: {\n      background: 'orange'\n    }\n  };\n\n  private _direction: {\n    [key: number]: DirectionConfig;\n  } = {\n    [Direction.left]: {\n      x: -1,\n      y: 0,\n      keyCode: [65, 37],\n      opposite: Direction.right\n    },\n    [Direction.right]: {\n      x: 1,\n      y: 0,\n      keyCode: [68, 39],\n      opposite: Direction.left\n    },\n    [Direction.up]: {\n      x: 0,\n      y: -1,\n      keyCode: [87, 38],\n      opposite: Direction.down\n    },\n    [Direction.down]: {\n      x: 0,\n      y: 1,\n      keyCode: [83, 40],\n      opposite: Direction.up\n    }\n  };\n\n  private _id: number;\n\n  constructor(container: HTMLElement | HTMLCanvasElement, options?: Options) {\n    const _options: Options = {\n      sideLength: 18\n    };\n\n    const r = generateCanvas(container, options, {\n      width: 600,\n      height: 600\n    });\n\n    Object.assign(_options, options, { width: r.width, height: r.height });\n\n    if (!_options.origin) {\n      _options.origin = [];\n      for (let i = 6; i > 2; i--) {\n        _options.origin.push({\n          x: i,\n          y: 4\n        });\n      }\n    }\n\n    const side = _options.sideLength;\n    const pdV = (_options.width % side) / 2;\n    const pdH = (_options.height % side) / 2;\n    const width = _options.width - pdH * 2;\n    const height = _options.height - pdV * 2;\n\n    this._content = {\n      x: pdH,\n      y: pdV,\n      width,\n      height,\n      rows: width / side,\n      columns: height / side\n    };\n\n    this._canvas = r.canvas;\n\n    this._options = _options;\n\n    this.init();\n  }\n\n  private init() {\n    const op = this._options;\n    const canvas = this._canvas;\n    const ctx = canvas.getContext('2d');\n    const content = this._content;\n    const side = op.sideLength;\n\n    this._ctx = ctx;\n\n    // 初始化地图格\n    for (let x = 0; x < content.columns; x++) {\n      const column: Box[] = [];\n      for (let y = 0; y < content.rows; y++) {\n        column.push({\n          x: content.x + x * side,\n          y: content.y + y * side,\n          xIndex: x,\n          yIndex: y,\n          type: BoxTypes.empty\n        });\n      }\n      this._boxes.push(column);\n    }\n\n    this.reset();\n\n    this.drawMap();\n\n    this._status = GameStatus.disabled;\n\n    this._id = bind(canvas, {\n      onStart: e => {\n        this._startCoordinate = e;\n      },\n      onEnd: e => {\n        if (!this._startCoordinate) {\n          return;\n        }\n\n        const pi = Math.PI;\n        const x = { x: this._startCoordinate.x, y: -this._startCoordinate.y };\n        const y = { x: e.x, y: -e.y };\n\n        const k = Math.acos(\n          (y.x - x.x) / Math.sqrt(Math.pow(y.x - x.x, 2) + Math.pow(y.y - x.y, 2))\n        );\n\n        let dir = Direction.right;\n\n        if (k > 0.25 * pi && k < 0.75 * pi) {\n          dir = Direction.up;\n        } else if (k > 0.75 * pi) {\n          dir = Direction.left;\n        }\n\n        if (y.y - x.y < 0 && dir === Direction.up) {\n          dir = Direction.down;\n        }\n\n        this.pushDirection(dir);\n      }\n    });\n\n    window.addEventListener('keydown', this.handleKeyboard);\n  }\n\n  private handleKeyboard = e => {\n    const direction = this._direction;\n    const code = e.keyCode;\n    const status = this._status;\n\n    switch (code) {\n      case 32:\n        e.preventDefault();\n        switch (status) {\n          case GameStatus.pause:\n            this.continue();\n            break;\n          case GameStatus.running:\n            this.pause();\n            break;\n          default:\n            break;\n        }\n        break;\n      default:\n        break;\n    }\n\n    for (const i in direction) {\n      if (direction[i].keyCode.indexOf(code) > -1) {\n        e.preventDefault();\n        this.pushDirection(+i);\n      }\n    }\n  };\n\n  private pushDirection(key: Direction) {\n    const status = this._status;\n\n    if (status === GameStatus.running) {\n      this._keys.push(key);\n    } else if (status === GameStatus.beforeStart) {\n      this._keys.push(key);\n      this.start();\n    }\n  }\n\n  private getBox(x: number, y: number): Box {\n    const boxes = this._boxes;\n    const column = boxes[x];\n\n    if (!column) {\n      return;\n    }\n\n    return column[y];\n  }\n\n  private info(messages: string | string[], fontSize: number = 24) {\n    const ctx = this._ctx;\n    const op = this._options;\n    const content = this._content;\n\n    ctx.save();\n\n    ctx.fillStyle = 'rgba(0,0,0,.6)';\n    ctx.fillRect(content.x, content.y, content.width, content.height);\n\n    ctx.fillStyle = '#fff';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.font = 'bold ' + fontSize + 'px serif';\n\n    if (!Array.isArray(messages)) {\n      messages = [messages];\n    }\n\n    messages.forEach((msg, index) => {\n      ctx.fillText(\n        msg,\n        op.width * 0.5,\n        op.height * 0.4 + op.sideLength * fontSize * 1.1 * index,\n        content.width - op.sideLength * 2\n      );\n    });\n\n    ctx.restore();\n  }\n\n  private drawBox(box: Box) {\n    const types = this._boxTypes;\n    const ctx = this._ctx;\n    const side = this._options.sideLength;\n\n    const type = types[box.type];\n    const x = box.animateX ? box.animateX : box.x;\n    const y = box.animateY ? box.animateY : box.y;\n\n    if (type.background) {\n      ctx.save();\n      ctx.fillStyle = type.background;\n      ctx.fillRect(x, y, side, side);\n      ctx.restore();\n    }\n\n    if (type.render) {\n      ctx.save();\n      type.render(ctx, x, y, side);\n      ctx.restore();\n    }\n  }\n\n  private drawMap() {\n    const op = this._options;\n    const ctx = this._ctx;\n    const content = this._content;\n    const side = op.sideLength;\n\n    ctx.save();\n\n    // 绘制地图线\n    ctx.beginPath();\n\n    ctx.strokeStyle = '#ddd';\n    ctx.lineWidth = 1;\n\n    for (let x = 0; x <= content.columns; x++) {\n      const xC = content.x + x * side;\n      ctx.moveTo(xC, content.y);\n      ctx.lineTo(xC, content.y + content.height);\n    }\n\n    for (let y = 0; y <= content.rows; y++) {\n      const yC = content.y + y * side;\n      ctx.moveTo(content.x, yC);\n      ctx.lineTo(content.x + content.width, yC);\n    }\n\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  private drawContent() {\n    this._ctx.save();\n    this._food.forEach(box => {\n      this.drawBox(box);\n    });\n\n    this._boxes.forEach(column => {\n      column.forEach(box => {\n        const type = box.type;\n        if (type !== BoxTypes.food) {\n          this.drawBox(box);\n        }\n      });\n    });\n\n    this._ctx.restore();\n  }\n\n  private draw() {\n    const op = this._options;\n    const ctx = this._ctx;\n\n    ctx.clearRect(0, 0, op.width, op.height);\n\n    this.drawMap();\n\n    this.drawContent();\n  }\n\n  private updateAnimation(tweens: Tween[], cb) {\n    this._animation = {\n      cb,\n      id: requestAnimationFrame(cb),\n      tweens\n    };\n  }\n\n  private createTween(now: Box, next: Box, timeout: number): Tween {\n    const t = new Tween({\n      x: now.x,\n      y: now.y,\n      onUpdate(position) {\n        Object.assign(now, {\n          animateX: position.x,\n          animateY: position.y\n        });\n      }\n    })\n      .to({ x: next.x, y: next.y }, timeout)\n      .start();\n\n    return t;\n  }\n\n  private updateDirection() {\n    const keys = this._keys;\n    const keysLen = keys.length;\n\n    // 根据键盘输入转向\n    if (keysLen > 0) {\n      for (let i = keysLen - 1; i >= 0; i--) {\n        const type = keys[i];\n\n        // 不冲突时更新方向\n        if (\n          type !== this._snakeDirection &&\n          type !== this._direction[this._snakeDirection].opposite\n        ) {\n          this._snakeDirection = type;\n          // 允许连续键多次操作\n          this._keys = keys.slice(i + 1);\n          break;\n        }\n      }\n    }\n  }\n\n  private next = () => {\n    if (this._status !== GameStatus.running) {\n      return;\n    }\n\n    this.updateDirection();\n\n    // 动效时间\n    const timeout = this._speed > 30 ? 1 : 300 - this._speed * 10;\n\n    const snake = this._snake;\n    const direction = this._direction[this._snakeDirection];\n    const content = this._content;\n\n    const head = snake[0];\n    const footer = snake[snake.length - 1];\n    const x = head.xIndex + direction.x;\n    const y = head.yIndex + direction.y;\n\n    const box = this.getBox(x, y);\n\n    if (box && x >= 0 && x < content.columns && y >= 0 && y < content.rows) {\n      const tweenList = [this.createTween(head, box, timeout)];\n\n      const animationComplete = () => {\n        let shouldNext = true;\n        snake.forEach(snakeBox => {\n          delete snakeBox.animateX;\n          delete snakeBox.animateY;\n        });\n\n        switch (box.type) {\n          case BoxTypes.empty:\n            footer.type = BoxTypes.empty;\n            snake.pop();\n            break;\n          case BoxTypes.food:\n            const c = this.eat(box);\n            // 不继续执行\n            if (c !== undefined && !c) {\n              shouldNext = false;\n            }\n            break;\n          default:\n            return;\n        }\n\n        snake.unshift(box);\n\n        this.updateSnake();\n\n        if (shouldNext && this._status === GameStatus.running) {\n          this.next();\n        }\n\n        this.draw();\n      };\n\n      const animationCb = time => {\n        let complete = true;\n\n        tweenList.forEach(t => {\n          t.update();\n          if (complete && !t.complete) {\n            complete = false;\n          }\n        });\n\n        this.draw();\n\n        if (!complete) {\n          this.updateAnimation(tweenList, animationCb);\n        } else {\n          this._animation = null;\n          animationComplete();\n        }\n      };\n\n      if (box.type === BoxTypes.body || box.type === BoxTypes.footer) {\n        this.draw(); // 转向\n        this.endGame('1001');\n        return;\n      } else if (box.type === BoxTypes.wall) {\n        this.draw(); // 转向\n        this.endGame('1002');\n        return;\n      }\n\n      for (let i = 1, l = snake.length; i < l; i++) {\n        const thisBox = snake[i];\n        const nextBox = snake[i - 1];\n        tweenList.push(this.createTween(thisBox, nextBox, timeout));\n      }\n\n      this.updateAnimation(tweenList, animationCb);\n    } else {\n      this.endGame('1003');\n    }\n  };\n\n  private updateSnake() {\n    const snake = this._snake;\n\n    snake.forEach(snakeBox => {\n      snakeBox.type = BoxTypes.body;\n    });\n\n    snake[0].type = BoxTypes.head;\n\n    snake[snake.length - 1].type = BoxTypes.footer;\n  }\n\n  private pauseGame(cb) {\n    if (this._status === GameStatus.running) {\n      if (this._animation) {\n        cancelAnimationFrame(this._animation.id);\n\n        cb();\n      } else {\n        requestAnimationFrame(() => {\n          this.pauseGame(cb);\n        });\n      }\n    }\n  }\n\n  private pause() {\n    this.pauseGame(() => {\n      this._status = GameStatus.pause;\n      this.info('Pause');\n    });\n  }\n\n  private continue() {\n    if (this._status === GameStatus.pause) {\n      if (this._animation) {\n        this._animation.tweens.forEach(t => {\n          if (!t.complete) {\n            t.start();\n          }\n        });\n\n        this._status = GameStatus.running;\n\n        this.updateAnimation(this._animation.tweens, this._animation.cb);\n      } else {\n        this.continue();\n      }\n    }\n  }\n\n  private eat(box) {\n    const score = this.score;\n    const food = this._food;\n\n    this._food = food.splice(food.indexOf(box));\n\n    this.createFood();\n\n    if (this._options.scoreCallback) {\n      return this._options.scoreCallback(score, this.speed, this);\n    }\n  }\n\n  private createFood() {\n    const content = this._content;\n    const x = Math.floor(Math.random() * content.columns);\n    const y = Math.floor(Math.random() * content.rows);\n    const box = this.getBox(x, y);\n\n    if (box.type === BoxTypes.empty) {\n      box.type = BoxTypes.food;\n    } else {\n      return this.createFood();\n    }\n\n    this._food.push(box);\n    return box;\n  }\n\n  public reset() {\n    this._status = GameStatus.beforeStart;\n\n    this._food = [];\n\n    this._wall = [];\n\n    this._keys = [];\n\n    this._snakeDirection = Direction.right;\n\n    this._boxes.forEach(column => {\n      column.forEach(box => {\n        box.type = BoxTypes.empty;\n      });\n    });\n\n    this._snake = this._options.origin.map(cords => this.getBox(cords.x, cords.y));\n\n    this.updateSnake();\n\n    this.createFood();\n  }\n\n  public start() {\n    this._status = GameStatus.running;\n\n    this.draw();\n\n    this.next();\n  }\n\n  public endGame(reasonCode: string) {\n    if (this._options.endCallback) {\n      this._options.endCallback(\n        {\n          code: Number(reasonCode),\n          message: Snake.EndReasons[reasonCode]\n        },\n        this\n      );\n    }\n    this._status = GameStatus.end;\n  }\n\n  public nextLevel(msg: string) {\n    this.pauseGame(() => {\n      this.info(msg);\n      this._status = GameStatus.end;\n    });\n  }\n\n  public fillWall(walls: number) {\n    const content = this._content;\n    let i = 0;\n    while (i < walls) {\n      const box = this.getBox(\n        Math.floor(Math.random() * content.columns),\n        Math.floor(Math.random() * content.rows)\n      );\n      if (box.type === BoxTypes.empty) {\n        box.type = BoxTypes.wall;\n        this._wall.push(box);\n        i++;\n      }\n    }\n  }\n\n  public disable() {\n    const lastStatus = this._status;\n    this._status = GameStatus.disabled;\n\n    return () => {\n      this._status = lastStatus;\n    };\n  }\n\n  public prepareStart() {\n    this.reset();\n    this.draw();\n  }\n\n  public destroy() {\n    unbind(this._id);\n    window.removeEventListener('keydown', this.handleKeyboard);\n  }\n\n  set speed(speed: number) {\n    this._speed = speed;\n  }\n\n  get speed() {\n    return this._speed;\n  }\n\n  get score() {\n    return this._snake && this._snake.length\n      ? this._snake.length - this._options.origin.length + 1\n      : 0;\n  }\n}\n","import Cropper from '@/libs/cropper';\nimport { toast } from '@/libs/utils';\nimport * as defaultImage from './assets/default.jpg';\n\nimport './index.scss';\n\nconst downloader = document.createElement('a');\n\nlet downloadCount = 0;\n\nexport default {\n  name: 'Cropper',\n  props: {\n    window: {\n      required: true,\n      type: Object\n    }\n  },\n  data() {\n    return {\n      cropperOptions: {\n        width: 200,\n        height: 200,\n        x: 0,\n        y: 0\n      },\n      pickText: '点击选择要裁剪的图片',\n      preview: [0.6, 0.9, 1.2]\n    };\n  },\n  render(h) {\n    return (\n      <div class=\"cropper\">\n        <section>\n          <form>\n            <div class=\"form-group\">\n              <input\n                placeholder=\"宽\"\n                type=\"number\"\n                min=\"0\"\n                max={this.containerSize.width}\n                name=\"width\"\n                value={this.cropperOptions.width}\n                onInput={e => {\n                  this.updateSize(e, 'width');\n                }}\n              />\n              <input\n                placeholder=\"高\"\n                type=\"number\"\n                min=\"0\"\n                max={this.containerSize.height}\n                name=\"height\"\n                value={this.cropperOptions.height}\n                onInput={e => {\n                  this.updateSize(e, 'height');\n                }}\n              />\n            </div>\n            <div class=\"form-group\">\n              <button type=\"button\" onClick={this.setCropper}>\n                修改大小\n              </button>\n              <button type=\"button\" onClick={this.doCrop}>\n                裁剪\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"file\" class=\"cropper__pick\" id=\"pick-file\">\n                {this.pickText}\n              </label>\n              <input\n                type=\"file\"\n                id=\"file\"\n                accept=\"image/jpeg,image/x-icon,image/png\"\n                onChange={this.uploadImg}\n              />\n            </div>\n          </form>\n        </section>\n        <section>\n          <div ref=\"container\" class=\"cropper__container\" />\n        </section>\n        <section>\n          {this.preview.map(v => (\n            <div class=\"cropper__preview\" ref={`preview-${v}`} />\n          ))}\n        </section>\n      </div>\n    );\n  },\n\n  computed: {\n    containerSize() {\n      const { width, height } = this.window;\n\n      if (width > 767) {\n        return {\n          width: 700,\n          height: 450\n        };\n      }\n\n      const min = Math.min(width, height);\n\n      return {\n        width: min,\n        height: min\n      };\n    }\n  },\n\n  methods: {\n    updateSize(e, key) {\n      const { cropperOptions, containerSize } = this;\n      const val = Number(e.target.value);\n      let result = val;\n\n      if (Number.isNaN(val) || val <= 0) {\n        result = 1;\n      }\n\n      if (val > containerSize[key]) {\n        result = containerSize[key];\n      }\n\n      cropperOptions[key] = result;\n    },\n    uploadImg(e) {\n      const el = e.target;\n\n      if (!el.value || el.files.length < 1) {\n        return;\n      }\n\n      const file = el.files[0];\n\n      // 判断文件类型\n      if (file.type.match(/^image\\/.+/)) {\n        this.$_cropper.image = file;\n        this.pickText = file.name;\n      } else {\n        toast('请选择正确的图片');\n      }\n    },\n    setCropper() {\n      if (!this.$_cropper) {\n        return;\n      }\n\n      const { width, height } = this.cropperOptions;\n\n      const invalid = [width, height].some(v => {\n        return [v => !!v, v => v > 0].some(f => !f(v));\n      });\n\n      if (invalid) {\n        toast('请输入正确的宽高!');\n        return;\n      }\n      this.$_cropper.cropper = { width, height };\n    },\n    async doCrop() {\n      try {\n        const url = await this.$_cropper.crop();\n        downloader.href = url;\n\n        downloader.download = `dingjs-cropper-${++downloadCount}.png`;\n        downloader.click();\n      } catch (e) {\n        toast(\n          '不支持HTML5,建议使用<a href=\"https://www.google.com/chrome/\">「Chrome浏览器」浏览本页面!</a>'\n        );\n      }\n    },\n    init() {\n      const { width, height } = this.containerSize;\n\n      this.$_cropper = new Cropper(this.$refs.container, {\n        preview: this.preview.map((v, i) => ({\n          zoom: v,\n          container: this.$refs[`preview-${v}`]\n        })),\n        width,\n        height,\n        onCropperChange: cropper => {\n          Object.assign(this.cropperOptions, cropper);\n        }\n      });\n\n      this.setDefault();\n    },\n    setDefault() {\n      const image = new Image();\n\n      image.src = defaultImage;\n\n      image.onload = () => {\n        this.$_cropper.image = image;\n      };\n    }\n  },\n  mounted() {\n    this.init();\n  },\n  beforeDestroy() {\n    this.$_cropper.destroy();\n  }\n};\n","import { debounce } from '@/libs/utils';\n\ninterface DatasetResult<T> {\n  dataset: Array<T>;\n  more: boolean;\n}\n\ninterface Options<T> {\n  /**\n   * 列表元素\n   *\n   * @type {HTMLElement}\n   * @memberof Options\n   */\n  contentElement: HTMLElement;\n\n  /**\n   * 真实滚动元素\n   *\n   * @type {HTMLElement}\n   * @memberof Options\n   */\n  scrollElement?: HTMLElement;\n  /**\n   * 异步或同步获取数据\n   *\n   * @param {number} index\n   * @returns {(DatasetResult<T> | Promise<DatasetResult<T>>)}\n   * @memberof Options\n   */\n  getDataset(index: number): DatasetResult<T> | Promise<DatasetResult<T>>;\n\n  /**\n   * loading 元素 html\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  loadingHtml?: string;\n\n  /**\n   * 无数据时显示元素 html\n   *\n   * @type {string}\n   * @memberof Options\n   */\n  noDataHtml?: string;\n  /**\n   * 渲染列表元素\n   *\n   * @param {T} value\n   * @param {number} index\n   * @param {Array<T>} array\n   * @returns {string}\n   * @memberof Options\n   */\n  render?(value: T, index: number, array: Array<T>): string;\n  /**\n   * 底部离可视区域的距离，触发更新阈值\n   *\n   * @type {number}\n   * @memberof Options\n   */\n  threshold?: number;\n  /**\n   * 当获取所有数据后是否自动销毁\n   *\n   * @type {boolean}\n   * @memberof Options\n   */\n  autoDestroy?: boolean;\n}\n\nexport default class InfinitScroll<T> {\n  private op: Options<T>;\n  private dataset: Array<T> = [];\n  private more: boolean = true;\n  private loading: boolean = false;\n  // 默认值，仅当 scrollElement 也为默认值时生效\n  private scrollEventSource: Window | HTMLElement = window;\n\n  constructor(options: Options<T>) {\n    const op: Options<T> = {\n      contentElement: null,\n      scrollElement: document.documentElement,\n      getDataset: null,\n      noDataHtml: '',\n      loadingHtml: '',\n      threshold: 400,\n      autoDestroy: true,\n      render: (value, index) => {\n        return `<div>${index}</div>`;\n      }\n    };\n\n    const necessaryProps = ['contentElement', 'getDataset'];\n\n    for (const prop of necessaryProps) {\n      if (!options[prop]) {\n        console.warn(`Option: ${prop} can not be empty`);\n        return;\n      }\n    }\n\n    if (options.scrollElement) {\n      this.scrollEventSource = options.scrollElement;\n    }\n\n    Object.assign(op, options);\n\n    this.op = op;\n\n    this.init();\n  }\n\n  private shouldGetDataset() {\n    const { scrollElement, threshold } = this.op;\n\n    const top = scrollElement.scrollHeight - scrollElement.scrollTop - scrollElement.clientHeight;\n\n    return !this.dataset.length || (!this.loading && this.more && top < threshold);\n  }\n\n  private async checkDataset() {\n    if (this.shouldGetDataset()) {\n      await this.fillMoreDataset();\n\n      this.checkDataset();\n    }\n  }\n\n  private debounceCheckdataset = debounce(() => this.checkDataset(), 100);\n\n  private async fillMoreDataset() {\n    this.loading = true;\n\n    const res = await this.op.getDataset(this.dataset.length);\n\n    this.loading = false;\n\n    if (res.dataset && res.dataset.length) {\n      this.dataset = this.dataset.concat(res.dataset);\n\n      this.more = res.more;\n\n      if (!this.more && this.op.autoDestroy) {\n        this.destroy();\n      }\n\n      this.updateView();\n    }\n  }\n\n  private updateView() {\n    const { render, contentElement, noDataHtml, loadingHtml } = this.op;\n\n    let html;\n\n    html = this.dataset.map(render).join('');\n\n    if (!html && !this.loading) {\n      html = noDataHtml;\n    } else if (this.more) {\n      html += loadingHtml;\n    }\n\n    contentElement.innerHTML = html;\n  }\n  /**\n   * 销毁\n   *\n   * @memberof InfinitScroll\n   */\n  public destroy() {\n    this.scrollEventSource.removeEventListener('scroll', this.debounceCheckdataset);\n  }\n\n  private init() {\n    this.scrollEventSource.addEventListener('scroll', this.debounceCheckdataset);\n\n    this.checkDataset();\n\n    this.updateView();\n  }\n}\n","import InfiniteScroll from '@/libs/infinite-scroll';\nimport './index.scss';\n\nconst dataset = new Array(100).fill('').map((v, i) => i + 1);\n\nexport default {\n  name: 'InfiniteScroll',\n  render() {\n    return (\n      <main class=\"infinite-scroll\">\n        <ul ref=\"list\" class=\"infinite-scroll__list\" />\n      </main>\n    );\n  },\n  mounted() {\n    this.$_infiniteScroll = new InfiniteScroll({\n      contentElement: this.$refs.list,\n      loadingHtml: `\n        <p class=\"infinite-scroll__loading\">\n          <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </p>\n      `,\n      noDataHtml: '<p>Empty</p>',\n      render(v) {\n        return `<li>${v} list item</li>`;\n      },\n      getDataset(index) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            resolve({\n              dataset: dataset.slice(index, index + 20),\n              more: index + 20 < dataset.length\n            });\n          }, 1000);\n        });\n      }\n    });\n  }\n};\n","export default {\n  name: 'NotFound',\n  render() {\n    return <p>404 Not Found.</p>;\n  }\n};\n","interface Position {\n  x: number;\n  y: number;\n}\n\ninterface Options extends Position {\n  onUpdate(position: Position): void;\n}\n\nexport default class Tween {\n  private _options: Options;\n  private _init: Position;\n  private _current: Position;\n  private _next: Position;\n  private _time: number;\n  private _spend: number = 0;\n  private _prevTime: number;\n  private _complete: boolean = false;\n\n  constructor(options: Options) {\n    const { x, y } = options;\n\n    this._init = { x, y };\n    this._current = { x, y };\n    this._options = options;\n  }\n\n  public to(position: Position, time: number) {\n    this._next = position;\n    this._time = time;\n\n    return this;\n  }\n\n  public start() {\n    this._prevTime = Date.now();\n    this.update();\n\n    return this;\n  }\n\n  public update() {\n    const now = Date.now();\n    this._spend = this._spend + (now - this._prevTime);\n\n    if (this._spend >= this._time) {\n      this._complete = true;\n      return;\n    }\n\n    this._prevTime = now;\n    const k = this._spend / this._time;\n    this._current = {\n      x: this._init.x + (this._next.x - this._init.x) * k,\n      y: this._init.y + (this._next.y - this._init.y) * k\n    };\n    this._options.onUpdate(this._current);\n  }\n\n  get complete() {\n    return this._complete;\n  }\n}\n","import Vue from 'vue';\nimport './index.scss';\n\nconst Message = Vue.extend({\n  data() {\n    return {\n      message: '',\n      title: '',\n      cb: null,\n      visible: false\n    };\n  },\n\n  render() {\n    const cb = this.cb;\n    const listeners = cb ? { click: cb } : {};\n\n    return (\n      <transition name=\"fade\" onAfter-leave={this.doDestroy}>\n        <div class=\"message__wrapper\" v-show={this.visible}>\n          <div class=\"message__mask\" />\n          <div class=\"message\">\n            <header class=\"message__header\">{this.title}</header>\n            <div class=\"message__content\">{this.message}</div>\n            <footer class=\"message__footer\">\n              <button type=\"button\" {...{ on: listeners }}>\n                确定\n              </button>\n            </footer>\n          </div>\n        </div>\n      </transition>\n    );\n  },\n  methods: {\n    doDestroy() {\n      this.$destroy();\n\n      this.$el.parentNode.removeChild(this.$el);\n    }\n  }\n});\n\nexport default (options, container = document.body) => {\n  const vm = new Message({\n    data() {\n      return {\n        ...options,\n        cb() {\n          if (options.cb) {\n            options.cb();\n          }\n\n          vm.visible = false;\n        }\n      };\n    }\n  });\n\n  vm.$mount();\n\n  container.appendChild(vm.$el);\n\n  vm.visible = true;\n};\n","import { Snake } from '@/libs/snake';\nimport message from '@/libs/utils/message';\n\nimport './index.scss';\n\nexport default {\n  name: 'Snake',\n  render() {\n    return (\n      <main class=\"snake\">\n        <section>\n          <div class=\"snake__container\" ref=\"container\">\n            <transition name=\"fade\">\n              <div class=\"snake__mode-wrapper\" v-show={this.modeVisible}>\n                <div class=\"snake__mode\">\n                  {this.modes.map(mode => (\n                    <button type=\"button\" onClick={() => this.start(mode.name)}>\n                      {mode.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </transition>\n          </div>\n        </section>\n        <section v-show={this.showInfo} class=\"snake__info\">\n          <div class=\"form-group\">\n            <span>分数:</span>\n            <span>{this.score}</span>\n          </div>\n          <div class=\"form-group\">\n            <span>速度:</span>\n            <span>{this.speed}</span>\n          </div>\n        </section>\n      </main>\n    );\n  },\n  props: {\n    window: {\n      required: true,\n      type: Object\n    }\n  },\n  data() {\n    return {\n      modes: [\n        {\n          name: 'common',\n          label: '普通模式'\n        },\n        {\n          name: 'level',\n          label: '过关模式'\n        },\n        {\n          name: 'dodge',\n          label: '躲避模式'\n        }\n      ],\n      mode: null,\n      modeVisible: true,\n      score: null,\n      speed: null\n    };\n  },\n  computed: {\n    showInfo() {\n      return ![this.speed, this.score].some(v => !v && v !== 0);\n    }\n  },\n  methods: {\n    showModes() {\n      this.modeVisible = true;\n    },\n    message(msg, cb) {\n      return message(\n        {\n          title: '消息提醒',\n          message: msg,\n          cb\n        },\n        this.$refs.container\n      );\n    },\n    start(mode) {\n      // 避免在动效期间连续点击\n      if (!this.modeVisible) {\n        return;\n      }\n\n      this.modeVisible = false;\n\n      this.mode = mode;\n\n      this.updateMode();\n    },\n    updateMode(score, speed) {\n      this.score = score || 0;\n\n      switch (this.mode) {\n        case 'common':\n          this.updateCommonMode(score, speed);\n          break;\n        case 'level':\n          this.updateLevelMode(score, speed);\n          break;\n        case 'dodge':\n          this.updateDodgeMode(score, speed);\n          break;\n        default:\n          break;\n      }\n    },\n    updateCommonMode(score, speed) {\n      const snake = this.$_snake;\n\n      if (!score) {\n        snake.prepareStart();\n        this.speed = 1;\n      } else {\n        const currentSpeed = 1 + Math.floor(score / 3) * 2;\n\n        this.speed = currentSpeed;\n      }\n    },\n    updateLevelMode: (function() {\n      const levels = [];\n      let levelIndex = 0;\n\n      for (let i = 0; i < 5; i++) {\n        levels.push({\n          score: (i + 1) * 5,\n          speed: 1 + i * 5\n        });\n      }\n\n      return function(score, speed) {\n        const level = levels[levelIndex];\n\n        const snake = this.$_snake;\n        const init = () => {\n          snake.prepareStart();\n          this.speed = levels[0].speed;\n        };\n\n        if (!score) {\n          init();\n\n          return;\n        }\n\n        if (score >= level.score) {\n          snake.disable();\n\n          if (levelIndex >= levels.length - 1) {\n            this.message('厉害啊大兄弟，通关啦！', () => {\n              this.showModes();\n              levelIndex = 0;\n            });\n          } else {\n            this.message('下一关啦！', () => {\n              const nextLevel = levels[levelIndex + 1];\n\n              snake.prepareStart();\n\n              this.speed = nextLevel.speed;\n\n              levelIndex++;\n            });\n          }\n        }\n      };\n    })(),\n    updateDodgeMode: (function() {\n      let levelIndex = 0;\n\n      const levels = [];\n\n      for (let i = 0; i < 5; i++) {\n        levels.push({\n          score: (i + 1) * 5,\n          speed: 1 + i * 5,\n          walls: (i + 1) * 10\n        });\n      }\n\n      return function(score) {\n        const snake = this.$_snake;\n\n        const init = () => {\n          snake.prepareStart();\n          this.speed = levels[0].speed;\n          snake.fillWall(levels[0].walls);\n          snake.draw();\n        };\n\n        if (!score) {\n          init();\n          return;\n        }\n\n        const level = levels[levelIndex];\n\n        if (score >= level.score) {\n          snake.disable();\n\n          if (levelIndex >= levels.length - 1) {\n            this.message('牛逼啊大兄弟，通关啦！', () => {\n              this.showModes();\n              levelIndex = 0;\n            });\n          } else {\n            this.message('下一关啦！', () => {\n              const nextLevel = levels[levelIndex + 1];\n\n              snake.prepareStart();\n\n              this.speed = nextLevel.speed;\n\n              snake.fillWall(nextLevel.walls);\n\n              snake.draw();\n\n              levelIndex++;\n            });\n          }\n        }\n      };\n    })(),\n    sendEndMessage({ message }) {\n      this.message(message, () => {\n        this.showModes();\n      });\n    }\n  },\n  mounted() {\n    const { window } = this;\n    const side = window.width > 767 ? 600 : Math.min(window.width, window.height);\n\n    this.$_snake = new Snake(this.$refs.container, {\n      scoreCallback: this.updateMode,\n      endCallback: this.sendEndMessage,\n      width: side,\n      height: side\n    });\n  },\n  beforeDestroy() {\n    this.$_snake.destroy();\n  },\n  watch: {\n    speed(v) {\n      const snake = this.$_snake;\n      if (snake && snake.speed !== v) {\n        snake.speed = v;\n      }\n    }\n  }\n};\n","/* tslint:disable ordered-imports*/\n\nimport Vue from 'vue';\nimport Router, { RouterMode } from 'vue-router';\n\nimport Clock from '@/containers/Clock';\nimport ColorPicker from '@/containers/ColorPicker';\nimport Cropper from '@/containers/Cropper';\nimport InfiniteScroll from '@/containers/InfiniteScroll';\nimport NotFound from '@/containers/NotFound';\nimport Snake from '@/containers/Snake';\n\nVue.use(Router);\n\nconst transformCase = (text: string): string => {\n  return (\n    text.charAt(0).toLowerCase() +\n    text.slice(1).replace(/[A-Z]/g, match => {\n      return '-' + match.toLowerCase();\n    })\n  );\n};\n\nexport const components = [\n  {\n    name: 'Clock',\n    component: Clock\n  },\n  {\n    name: 'ColorPicker',\n    component: ColorPicker\n  },\n  {\n    name: 'Cropper',\n    component: Cropper\n  },\n  {\n    name: 'InfiniteScroll',\n    component: InfiniteScroll\n  },\n  {\n    name: 'Snake',\n    component: Snake\n  }\n];\n\nconst router = new Router({\n  mode: process.env.VUE_APP_ROUTER_MODE as RouterMode,\n  base: process.env.VUE_APP_PUBLIC_PATH,\n  routes: [\n    {\n      path: '/',\n      redirect: {\n        name: 'Clock'\n      }\n    },\n    ...components.map(v => ({\n      path: '/' + transformCase(v.name),\n      ...v\n    })),\n    {\n      path: '*',\n      name: 'NotFound',\n      component: NotFound\n    }\n  ]\n});\n\nexport default router;\n","/* tslint:disable ordered-imports*/\nimport '@/styles/index.scss';\nimport Vue from 'vue';\nimport App from '@/containers/App';\n\nimport router from './router';\n\nVue.config.productionTip = false;\n\n// tslint:disable-next-line:no-unused-expression\nnew Vue({\n  el: '#app',\n  router,\n  render(h) {\n    return h(App);\n  }\n});\n\nconsole.info(`version %c${process.env.VUE_APP_VERSION}`, 'color:#108ee9');\n"],"sourceRoot":""}